/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * Touch Enabled, Responsive jQuery Horizontal Content Slider/Carousel/Image Gallery Plugin
 *
 * A jQuery plugin which allows you to integrate a customizable, cross-browser 
 * content slider into your web presence. Designed for use as a content slider, carousel, 
 * scrolling website banner, or image gallery.
 * 
 * Copyright (c) 2013 Marc Whitbread
 * 
 * Version: v1.2.13 (04/24/2013)
 * Minimum requirements: jQuery v1.4+
 *
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction.
 *	  Attribution is not required but always appreciated. For commercial projects, you
 *	  must purchase a license. You may download and play with the script before deciding to
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for
 *    distribution elsewhere "as is" without prior consent. If you would like to feature
 *    iosSlider on your site, please do not link directly to the resource zip files. Please
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var ma=0,W=0,ba=0,U=0,Ba="ontouchstart"in window,Ca="onorientationchange"in window,ca=!1,Z=!1,X=!1,na=!1,fa="pointer",sa="pointer",ga=[],L=[],ta=[],da=[],J=[],$=[],z=[],g=[],r=[],ua=[],ea=[],f={showScrollbar:function(d,f){d.scrollbarHide&&a("."+f).css({opacity:d.scrollbarOpacity,filter:"alpha(opacity:"+100*d.scrollbarOpacity+")"})},hideScrollbar:function(a,k,b,B,c,j,g,r,F,v){if(a.scrollbar&&a.scrollbarHide)for(var z=b;z<b+25;z++)k[k.length]=f.hideScrollbarIntervalTimer(10*z,B[b],(b+24- z)/24,c,j,g,r,F,v,a)},hideScrollbarInterval:function(d,k,b,B,c,j,g,z,F){U=-1*d/r[z]*(c-j-g-B);f.setSliderOffset("."+b,U);a("."+b).css({opacity:F.scrollbarOpacity*k,filter:"alpha(opacity:"+100*F.scrollbarOpacity*k+")"})},slowScrollHorizontalInterval:function(d,k,b,B,c,j,ha,O,F,v,G,x,s,u,w,l,m,A,h){if(h.infiniteSlider){if(b<=-1*r[l]){var K=a(d).width();if(b<=-1*ua[l]){var q=-1*G[0];a(k).each(function(b){f.setSliderOffset(a(k)[b],q+m);b<x.length&&(x[b]=-1*q);q+=w[b]});b+=-1*x[0];g[l]=-1*x[0]+m;r[l]= g[l]+K-j;z[l]=0}else{var p=0,M=f.getSliderOffset(a(k[0]),"x");a(k).each(function(b){f.getSliderOffset(this,"x")<M&&(M=f.getSliderOffset(this,"x"),p=b)});s=g[l]+K;f.setSliderOffset(a(k)[p],s);g[l]=-1*x[1]+m;r[l]=g[l]+K-j;x.splice(0,1);x.splice(x.length,0,-1*s+m);z[l]++}}if(b>=-1*g[l]||0<=b){K=a(d).width();if(0<=b){q=-1*G[0];a(k).each(function(b){f.setSliderOffset(a(k)[b],q+m);b<x.length&&(x[b]=-1*q);q+=w[b]});b-=-1*x[0];g[l]=-1*x[0]+m;r[l]=g[l]+K-j;for(z[l]=u;0<-1*x[0]-K+m;){var y=0,t=f.getSliderOffset(a(k[0]), "x");a(k).each(function(b){f.getSliderOffset(this,"x")>t&&(t=f.getSliderOffset(this,"x"),y=b)});s=g[l]-w[y];f.setSliderOffset(a(k)[y],s);x.splice(0,0,-1*s+m);x.splice(x.length-1,1);g[l]=-1*x[0]+m;r[l]=g[l]+K-j;z[l]--;J[l]++}}0>b&&(y=0,t=f.getSliderOffset(a(k[0]),"x"),a(k).each(function(b){f.getSliderOffset(this,"x")>t&&(t=f.getSliderOffset(this,"x"),y=b)}),s=g[l]-w[y],f.setSliderOffset(a(k)[y],s),x.splice(0,0,-1*s+m),x.splice(x.length-1,1),g[l]=-1*x[0]+m,r[l]=g[l]+K-j,z[l]--)}}G=!1;j=f.calcActiveOffset(h, b,x,j,z[l],u,v,l);s=(j+z[l]+u)%u;h.infiniteSlider?s!=$[l]&&(G=!0):j!=J[l]&&(G=!0);if(G&&(u=new f.args("change",h,d,a(d).children(":eq("+s+")"),s,A),a(d).parent().data("args",u),""!=h.onSlideChange))h.onSlideChange(u);J[l]=j;$[l]=s;b=Math.floor(b);f.setSliderOffset(d,b);h.scrollbar&&(U=Math.floor((-1*b-g[l]+m)/(r[l]-g[l]+m)*(ha-O-c)),d=c-F,b>=-1*g[l]+m?(d=c-F- -1*U,f.setSliderOffset(a("."+B),0)):(b<=-1*r[l]+1&&(d=ha-O-F-U),f.setSliderOffset(a("."+B),U)),a("."+B).css({width:d+"px"}))},slowScrollHorizontal:function(d, k,b,B,c,j,ha,O,F,v,G,x,s,u,w,l,m,A,h,K,q){var p=f.getSliderOffset(d,"x");j=[];var M=0,y=25/1024*O;frictionCoefficient=q.frictionCoefficient;elasticFrictionCoefficient=q.elasticFrictionCoefficient;snapFrictionCoefficient=q.snapFrictionCoefficient;c>q.snapVelocityThreshold&&q.snapToChildren&&!h?M=1:c<-1*q.snapVelocityThreshold&&(q.snapToChildren&&!h)&&(M=-1);c<-1*y?c=-1*y:c>y&&(c=y);a(d)[0]!==a(A)[0]&&(M*=-1,c*=-2);A=z[w];if(q.infiniteSlider)var t=g[w],n=r[w];h=[];for(var y=[],D=0;D<s.length;D++)h[D]= s[D],D<k.length&&(y[D]=f.getSliderOffset(a(k[D]),"x"));for(;1<c||-1>c;){c*=frictionCoefficient;p+=c;if((p>-1*g[w]||p<-1*r[w])&&!q.infiniteSlider)c*=elasticFrictionCoefficient,p+=c;if(q.infiniteSlider){if(p<=-1*n){for(var n=a(d).width(),L=0,P=y[0],D=0;D<y.length;D++)y[D]<P&&(P=y[D],L=D);D=t+n;y[L]=D;t=-1*h[1]+K;n=t+n-O;h.splice(0,1);h.splice(h.length,0,-1*D+K);A++}if(p>=-1*t){n=a(d).width();L=0;P=y[0];for(D=0;D<y.length;D++)y[D]>P&&(P=y[D],L=D);D=t-u[L];y[L]=D;h.splice(0,0,-1*D+K);h.splice(h.length- 1,1);t=-1*h[0]+K;n=t+n-O;A--}}j[j.length]=p}y=!1;c=f.calcActiveOffset(q,p,h,O,A,m,J[w],w);t=(c+A+m)%m;q.snapToChildren&&(q.infiniteSlider?t!=$[w]&&(y=!0):c!=J[w]&&(y=!0),0>M&&!y?(c++,c>=s.length&&!q.infinteSlider&&(c=s.length-1)):0<M&&!y&&(c--,0>c&&!q.infinteSlider&&(c=0)));if(q.snapToChildren||(p>-1*g[w]||p<-1*r[w])&&!q.infiniteSlider){(p>-1*g[w]||p<-1*r[w])&&!q.infiniteSlider?j.splice(0,j.length):(j.splice(0.1*j.length,j.length),p=j[j.length-1]);for(;p<h[c]-0.5||p>h[c]+0.5;)p=(p-h[c])*snapFrictionCoefficient+ h[c],j[j.length]=p;j[j.length]=h[c]}M=1;0!=j.length%2&&(M=0);for(p=0;p<b.length;p++)clearTimeout(b[p]);A=(c+A+m)%m;t=0;for(p=M;p<j.length;p+=2)if(p==M||1<Math.abs(j[p]-t)||p>=j.length-2)t=j[p],b[b.length]=f.slowScrollHorizontalIntervalTimer(10*p,d,k,j[p],B,ha,O,F,v,G,c,x,s,l,m,u,w,K,A,q);t=(c+z[w]+m)%m;""!=q.onSlideComplete&&(b[b.length]=f.onSlideCompleteTimer(10*(p+1),q,d,a(d).children(":eq("+t+")"),t,w));da[w]=b;f.hideScrollbar(q,b,p,j,B,ha,O,v,G,w)},onSlideComplete:function(d,k,b,B){b=new f.args("complete", d,a(k),b,B,B);a(k).parent().data("args",b);if(""!=d.onSlideComplete)d.onSlideComplete(b)},getSliderOffset:function(d,f){var b=0;f="x"==f?4:5;if(ca&&!Z&&!X){for(var b=["-webkit-transform","-moz-transform","transform"],B=0;B<b.length;B++)if(void 0!=a(d).css(b[B])&&0<a(d).css(b[B]).length){var c=a(d).css(b[B]).split(",");break}b=parseInt(c[f],10)}else b=parseInt(a(d).css("left"),10);return b},setSliderOffset:function(d,f){ca&&!Z&&!X?a(d).css({webkitTransform:"matrix(1,0,0,1,"+f+",0)",MozTransform:"matrix(1,0,0,1,"+ f+",0)",transform:"matrix(1,0,0,1,"+f+",0)"}):a(d).css({left:f+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(fa="-webkit-grab",sa="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(fa="move",sa="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?na=Z=!0:null!=navigator.userAgent.match("MSIE 8")?na=X=!0:null!=navigator.userAgent.match("MSIE 9")&&(na=!0)},has3DTransform:function(){var d=!1,f=a("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)",MozTransform:"matrix(1,1,1,1,1,1)", transform:"matrix(1,1,1,1,1,1)"});""==f.attr("style")?d=!1:void 0!=f.attr("style")&&(d=!0);return d},getSlideNumber:function(a,f,b){return(a-z[f]+b)%b},calcActiveOffset:function(a,f,b,B,c,j){c=!1;a=[];var g;f>b[0]&&(g=0);f<b[b.length-1]&&(g=j-1);for(j=0;j<b.length;j++)b[j]<=f&&b[j]>f-B&&(!c&&b[j]!=f&&(a[a.length]=b[j-1]),a[a.length]=b[j],c=!0);0==a.length&&(a[0]=b[b.length-1]);for(j=c=0;j<a.length;j++){var r=Math.abs(f-a[j]);r<B&&(c=a[j],B=r)}for(j=0;j<b.length;j++)c==b[j]&&(g=j);return g},changeSlide:function(d, k,b,B,c,j,g,r,F,v,G,x,s,u,w,l,m,A){f.autoSlidePause(u);for(var h=0;h<B.length;h++)clearTimeout(B[h]);var K=Math.ceil(A.autoSlideTransTimer/10)+1,q=f.getSliderOffset(k,"x"),p=x[d],M=p-q;if(A.infiniteSlider){d=(d-z[u]+2*l)%l;h=!1;0==d&&2==l&&(d=l,x[d]=x[d-1]-a(b).eq(0).outerWidth(!0),h=!0);p=x[d];M=p-q;p=[x[d]-a(k).width(),x[d]+a(k).width()];h&&x.splice(x.length-1,1);for(h=0;h<p.length;h++)Math.abs(p[h]-q)<Math.abs(M)&&(M=p[h]-q)}var p=[],y;f.showScrollbar(A,c);for(h=0;h<=K;h++)y=h,y/=K,y--,y=q+M*(Math.pow(y, 5)+1),p[p.length]=y;for(h=q=0;h<p.length;h++){if(0==h||1<Math.abs(p[h]-q)||h>=p.length-2)q=p[h],B[h]=f.slowScrollHorizontalIntervalTimer(10*(h+1),k,b,p[h],c,j,g,r,F,v,d,G,x,w,l,s,u,m,d,A);0==h&&""!=A.onSlideStart&&(K=(J[u]+z[u]+l)%l,A.onSlideStart(new f.args("start",A,k,a(k).children(":eq("+K+")"),K,d)))}q=!1;K=(d+z[u]+l)%l;A.infiniteSlider?K!=$[u]&&(q=!0):d!=J[u]&&(q=!0);q&&""!=A.onSlideComplete&&(B[B.length]=f.onSlideCompleteTimer(10*(h+1),A,k,a(k).children(":eq("+K+")"),K,u));da[u]=B;f.hideScrollbar(A, B,h,p,c,j,g,F,v,u);f.autoSlide(k,b,B,c,j,g,r,F,v,G,x,s,u,w,l,m,A)},autoSlide:function(a,k,b,B,c,j,g,r,F,v,G,x,s,u,w,l,m){if(!L[s].autoSlide)return!1;f.autoSlidePause(s);ga[s]=setTimeout(function(){!m.infiniteSlider&&J[s]>G.length-1&&(J[s]-=w);f.changeSlide((J[s]+z[s]+w+1)%w,a,k,b,B,c,j,g,r,F,v,G,x,s,u,w,l,m);f.autoSlide(a,k,b,B,c,j,g,r,F,v,G,x,s,u,w,l,m)},m.autoSlideTimer+m.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(ga[a])},isUnselectable:function(f,k){return""!=k.unselectableSelector&& 1==a(f).closest(k.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a,k,b,B,c,j,g,r,z,v,J,x,s,u,w,l,m,A,h,K){return setTimeout(function(){f.slowScrollHorizontalInterval(k,b,B,c,j,g,r,z,v,J,x,s,u,w,l,m,A,h,K)},a)},onSlideCompleteTimer:function(a,k,b,g,c,j){return setTimeout(function(){f.onSlideComplete(k,b,g,c,j)},a)},hideScrollbarIntervalTimer:function(a,k,b,g,c,j,r,z,F,v){return setTimeout(function(){f.hideScrollbarInterval(k,b,g,c,j,r,z,F,v)},a)},args:function(d,k,b, g,c){this.prevSlideNumber=void 0==a(b).parent().data("args")?void 0:a(b).parent().data("args").prevSlideNumber;this.prevSlideObject=void 0==a(b).parent().data("args")?void 0:a(b).parent().data("args").prevSlideObject;this.targetSlideObject=this.targetSlideNumber=void 0;this.slideChanged=!1;"load"!=d&&"start"!=d&&("change"==d?(this.slideChanged=!0,this.prevSlideNumber=void 0==a(b).parent().data("args")?k.startAtSlide:a(b).parent().data("args").currentSlideNumber,this.prevSlideObject=a(b).children(":eq("+ this.prevSlideNumber+")")):"complete"==d&&(this.slideChanged=a(b).parent().data("args").slideChanged));this.settings=k;this.data=a(b).parent().data("iosslider");this.sliderObject=b;this.sliderContainerObject=a(b).parent();this.currentSlideObject=g;this.currentSlideNumber=c+1;this.currentSliderOffset=-1*f.getSliderOffset(b,"x")},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};f.setBrowserInfo();var Q={init:function(d, k){ca=f.has3DTransform();var b=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9, desktopClickDrag:!1,keyboardControls:!1,tabToAdvance:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1,snapVelocityThreshold:5,slideStartVelocityThreshold:0,horizontalSlideLockThreshold:5,verticalSlideLockThreshold:3,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"", onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},d);void 0==k&&(k=this);return a(k).each(function(){function d(){f.autoSlidePause(c);va=a(E).find("a");za=a(E).find("[onclick]");oa=a(E).find("*");a(A).css("width","");a(A).css("height","");a(E).css("width","");C=a(E).children().not("script").get();ia=[];N=[];a(C).css("width","");r[c]=0;n=[];w=a(A).parent().width();h=a(A).outerWidth(!0);b.responsiveSlideContainer&&(h=a(A).outerWidth(!0)>w?w:a(A).outerWidth(!0));a(A).css({position:b.stageCSS.position, top:b.stageCSS.top,left:b.stageCSS.left,overflow:b.stageCSS.overflow,zIndex:b.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",msTouchAction:"pan-y",width:h});a(b.unselectableSelector).css({cursor:"default"});for(var H=0;H<C.length;H++){ia[H]=a(C[H]).width();N[H]=a(C[H]).outerWidth(!0);var k=N[H];b.responsiveSlides&&(k=N[H]>h?h+-1*(N[H]-ia[H]):ia[H],a(C[H]).css({width:k}));a(C[H]).css({webkitBackfaceVisibility:"hidden",position:"absolute",top:0});n[H]=-1*r[c];r[c]=r[c]+k+(N[H]- ia[H])}b.snapSlideCenter&&(m=0.5*(h-N[0]),b.responsiveSlides&&N[0]>h&&(m=0));ua[c]=2*r[c];for(H=0;H<C.length;H++)f.setSliderOffset(a(C[H]),-1*n[H]+r[c]+m),n[H]-=r[c];if(!b.infiniteSlider&&!b.snapSlideCenter){for(H=0;H<n.length&&!(n[H]<=-1*(2*r[c]-h));H++)ga=H;n.splice(ga+1,n.length);n[n.length]=-1*(2*r[c]-h)}for(H=0;H<n.length;H++)D[H]=n[H];y&&(b.startAtSlide=L[c].startAtSlide>n.length?n.length:L[c].startAtSlide,b.infiniteSlider?(b.startAtSlide=(L[c].startAtSlide-1+I)%I,J[c]=L[c].startAtSlide):(b.startAtSlide= 0>L[c].startAtSlide-1?n.length-1:L[c].startAtSlide,J[c]=L[c].startAtSlide-1),$[c]=J[c]);g[c]=r[c]+m;a(E).css({position:"relative",cursor:fa,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:r[c]+"px"});S=r[c];r[c]=2*r[c]-h+2*m;(Y=S<h?!0:!1)&&a(E).css({cursor:"default"});l=a(A).parent().outerHeight(!0);K=a(A).height();b.responsiveSlideContainer&&(K=K>l?l:K);a(A).css({height:K});f.setSliderOffset(E,n[J[c]]);if(b.infiniteSlider&&!Y){H=f.getSliderOffset(a(E),"x");for(k=-1*((z[c]+I)%I);0>k;){var B= 0,t=f.getSliderOffset(a(C[0]),"x");a(C).each(function(a){f.getSliderOffset(this,"x")<t&&(t=f.getSliderOffset(this,"x"),B=a)});var M=g[c]+S;f.setSliderOffset(a(C)[B],M);g[c]=-1*n[1]+m;r[c]=g[c]+S-h;n.splice(0,1);n.splice(n.length,0,-1*M+m);k++}for(;0<-1*n[0]-S+m&&b.snapSlideCenter&&y;){var O=0,P=f.getSliderOffset(a(C[0]),"x");a(C).each(function(a){f.getSliderOffset(this,"x")>P&&(P=f.getSliderOffset(this,"x"),O=a)});M=g[c]-N[O];f.setSliderOffset(a(C)[O],M);n.splice(0,0,-1*M+m);n.splice(n.length-1,1); g[c]=-1*n[0]+m;r[c]=g[c]+S-h;z[c]--;J[c]++}for(;H<=-1*r[c];)B=0,t=f.getSliderOffset(a(C[0]),"x"),a(C).each(function(a){f.getSliderOffset(this,"x")<t&&(t=f.getSliderOffset(this,"x"),B=a)}),M=g[c]+S,f.setSliderOffset(a(C)[B],M),g[c]=-1*n[1]+m,r[c]=g[c]+S-h,n.splice(0,1),n.splice(n.length,0,-1*M+m),z[c]++,J[c]--}f.setSliderOffset(E,n[J[c]]);b.desktopClickDrag||a(E).css({cursor:"default"});b.scrollbar&&(a("."+F).css({margin:b.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+F+" ."+v).css({border:b.scrollbarBorder}), q=parseInt(a("."+F).css("marginLeft"))+parseInt(a("."+F).css("marginRight")),p=parseInt(a("."+F+" ."+v).css("borderLeftWidth"),10)+parseInt(a("."+F+" ."+v).css("borderRightWidth"),10),s=""!=b.scrollbarContainer?a(b.scrollbarContainer).width():h,u=(s-q)/I,b.scrollbarHide||(Q=b.scrollbarOpacity),a("."+F).css({position:"absolute",left:0,width:s-q+"px",margin:b.scrollbarMargin}),"top"==b.scrollbarLocation?a("."+F).css("top","0"):a("."+F).css("bottom","0"),a("."+F+" ."+v).css({borderRadius:b.scrollbarBorderRadius, background:b.scrollbarBackground,height:b.scrollbarHeight,width:u-p+"px",minWidth:b.scrollbarHeight,border:b.scrollbarBorder,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative",opacity:Q,filter:"alpha(opacity:"+100*Q+")",boxShadow:b.scrollbarShadow}),f.setSliderOffset(a("."+F+" ."+v),Math.floor((-1*n[J[c]]-g[c]+m)/(r[c]-g[c]+m)*(s-q-u))),a("."+F).css({display:"block"}),G=a("."+F+" ."+v),x=a("."+F));b.scrollbarDrag&&!Y&&a("."+F+" ."+v).css({cursor:fa});b.infiniteSlider&&(R= (r[c]+h)/3);""!=b.navSlideSelector&&a(b.navSlideSelector).each(function(d){a(this).css({cursor:"pointer"});a(this).unbind(T).bind(T,function(H){"touchstart"==H.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");T=H.type+".iosSliderEvent";f.changeSlide(d,E,C,j,v,u,h,s,q,p,D,n,N,c,R,I,m,b)})});""!=b.navPrevSelector&&(a(b.navPrevSelector).css({cursor:"pointer"}),a(b.navPrevSelector).unbind(T).bind(T,function(d){"touchstart"==d.type?a(this).unbind("click.iosSliderEvent"): a(this).unbind("touchstart.iosSliderEvent");T=d.type+".iosSliderEvent";d=(J[c]+z[c]+I)%I;(0<d||b.infiniteSlider)&&f.changeSlide(d-1,E,C,j,v,u,h,s,q,p,D,n,N,c,R,I,m,b)}));""!=b.navNextSelector&&(a(b.navNextSelector).css({cursor:"pointer"}),a(b.navNextSelector).unbind(T).bind(T,function(d){"touchstart"==d.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");T=d.type+".iosSliderEvent";d=(J[c]+z[c]+I)%I;(d<n.length-1||b.infiniteSlider)&&f.changeSlide(d+1,E,C,j,v,u,h, s,q,p,D,n,N,c,R,I,m,b)}));b.autoSlide&&!Y&&""!=b.autoSlideToggleSelector&&(a(b.autoSlideToggleSelector).css({cursor:"pointer"}),a(b.autoSlideToggleSelector).unbind(T).bind(T,function(){"touchstart"==e.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");T=e.type+".iosSliderEvent";wa?(f.autoSlide(E,C,j,v,u,h,s,q,p,D,n,N,c,R,I,m,b),wa=!1,a(b.autoSlideToggleSelector).removeClass("on")):(f.autoSlidePause(c),wa=!0,a(b.autoSlideToggleSelector).addClass("on"))}));f.autoSlide(E, C,j,v,u,h,s,q,p,D,n,N,c,R,I,m,b);a(A).bind("mouseleave.iosSliderEvent",function(){f.autoSlide(E,C,j,v,u,h,s,q,p,D,n,N,c,R,I,m,b)});a(A).bind("touchend.iosSliderEvent",function(){f.autoSlide(E,C,j,v,u,h,s,q,p,D,n,N,c,R,I,m,b)});a(A).bind("mouseenter.iosSliderEvent",function(){f.autoSlidePause(c)});a(A).data("iosslider",{obj:Aa,settings:b,scrollerNode:E,slideNodes:C,numberOfSlides:I,centeredSlideOffset:m,sliderNumber:c,originalOffsets:D,childrenOffsets:n,sliderMax:r[c],scrollbarClass:v,scrollbarWidth:u, scrollbarStageWidth:s,stageWidth:h,scrollMargin:q,scrollBorder:p,infiniteSliderOffset:z[c],infiniteSliderWidth:R,slideNodeOuterWidths:N});y=!1;return!0}ma++;var c=ma,j=[];L[c]=b;g[c]=0;r[c]=0;var k=[0,0],O=[0,0],F="scrollbarBlock"+ma,v="scrollbar"+ma,G,x,s,u,w,l,m=0,A=a(this),h,K,q,p,M,y=!0,t=-1,n,D=[],Q=0,P=0,ca=0,E=a(this).children(":first-child"),C,ia,N,I=a(E).children().not("script").size(),V=!1,ga=0,xa=!1,pa=void 0,R;z[c]=0;var Y=!1,wa=!1;ta[c]=!1;var qa,ra=!1,ja=!1,T="touchstart.iosSliderEvent click.iosSliderEvent", S,va,za,oa;ea[c]=!1;da[c]=[];b.scrollbarDrag&&(b.scrollbar=!0,b.scrollbarHide=!1);var Aa=a(this);if(void 0!=Aa.data("iosslider"))return!0;a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});b.infiniteSlider&&(b.scrollbar=!1);b.infiniteSlider&&1==I&&(b.infiniteSlider=!1);b.scrollbar&&(""!=b.scrollbarContainer?a(b.scrollbarContainer).append("<div class = '"+F+"'><div class = '"+v+"'></div></div>"):a(E).parent().append("<div class = '"+F+"'><div class = '"+v+"'></div></div>")); if(!d())return!0;a(this).find("a").bind("mousedown",f.preventDrag);a(this).find("[onclick]").bind("click",f.preventDrag).each(function(){a(this).data("onclick",this.onclick)});t=f.calcActiveOffset(b,f.getSliderOffset(a(E),"x"),n,h,z[c],I,void 0,c);t=(t+z[c]+I)%I;t=new f.args("load",b,E,a(E).children(":eq("+t+")"),t,t);a(A).data("args",t);if(""!=b.onSliderLoaded)b.onSliderLoaded(t);if(L[c].responsiveSlides||L[c].responsiveSlideContainer)t=Ca?"orientationchange":"resize",a(window).bind(t+".iosSliderEvent-"+ c,function(){if(!d())return!0;var c=a(A).data("args");if(""!=b.onSliderResize)b.onSliderResize(c)});(b.keyboardControls||b.tabToAdvance)&&!Y&&a(document).bind("keydown.iosSliderEvent",function(a){!Z&&!X&&(a=a.originalEvent);if(37==a.keyCode&&b.keyboardControls)a.preventDefault(),a=(J[c]+z[c]+I)%I,(0<a||b.infiniteSlider)&&f.changeSlide(a-1,E,C,j,v,u,h,s,q,p,D,n,N,c,R,I,m,b);else if(39==a.keyCode&&b.keyboardControls||9==a.keyCode&&b.tabToAdvance)a.preventDefault(),a=(J[c]+z[c]+I)%I,(a<n.length-1||b.infiniteSlider)&& f.changeSlide(a+1,E,C,j,v,u,h,s,q,p,D,n,N,c,R,I,m,b)});if(Ba||b.desktopClickDrag){var aa=!1,ka=a(E),la=a(E),ya=!1;b.scrollbarDrag&&(ka=ka.add(G),la=la.add(x));a(ka).bind("mousedown.iosSliderEvent touchstart.iosSliderEvent",function(d){if(aa)return!0;aa=!0;"touchstart"==d.type?a(la).unbind("mousedown.iosSliderEvent"):a(la).unbind("touchstart.iosSliderEvent");if(ea[c]||Y||(ya=f.isUnselectable(d.target,b)))return V=aa=!1,!0;qa=a(this)[0]===a(G)[0]?G:E;!Z&&!X&&(d=d.originalEvent);f.autoSlidePause(c); oa.unbind(".disableClick");if("touchstart"==d.type)eventX=d.touches[0].pageX,eventY=d.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(X)try{document.selection.empty()}catch(h){}else document.selection.empty();eventX=d.pageX;eventY=d.pageY;xa=!0;pa=E;a(this).css({cursor:sa})}k=[0,0];O=[0,0];W=0;V=!1;for(d=0;d<j.length;d++)clearTimeout(j[d]); d=f.getSliderOffset(E,"x");d>-1*g[c]+m+S?(d=-1*g[c]+m+S,f.setSliderOffset(a("."+v),d),a("."+v).css({width:u-p+"px"})):d<-1*r[c]&&(f.setSliderOffset(a("."+v),s-q-u),a("."+v).css({width:u-p+"px"}));d=a(this)[0]===a(G)[0]?g[c]:0;P=-1*(f.getSliderOffset(this,"x")-eventX-d);f.getSliderOffset(this,"y");k[1]=eventX;O[1]=eventY;ja=!1});a(la).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(d){!Z&&!X&&(d=d.originalEvent);if(ea[c]||Y||ya)return!0;var j=0;if("touchmove"==d.type)eventX=d.touches[0].pageX, eventY=d.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty||window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(X)try{document.selection.empty()}catch(B){}else document.selection.empty();eventX=d.pageX;eventY=d.pageY;if(!xa||!na&&("undefined"!=typeof d.webkitMovementX||"undefined"!=typeof d.webkitMovementY)&&0===d.webkitMovementY&&0===d.webkitMovementX)return!0}k[0]=k[1];k[1]=eventX;W=(k[1]-k[0])/2;O[0]=O[1];O[1]=eventY; ba=(O[1]-O[0])/2;if(!V){var l=(J[c]+z[c]+I)%I,l=new f.args("start",b,E,a(E).children(":eq("+l+")"),l,l);a(A).data("args",l);if(""!=b.onSlideStart)b.onSlideStart(l)}if((ba>b.verticalSlideLockThreshold||ba<-1*b.verticalSlideLockThreshold)&&"touchmove"==d.type&&!V)ra=!0;(W>b.horizontalSlideLockThreshold||W<-1*b.horizontalSlideLockThreshold)&&"touchmove"==d.type&&d.preventDefault();if(W>b.slideStartVelocityThreshold||W<-1*b.slideStartVelocityThreshold)V=!0;if(V&&!ra){var l=f.getSliderOffset(E,"x"),t= a(this)[0]===a(x)[0]?g[c]:m,y=a(this)[0]===a(x)[0]?(g[c]-r[c]-m)/(s-q-u):1,w=a(this)[0]===a(x)[0]?b.scrollbarElasticPullResistance:b.elasticPullResistance,F=b.snapSlideCenter&&a(this)[0]===a(x)[0]?0:m,K=b.snapSlideCenter&&a(this)[0]===a(x)[0]?m:0;"touchmove"==d.type&&(ca!=d.touches.length&&(P=-1*l+eventX),ca=d.touches.length);if(b.infiniteSlider){if(l<=-1*r[c]){var G=a(E).width();if(l<=-1*ua[c]){var L=-1*D[0];a(C).each(function(b){f.setSliderOffset(a(C)[b],L+m);b<n.length&&(n[b]=-1*L);L+=N[b]});P-= -1*n[0];g[c]=-1*n[0]+m;r[c]=g[c]+G-h;z[c]=0}else{var R=0,T=f.getSliderOffset(a(C[0]),"x");a(C).each(function(a){f.getSliderOffset(this,"x")<T&&(T=f.getSliderOffset(this,"x"),R=a)});w=g[c]+G;f.setSliderOffset(a(C)[R],w);g[c]=-1*n[1]+m;r[c]=g[c]+G-h;n.splice(0,1);n.splice(n.length,0,-1*w+m);z[c]++}}if(l>=-1*g[c]||0<=l)if(G=a(E).width(),0<=l){L=-1*D[0];a(C).each(function(b){f.setSliderOffset(a(C)[b],L+m);b<n.length&&(n[b]=-1*L);L+=N[b]});P+=-1*n[0];g[c]=-1*n[0]+m;r[c]=g[c]+G-h;for(z[c]=I;0<-1*n[0]-G+ m;){var Q=0,S=f.getSliderOffset(a(C[0]),"x");a(C).each(function(a){f.getSliderOffset(this,"x")>S&&(S=f.getSliderOffset(this,"x"),Q=a)});w=g[c]-N[Q];f.setSliderOffset(a(C)[Q],w);n.splice(0,0,-1*w+m);n.splice(n.length-1,1);g[c]=-1*n[0]+m;r[c]=g[c]+G-h;z[c]--;J[c]++}}else Q=0,S=f.getSliderOffset(a(C[0]),"x"),a(C).each(function(a){f.getSliderOffset(this,"x")>S&&(S=f.getSliderOffset(this,"x"),Q=a)}),w=g[c]-N[Q],f.setSliderOffset(a(C)[Q],w),n.splice(0,0,-1*w+m),n.splice(n.length-1,1),g[c]=-1*n[0]+m,r[c]= g[c]+G-h,z[c]--}else G=a(E).width(),l>-1*g[c]+m&&(j=-1*(g[c]+-1*(P-t-eventX+F)*y-t)*w/y),l<-1*r[c]&&(j=-1*(r[c]+K+-1*(P-t-eventX)*y-t)*w/y);f.setSliderOffset(E,-1*(P-t-eventX-j)*y-t+K);b.scrollbar&&(f.showScrollbar(b,v),U=Math.floor((P-eventX-j-g[c]+F)/(r[c]-g[c]+m)*(s-q-u)*y),t=u,l>=-1*g[c]+F+G?(t=u-p- -1*U,f.setSliderOffset(a("."+v),0),a("."+v).css({width:t+"px"})):l<=-1*r[c]+1?(t=s-q-p-U,f.setSliderOffset(a("."+v),U),a("."+v).css({width:t+"px"})):f.setSliderOffset(a("."+v),U));"touchmove"==d.type&& (M=d.touches[0].pageX);d=!1;j=f.calcActiveOffset(b,-1*(P-eventX-j),n,h,z[c],I,void 0,c);G=(j+z[c]+I)%I;b.infiniteSlider?G!=$[c]&&(d=!0):j!=J[c]&&(d=!0);if(d&&(J[c]=j,$[c]=G,ja=!0,l=new f.args("change",b,E,a(E).children(":eq("+G+")"),G,G),a(A).data("args",l),""!=b.onSlideChange))b.onSlideChange(l)}aa=!1});t=a(window);if(X||Z)t=a(document);a(ka).bind("touchend.iosSliderEvent",function(a){a=a.originalEvent;if(ea[c]||Y||ya)return!0;if(0!=a.touches.length)for(var d=0;d<a.touches.length;d++)a.touches[d].pageX== M&&f.slowScrollHorizontal(E,C,j,v,W,ba,u,h,s,q,p,D,n,N,c,R,I,qa,ja,m,b);else f.slowScrollHorizontal(E,C,j,v,W,ba,u,h,s,q,p,D,n,N,c,R,I,qa,ja,m,b);aa=ra=!1});a(t).bind("mouseup.iosSliderEvent"+c,function(){V?va.unbind("click.disableClick").bind("click.disableClick",f.preventClick):va.unbind("click.disableClick").bind("click.disableClick",f.enableClick);za.each(function(){this.onclick=function(b){if(V)return!1;a(this).data("onclick").call(this,b||window.event)}});1.8<=parseFloat(a().jquery)?oa.each(function(){var b= a._data(this,"events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!V)return!1;a(this).one("click.disableClick",f.preventClick);var b=a._data(this,"events").click,c=b.pop();b.splice(0,0,c)}}):1.6<=parseFloat(a().jquery)&&oa.each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!V)return!1;a(this).one("click.disableClick",f.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!ta[c]){if(Y)return!0; a(ka).css({cursor:fa});xa=!1;if(void 0==pa)return!0;f.slowScrollHorizontal(pa,C,j,v,W,ba,u,h,s,q,p,D,n,N,c,R,I,qa,ja,m,b);pa=void 0}aa=ra=!1})}})},destroy:function(d,k){void 0==k&&(k=this);return a(k).each(function(){var b=a(this),k=b.data("iosslider");if(void 0==k)return!1;void 0==d&&(d=!0);f.autoSlidePause(k.sliderNumber);ta[k.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+k.sliderNumber);a(document).unbind(".iosSliderEvent-"+k.sliderNumber);a(document).unbind("keydown.iosSliderEvent");a(this).unbind(".iosSliderEvent"); a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");d&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(k.settings.navSlideSelector).attr("style",""),a(k.settings.navPrevSelector).attr("style",""),a(k.settings.navNextSelector).attr("style",""),a(k.settings.autoSlideToggleSelector).attr("style",""),a(k.settings.unselectableSelector).attr("style", ""));k.settings.scrollbar&&a(".scrollbarBlock"+k.sliderNumber).remove();for(var k=da[k.sliderNumber],c=0;c<k.length;c++)clearTimeout(k[c]);b.removeData("iosslider");b.removeData("args")})},update:function(d){void 0==d&&(d=this);return a(d).each(function(){var d=a(this),b=d.data("iosslider");if(void 0==b)return!1;b.settings.startAtSlide=d.data("args").currentSlideNumber;Q.destroy(!1,this);1!=b.numberOfSlides&&b.settings.infiniteSlider&&(b.settings.startAtSlide=(J[b.sliderNumber]+1+z[b.sliderNumber]+ b.numberOfSlides)%b.numberOfSlides);Q.init(b.settings,this);d=new f.args("update",b.settings,b.scrollerNode,a(b.scrollerNode).children(":eq("+(b.settings.startAtSlide-1)+")"),b.settings.startAtSlide-1,b.settings.startAtSlide-1);a(b.stageNode).data("args",d);if(""!=b.settings.onSliderUpdate)b.settings.onSliderUpdate(d)})},addSlide:function(d,f){return this.each(function(){var b=a(this),g=b.data("iosslider");if(void 0==g)return!1;0==a(g.scrollerNode).children().size()?(a(g.scrollerNode).append(d),b.data("args").currentSlideNumber= 1):g.settings.infiniteSlider?(1==f?a(g.scrollerNode).children(":eq(0)").before(d):a(g.scrollerNode).children(":eq("+(f-2)+")").after(d),-1>z[g.sliderNumber]&&J[g.sliderNumber]--,b.data("args").currentSlideNumber>=f&&J[g.sliderNumber]++):(f<=g.numberOfSlides?a(g.scrollerNode).children(":eq("+(f-1)+")").before(d):a(g.scrollerNode).children(":eq("+(f-2)+")").after(d),b.data("args").currentSlideNumber>=f&&b.data("args").currentSlideNumber++);b.data("iosslider").numberOfSlides++;Q.update(this)})},removeSlide:function(d){return this.each(function(){var f= a(this).data("iosslider");if(void 0==f)return!1;a(f.scrollerNode).children(":eq("+(d-1)+")").remove();J[f.sliderNumber]>d-1&&J[f.sliderNumber]--;Q.update(this)})},goToSlide:function(d,g){void 0==g&&(g=this);return a(g).each(function(){var b=a(this).data("iosslider");if(void 0==b)return!1;d=d>b.childrenOffsets.length?b.childrenOffsets.length-1:d-1;f.changeSlide(d,a(b.scrollerNode),a(b.slideNodes),da[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollbarStageWidth,b.scrollMargin, b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.slideNodeOuterWidths,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);J[b.sliderNumber]=d})},lock:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;ea[d.sliderNumber]=!0})},unlock:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;ea[d.sliderNumber]=!1})},getData:function(){return this.each(function(){var d=a(this).data("iosslider"); return void 0==d?!1:d})},autoSlidePause:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;L[d.sliderNumber].autoSlide=!1;f.autoSlidePause(d.sliderNumber);return d})},autoSlidePlay:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;L[d.sliderNumber].autoSlide=!0;f.autoSlide(a(d.scrollerNode),a(d.slideNodes),da[d.sliderNumber],d.scrollbarClass,d.scrollbarWidth,d.stageWidth,d.scrollbarStageWidth,d.scrollMargin,d.scrollBorder, d.originalOffsets,d.childrenOffsets,d.slideNodeOuterWidths,d.sliderNumber,d.infiniteSliderWidth,d.numberOfSlides,d.centeredSlideOffset,d.settings);return d})}};a.fn.iosSlider=function(d){if(Q[d])return Q[d].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof d||!d)return Q.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);