/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * A jQuery Horizontal Slider for iPhone/iPad Safari 
 * This plugin turns any wide element into a touch enabled horizontal slider.
 * 
 * Copyright (c) 2012 Marc Whitbread
 * 
 * Version: v1.1.64 (03/11/2013)
 * Minimum requirements: jQuery v1.4+
 *
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction.
 *	  Attribution is not required but always appreciated. For commercial projects, you
 *	  must purchase a license. You may download and play with the script before deciding to
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for
 *    distribution elsewhere "as is" without prior consent. If you would like to feature
 *    iosSlider on your site, please do not link directly to the resource zip files. Please
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var oa=0,Y=0,ca=0,O=0,Da="ontouchstart"in window,Ea="onorientationchange"in window,da=!1,Z=!1,$=!1,pa=!1,ha="pointer",ua="pointer",ia=[],V=[],va=[],ja=[],H=[],aa=[],z=[],d=[],s=[],wa=[],ea=[],f={showScrollbar:function(k,f){k.scrollbarHide&&a("."+f).css({opacity:k.scrollbarOpacity,filter:"alpha(opacity:"+100*k.scrollbarOpacity+")"})},hideScrollbar:function(a,m,b,n,c,t,d,s,E,x){if(a.scrollbar&&a.scrollbarHide)for(var z=b;z<b+25;z++)m[m.length]=f.hideScrollbarIntervalTimer(10*z,n[b],(b+ 24-z)/24,c,t,d,s,E,x,a)},hideScrollbarInterval:function(k,m,b,n,c,t,d,z,E){O=-1*k/s[z]*(c-t-d-n);f.setSliderOffset("."+b,O);a("."+b).css({opacity:E.scrollbarOpacity*m,filter:"alpha(opacity:"+100*E.scrollbarOpacity*m+")"})},slowScrollHorizontalInterval:function(k,m,b,n,c,t,T,K,E,x,N,y,u,w,A,q,j,B,h){if(h.infiniteSlider){if(b<=-1*s[q]){var I=a(k).width();if(b<=-1*wa[q]){var r=-1*N[0];a(m).each(function(b){f.setSliderOffset(a(m)[b],r+j);b<y.length&&(y[b]=-1*r);r+=A[b]});b+=-1*y[0];d[q]=-1*y[0]+j;s[q]= d[q]+I-t;z[q]=0}else{var p=0,M=f.getSliderOffset(a(m[0]),"x");a(m).each(function(a){f.getSliderOffset(this,"x")<M&&(M=f.getSliderOffset(this,"x"),p=a)});u=d[q]+I;f.setSliderOffset(a(m)[p],u);d[q]=-1*y[1]+j;s[q]=d[q]+I-t;y.splice(0,1);y.splice(y.length,0,-1*u+j);z[q]++}}if(b>=-1*d[q]||0<=b){I=a(k).width();if(0<=b){r=-1*N[0];a(m).each(function(b){f.setSliderOffset(a(m)[b],r+j);b<y.length&&(y[b]=-1*r);r+=A[b]});b-=-1*y[0];d[q]=-1*y[0]+j;s[q]=d[q]+I-t;for(z[q]=w;0<-1*y[0]-I+j;){var C=0,v=f.getSliderOffset(a(m[0]), "x");a(m).each(function(a){f.getSliderOffset(this,"x")>v&&(v=f.getSliderOffset(this,"x"),C=a)});u=d[q]-A[C];f.setSliderOffset(a(m)[C],u);y.splice(0,0,-1*u+j);y.splice(y.length-1,1);d[q]=-1*y[0]+j;s[q]=d[q]+I-t;z[q]--;H[q]++}}0>b&&(C=0,v=f.getSliderOffset(a(m[0]),"x"),a(m).each(function(a){f.getSliderOffset(this,"x")>v&&(v=f.getSliderOffset(this,"x"),C=a)}),u=d[q]-A[C],f.setSliderOffset(a(m)[C],u),y.splice(0,0,-1*u+j),y.splice(y.length-1,1),d[q]=-1*y[0]+j,s[q]=d[q]+I-t,z[q]--)}}N=!1;t=f.calcActiveOffset(h, b,y,t,z[q],w,x,q);u=(t+z[q]+w)%w;h.infiniteSlider?u!=aa[q]&&(N=!0):t!=H[q]&&(N=!0);if(N&&(w=new f.args("change",h,k,a(k).children(":eq("+u+")"),u,B),a(k).parent().data("args",w),""!=h.onSlideChange))h.onSlideChange(w);H[q]=t;aa[q]=u;b=Math.floor(b);f.setSliderOffset(k,b);h.scrollbar&&(O=Math.floor((-1*b-d[q]+j)/(s[q]-d[q]+j)*(T-K-c)),k=c-E,b>=-1*d[q]+j?(k=c-E- -1*O,f.setSliderOffset(a("."+n),0)):(b<=-1*s[q]+1&&(k=T-K-E-O),f.setSliderOffset(a("."+n),O)),a("."+n).css({width:k+"px"}))},slowScrollHorizontal:function(k, m,b,n,c,t,T,K,E,x,N,y,u,w,A,q,j,B,h,I,r){t=[];var p=f.getSliderOffset(k,"x"),M=0,C=25/1024*K;frictionCoefficient=r.frictionCoefficient;elasticFrictionCoefficient=r.elasticFrictionCoefficient;snapFrictionCoefficient=r.snapFrictionCoefficient;5<c&&r.snapToChildren&&!h?M=1:-5>c&&(r.snapToChildren&&!h)&&(M=-1);c<-1*C?c=-1*C:c>C&&(c=C);a(k)[0]!==a(B)[0]&&(M*=-1,c*=-2);B=z[A];if(r.infiniteSlider)var v=d[A],l=s[A];h=[];for(var C=[],F=0;F<u.length;F++)h[F]=u[F],F<m.length&&(C[F]=f.getSliderOffset(a(m[F]), "x"));for(;1<c||-1>c;){c*=frictionCoefficient;p+=c;if((p>-1*d[A]||p<-1*s[A])&&!r.infiniteSlider)c*=elasticFrictionCoefficient,p+=c;if(r.infiniteSlider){if(p<=-1*l){for(var l=a(k).width(),O=0,Q=C[0],F=0;F<C.length;F++)C[F]<Q&&(Q=C[F],O=F);F=v+l;C[O]=F;v=-1*h[1]+I;l=v+l-K;h.splice(0,1);h.splice(h.length,0,-1*F+I);B++}if(p>=-1*v){l=a(k).width();O=0;Q=C[0];for(F=0;F<C.length;F++)C[F]>Q&&(Q=C[F],O=F);F=v-w[O];C[O]=F;h.splice(0,0,-1*F+I);h.splice(h.length-1,1);v=-1*h[0]+I;l=v+l-K;B--}}t[t.length]=p}C=!1; c=f.calcActiveOffset(r,p,h,K,B,j,H[A],A);v=(c+B+j)%j;r.snapToChildren&&(r.infiniteSlider?v!=aa[A]&&(C=!0):c!=H[A]&&(C=!0),0>M&&!C?(c++,c>=u.length&&!r.infinteSlider&&(c=u.length-1)):0<M&&!C&&(c--,0>c&&!r.infinteSlider&&(c=0)));if(r.snapToChildren||(p>-1*d[A]||p<-1*s[A])&&!r.infiniteSlider){p=f.getSliderOffset(k,"x");for(t.splice(0,t.length);p<h[c]-0.5||p>h[c]+0.5;)p=(p-h[c])*snapFrictionCoefficient+h[c],t[t.length]=p;t[t.length]=h[c]}M=1;0!=t.length%2&&(M=0);for(p=0;p<b.length;p++)clearTimeout(b[p]); B=(c+B+j)%j;v=0;for(p=M;p<t.length;p+=2)if(p==M||1<Math.abs(t[p]-v)||p>=t.length-2)v=t[p],b[b.length]=f.slowScrollHorizontalIntervalTimer(10*p,k,m,t[p],n,T,K,E,x,N,c,y,u,q,j,w,A,I,B,r);v=(c+z[A]+j)%j;""!=r.onSlideComplete&&(b[b.length]=f.onSlideCompleteTimer(10*(p+1),r,k,a(k).children(":eq("+v+")"),v,A));ja[A]=b;f.hideScrollbar(r,b,p,t,n,T,K,x,N,A)},onSlideComplete:function(k,m,b,n){b=new f.args("complete",k,a(m),b,n,n);a(m).parent().data("args",b);if(""!=k.onSlideComplete)k.onSlideComplete(b)},getSliderOffset:function(k, f){var b=0;f="x"==f?4:5;if(da&&!Z&&!$){for(var b=["-webkit-transform","-moz-transform","transform"],n=0;n<b.length;n++)if(void 0!=a(k).css(b[n])&&0<a(k).css(b[n]).length){var c=a(k).css(b[n]).split(",");break}b=parseInt(c[f],10)}else b=parseInt(a(k).css("left"),10);return b},setSliderOffset:function(k,f){da&&!Z&&!$?a(k).css({webkitTransform:"matrix(1,0,0,1,"+f+",0)",MozTransform:"matrix(1,0,0,1,"+f+",0)",transform:"matrix(1,0,0,1,"+f+",0)"}):a(k).css({left:f+"px"})},setBrowserInfo:function(){null!= navigator.userAgent.match("WebKit")?(ha="-webkit-grab",ua="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(ha="move",ua="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?pa=Z=!0:null!=navigator.userAgent.match("MSIE 8")?pa=$=!0:null!=navigator.userAgent.match("MSIE 9")&&(pa=!0)},has3DTransform:function(){var f=!1,m=a("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)",MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});""==m.attr("style")?f=!1:void 0!=m.attr("style")&& (f=!0);return f},getSlideNumber:function(a,f,b){return(a-z[f]+b)%b},calcActiveOffset:function(a,f,b,n){var c=!1;a=[];for(var t,d=0;d<b.length;d++)b[d]<=f&&b[d]>f-n&&(!c&&b[d]!=f&&(a[a.length]=b[d-1]),a[a.length]=b[d],c=!0);0==a.length&&(a[0]=b[b.length-1]);for(d=c=0;d<a.length;d++){var s=Math.abs(f-a[d]);s<n&&(c=a[d],n=s)}for(d=0;d<b.length;d++)c==b[d]&&(t=d);return t},changeSlide:function(k,m,b,d,c,t,s,K,E,x,N,y,u,w,A,q,j,B){f.autoSlidePause(w);for(var h=0;h<d.length;h++)clearTimeout(d[h]);var I= Math.ceil(B.autoSlideTransTimer/10)+1,r=f.getSliderOffset(m,"x"),p=y[k],M=p-r;if(B.infiniteSlider){k=(k-z[w]+2*q)%q;h=!1;0==k&&2==q&&(k=q,y[k]=y[k-1]-a(b).eq(0).outerWidth(!0),h=!0);p=y[k];M=p-r;p=[y[k]-a(m).width(),y[k]+a(m).width()];h&&y.splice(y.length-1,1);for(h=0;h<p.length;h++)Math.abs(p[h]-r)<Math.abs(M)&&(M=p[h]-r)}var p=[],C;f.showScrollbar(B,c);for(h=0;h<=I;h++)C=h,C/=I,C--,C=r+M*(Math.pow(C,5)+1),p[p.length]=C;for(h=r=0;h<p.length;h++){if(0==h||1<Math.abs(p[h]-r)||h>=p.length-2)r=p[h], d[h]=f.slowScrollHorizontalIntervalTimer(10*(h+1),m,b,p[h],c,t,s,K,E,x,k,N,y,A,q,u,w,j,k,B);0==h&&""!=B.onSlideStart&&(I=(H[w]+z[w]+q)%q,B.onSlideStart(new f.args("start",B,m,a(m).children(":eq("+I+")"),I,k)))}r=!1;I=(k+z[w]+q)%q;B.infiniteSlider?I!=aa[w]&&(r=!0):k!=H[w]&&(r=!0);r&&""!=B.onSlideComplete&&(d[d.length]=f.onSlideCompleteTimer(10*(h+1),B,m,a(m).children(":eq("+I+")"),I,w));ja[w]=d;f.hideScrollbar(B,d,h,p,c,t,s,E,x,w);f.autoSlide(m,b,d,c,t,s,K,E,x,N,y,u,w,A,q,j,B)},autoSlide:function(a, d,b,n,c,t,s,K,E,x,N,y,u,w,A,q,j){if(!j.autoSlide)return!1;f.autoSlidePause(u);ia[u]=setTimeout(function(){!j.infiniteSlider&&H[u]>N.length-1&&(H[u]-=A);f.changeSlide((H[u]+z[u]+A+1)%A,a,d,b,n,c,t,s,K,E,x,N,y,u,w,A,q,j);f.autoSlide(a,d,b,n,c,t,s,K,E,x,N,y,u,w,A,q,j)},j.autoSlideTimer+j.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(ia[a])},isUnselectable:function(f,d){return""!=d.unselectableSelector&&1==a(f).closest(d.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a, d,b,n,c,t,s,z,E,x,H,y,u,w,A,q,j,B,h,I){return setTimeout(function(){f.slowScrollHorizontalInterval(d,b,n,c,t,s,z,E,x,H,y,u,w,A,q,j,B,h,I)},a)},onSlideCompleteTimer:function(a,d,b,n,c,t){return setTimeout(function(){f.onSlideComplete(d,b,n,c,t)},a)},hideScrollbarIntervalTimer:function(a,d,b,n,c,t,s,z,E,x){return setTimeout(function(){f.hideScrollbarInterval(d,b,n,c,t,s,z,E,x)},a)},args:function(k,d,b,n,c){this.prevSlideNumber=void 0==a(b).parent().data("args")?void 0:a(b).parent().data("args").prevSlideNumber; this.prevSlideObject=void 0==a(b).parent().data("args")?void 0:a(b).parent().data("args").prevSlideObject;this.targetSlideObject=this.targetSlideNumber=void 0;this.slideChanged=!1;"load"!=k&&"start"!=k&&("change"==k?(this.slideChanged=!0,this.prevSlideNumber=void 0==a(b).parent().data("args")?d.startAtSlide:a(b).parent().data("args").currentSlideNumber,this.prevSlideObject=a(b).children(":eq("+this.prevSlideNumber+")")):"complete"==k&&(this.slideChanged=a(b).parent().data("args").slideChanged));this.settings= d;this.data=a(b).parent().data("iosslider");this.sliderObject=b;this.sliderContainerObject=a(b).parent();this.currentSlideObject=n;this.currentSlideNumber=c+1;this.currentSliderOffset=-1*f.getSliderOffset(b,"x")},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};f.setBrowserInfo();var S={init:function(k,m){da=f.has3DTransform();var b=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6, snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,tabToAdvance:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"", navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},k);void 0==m&&(m=this);return a(m).each(function(){function k(){f.autoSlidePause(c);xa=a(G).find("a");Ba=a(G).find("[onclick]");qa=a(G).find("*");a(B).css("width", "");a(B).css("height","");a(G).css("width","");D=a(G).children().not("script").get();ka=[];L=[];a(D).css("width","");s[c]=0;l=[];A=a(B).parent().width();h=a(B).outerWidth(!0);b.responsiveSlideContainer&&(h=a(B).outerWidth(!0)>A?A:a(B).outerWidth(!0));a(B).css({position:b.stageCSS.position,top:b.stageCSS.top,left:b.stageCSS.left,overflow:b.stageCSS.overflow,zIndex:b.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:h});a(b.unselectableSelector).css({cursor:"default"});for(var g= 0;g<D.length;g++){ka[g]=a(D[g]).width();L[g]=a(D[g]).outerWidth(!0);var n=L[g];b.responsiveSlides&&(n=L[g]>h?h+-1*(L[g]-ka[g]):ka[g],a(D[g]).css({width:n}));a(D[g]).css({webkitBackfaceVisibility:"hidden",position:"absolute",top:0});l[g]=-1*s[c];s[c]=s[c]+n+(L[g]-ka[g])}b.snapSlideCenter&&(j=0.5*(h-L[0]),b.responsiveSlides&&L[0]>h&&(j=0));wa[c]=2*s[c];for(g=0;g<D.length;g++)f.setSliderOffset(a(D[g]),-1*l[g]+s[c]+j),l[g]-=s[c];if(!b.infiniteSlider&&!b.snapSlideCenter){for(g=0;g<l.length&&!(l[g]<=-1* (2*s[c]-h));g++)ia=g;l.splice(ia+1,l.length);l[l.length]=-1*(2*s[c]-h)}for(g=0;g<l.length;g++)F[g]=l[g];C&&(b.startAtSlide=V[c].startAtSlide>l.length?l.length:V[c].startAtSlide,b.infiniteSlider?(b.startAtSlide=(V[c].startAtSlide-1+J)%J,H[c]=V[c].startAtSlide):(b.startAtSlide=0>V[c].startAtSlide-1?l.length-1:V[c].startAtSlide,H[c]=V[c].startAtSlide-1),aa[c]=H[c]);d[c]=s[c]+j;a(G).css({position:"relative",cursor:ha,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:s[c]+"px"});W=s[c];s[c]= 2*s[c]-h+2*j;(U=W<h?!0:!1)&&a(G).css({cursor:"default"});q=a(B).parent().outerHeight(!0);I=a(B).height();b.responsiveSlideContainer&&(I=I>q?q:I);a(B).css({height:I});f.setSliderOffset(G,l[H[c]]);if(b.infiniteSlider&&!U){g=f.getSliderOffset(a(G),"x");for(n=-1*((z[c]+J)%J);0>n;){var v=0,la=f.getSliderOffset(a(D[0]),"x");a(D).each(function(a){f.getSliderOffset(this,"x")<la&&(la=f.getSliderOffset(this,"x"),v=a)});var K=d[c]+W;f.setSliderOffset(a(D)[v],K);d[c]=-1*l[1]+j;s[c]=d[c]+W-h;l.splice(0,1);l.splice(l.length, 0,-1*K+j);n++}for(;0<-1*l[0]-W+j&&b.snapSlideCenter&&C;){var M=0,O=f.getSliderOffset(a(D[0]),"x");a(D).each(function(a){f.getSliderOffset(this,"x")>O&&(O=f.getSliderOffset(this,"x"),M=a)});K=d[c]-L[M];f.setSliderOffset(a(D)[M],K);l.splice(0,0,-1*K+j);l.splice(l.length-1,1);d[c]=-1*l[0]+j;s[c]=d[c]+W-h;z[c]--;H[c]++}for(;g<=-1*s[c];)v=0,la=f.getSliderOffset(a(D[0]),"x"),a(D).each(function(a){f.getSliderOffset(this,"x")<la&&(la=f.getSliderOffset(this,"x"),v=a)}),K=d[c]+W,f.setSliderOffset(a(D)[v],K), d[c]=-1*l[1]+j,s[c]=d[c]+W-h,l.splice(0,1),l.splice(l.length,0,-1*K+j),z[c]++,H[c]--}f.setSliderOffset(G,l[H[c]]);b.desktopClickDrag||a(G).css({cursor:"default"});b.scrollbar&&(a("."+E).css({margin:b.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+E+" ."+x).css({border:b.scrollbarBorder}),r=parseInt(a("."+E).css("marginLeft"))+parseInt(a("."+E).css("marginRight")),p=parseInt(a("."+E+" ."+x).css("borderLeftWidth"),10)+parseInt(a("."+E+" ."+x).css("borderRightWidth"),10),u=""!=b.scrollbarContainer? a(b.scrollbarContainer).width():h,w=(u-r)/J,b.scrollbarHide||(S=b.scrollbarOpacity),a("."+E).css({position:"absolute",left:0,width:u-r+"px",margin:b.scrollbarMargin}),"top"==b.scrollbarLocation?a("."+E).css("top","0"):a("."+E).css("bottom","0"),a("."+E+" ."+x).css({borderRadius:b.scrollbarBorderRadius,background:b.scrollbarBackground,height:b.scrollbarHeight,width:w-p+"px",minWidth:b.scrollbarHeight,border:b.scrollbarBorder,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative", opacity:S,filter:"alpha(opacity:"+100*S+")",boxShadow:b.scrollbarShadow}),f.setSliderOffset(a("."+E+" ."+x),Math.floor((-1*l[H[c]]-d[c]+j)/(s[c]-d[c]+j)*(u-r-w))),a("."+E).css({display:"block"}),N=a("."+E+" ."+x),y=a("."+E));b.scrollbarDrag&&!U&&a("."+E+" ."+x).css({cursor:ha});b.infiniteSlider&&(R=(s[c]+h)/3);""!=b.navSlideSelector&&a(b.navSlideSelector).each(function(g){a(this).css({cursor:"pointer"});a(this).unbind(P).bind(P,function(d){"touchstart"==d.type?a(this).unbind("click.iosSliderEvent"): a(this).unbind("touchstart.iosSliderEvent");P=d.type+".iosSliderEvent";f.changeSlide(g,G,D,m,x,w,h,u,r,p,F,l,L,c,R,J,j,b)})});""!=b.navPrevSelector&&(a(b.navPrevSelector).css({cursor:"pointer"}),a(b.navPrevSelector).unbind(P).bind(P,function(g){"touchstart"==g.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");P=g.type+".iosSliderEvent";g=(H[c]+z[c]+J)%J;(0<g||b.infiniteSlider)&&f.changeSlide(g-1,G,D,m,x,w,h,u,r,p,F,l,L,c,R,J,j,b)}));""!=b.navNextSelector&&(a(b.navNextSelector).css({cursor:"pointer"}), a(b.navNextSelector).unbind(P).bind(P,function(g){"touchstart"==g.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent");P=g.type+".iosSliderEvent";g=(H[c]+z[c]+J)%J;(g<l.length-1||b.infiniteSlider)&&f.changeSlide(g+1,G,D,m,x,w,h,u,r,p,F,l,L,c,R,J,j,b)}));b.autoSlide&&!U&&(""!=b.autoSlideToggleSelector&&(a(b.autoSlideToggleSelector).css({cursor:"pointer"}),a(b.autoSlideToggleSelector).unbind(P).bind(P,function(){"touchstart"==e.type?a(this).unbind("click.iosSliderEvent"): a(this).unbind("touchstart.iosSliderEvent");P=e.type+".iosSliderEvent";fa?(f.autoSlide(G,D,m,x,w,h,u,r,p,F,l,L,c,R,J,j,b),fa=!1,a(b.autoSlideToggleSelector).removeClass("on")):(f.autoSlidePause(c),fa=!0,a(b.autoSlideToggleSelector).addClass("on"))})),!fa&&!U&&f.autoSlide(G,D,m,x,w,h,u,r,p,F,l,L,c,R,J,j,b),a(B).bind("mouseenter.iosSliderEvent",function(){f.autoSlidePause(c)}),a(B).bind("mouseleave.iosSliderEvent",function(){!fa&&!U&&f.autoSlide(G,D,m,x,w,h,u,r,p,F,l,L,c,R,J,j,b)}),a(B).bind("touchend.iosSliderEvent", function(){!fa&&!U&&f.autoSlide(G,D,m,x,w,h,u,r,p,F,l,L,c,R,J,j,b)}));a(B).data("iosslider",{obj:Ca,settings:b,scrollerNode:G,slideNodes:D,numberOfSlides:J,centeredSlideOffset:j,sliderNumber:c,originalOffsets:F,childrenOffsets:l,sliderMax:s[c],scrollbarClass:x,scrollbarWidth:w,scrollbarStageWidth:u,stageWidth:h,scrollMargin:r,scrollBorder:p,infiniteSliderOffset:z[c],infiniteSliderWidth:R,slideNodeOuterWidths:L});C=!1;return!0}oa++;var c=oa,m=[];V[c]=b;d[c]=0;s[c]=0;var T=[0,0],K=[0,0],E="scrollbarBlock"+ oa,x="scrollbar"+oa,N,y,u,w,A,q,j=0,B=a(this),h,I,r,p,M,C=!0,v=-1,l,F=[],S=0,Q=0,da=0,G=a(this).children(":first-child"),D,ka,L,J=a(G).children().not("script").size(),X=!1,ia=0,ya=!1,ra=void 0,R;z[c]=0;var U=!1,fa=!1;va[c]=!1;var sa,ta=!1,ma=!1,P="touchstart.iosSliderEvent click.iosSliderEvent",W,xa,Ba,qa;ea[c]=!1;ja[c]=[];b.scrollbarDrag&&(b.scrollbar=!0,b.scrollbarHide=!1);var Ca=a(this);if(void 0!=Ca.data("iosslider"))return!0;a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()}); b.infiniteSlider&&(b.scrollbar=!1);b.scrollbar&&(""!=b.scrollbarContainer?a(b.scrollbarContainer).append("<div class = '"+E+"'><div class = '"+x+"'></div></div>"):a(G).parent().append("<div class = '"+E+"'><div class = '"+x+"'></div></div>"));if(!k())return!0;a(this).find("a").bind("mousedown",f.preventDrag);a(this).find("[onclick]").bind("click",f.preventDrag).each(function(){a(this).data("onclick",this.onclick)});v=f.calcActiveOffset(b,f.getSliderOffset(a(G),"x"),l,h,z[c],J,void 0,c);v=(v+z[c]+ J)%J;v=new f.args("load",b,G,a(G).children(":eq("+v+")"),v,v);a(B).data("args",v);if(""!=b.onSliderLoaded)b.onSliderLoaded(v);if(V[c].responsiveSlides||V[c].responsiveSlideContainer)v=Ea?"orientationchange":"resize",a(window).bind(v+".iosSliderEvent",function(){if(!k())return!0;var c=a(B).data("args");if(""!=b.onSliderResize)b.onSliderResize(c)});(b.keyboardControls||b.tabToAdvance)&&!U&&a(document).bind("keydown.iosSliderEvent",function(a){!Z&&!$&&(a=a.originalEvent);if(37==a.keyCode&&b.keyboardControls)a.preventDefault(), a=(H[c]+z[c]+J)%J,(0<a||b.infiniteSlider)&&f.changeSlide(a-1,G,D,m,x,w,h,u,r,p,F,l,L,c,R,J,j,b);else if(39==a.keyCode&&b.keyboardControls||9==a.keyCode&&b.tabToAdvance)a.preventDefault(),a=(H[c]+z[c]+J)%J,(a<l.length-1||b.infiniteSlider)&&f.changeSlide(a+1,G,D,m,x,w,h,u,r,p,F,l,L,c,R,J,j,b)});if(Da||b.desktopClickDrag){var na=!1,ga=a(G),ba=a(G),za=!1;b.scrollbarDrag&&(ga=ga.add(N),ba=ba.add(y));a(ga).bind("mousedown.iosSliderEvent touchstart.iosSliderEvent",function(g){if(na)return!0;na=!0;"touchstart"== g.type?a(ba).unbind("mousedown.iosSliderEvent"):a(ba).unbind("touchstart.iosSliderEvent");if(ea[c]||U||(za=f.isUnselectable(g.target,b)))return!0;sa=a(this)[0]===a(N)[0]?N:G;!Z&&!$&&(g=g.originalEvent);f.autoSlidePause(c);qa.unbind(".disableClick");"touchstart"==g.type?(eventX=g.touches[0].pageX,eventY=g.touches[0].pageY):(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&& document.selection.empty(),eventX=g.pageX,eventY=g.pageY,ya=!0,ra=G,a(this).css({cursor:ua}));T=[0,0];K=[0,0];Y=0;X=!1;for(g=0;g<m.length;g++)clearTimeout(m[g]);g=f.getSliderOffset(G,"x");g>-1*d[c]+j+W?(g=-1*d[c]+j+W,f.setSliderOffset(a("."+x),g),a("."+x).css({width:w-p+"px"})):g<-1*s[c]&&(f.setSliderOffset(a("."+x),u-r-w),a("."+x).css({width:w-p+"px"}));T[1]=eventX;K[1]=eventY;ma=!1});a(ba).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(g){"touchmove"==g.type?a(ba).unbind("mousemove.iosSliderEvent"): a(ba).unbind("touchmove.iosSliderEvent");!Z&&!$&&(g=g.originalEvent);if(ea[c]||U||za)return!0;var k=0;if("touchmove"==g.type)eventX=g.touches[0].pageX,eventY=g.touches[0].pageY;else if(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),eventX=g.pageX,eventY=g.pageY,!ya||!pa&&("undefined"!=typeof g.webkitMovementX||"undefined"!=typeof g.webkitMovementY)&& 0===g.webkitMovementY&&0===g.webkitMovementX)return!0;T[0]=T[1];T[1]=eventX;Y=(T[1]-T[0])/2;K[0]=K[1];K[1]=eventY;ca=(K[1]-K[0])/2;if(!X){var m=a(this)[0]===a(N)[0]?d[c]:0;Q=-1*(f.getSliderOffset(this,"x")-eventX-m);f.getSliderOffset(this,"y");var n=(H[c]+z[c]+J)%J,n=new f.args("start",b,G,a(G).children(":eq("+n+")"),n,n);a(B).data("args",n);if(""!=b.onSlideStart)b.onSlideStart(n)}if((3<ca||-3>ca)&&3>Y&&-3<Y&&"touchmove"==g.type&&!X)ta=!0;(5<Y||-5>Y)&&"touchmove"==g.type?(g.preventDefault(),X=!0): "touchmove"!=g.type&&(X=!0);if(X&&!ta){var n=f.getSliderOffset(G,"x"),m=a(this)[0]===a(y)[0]?d[c]:j,q=a(this)[0]===a(y)[0]?(d[c]-s[c]-j)/(u-r-w):1,t=a(this)[0]===a(y)[0]?b.scrollbarElasticPullResistance:b.elasticPullResistance,C=b.snapSlideCenter&&a(this)[0]===a(y)[0]?0:j,E=b.snapSlideCenter&&a(this)[0]===a(y)[0]?j:0;"touchmove"==g.type&&(da!=g.touches.length&&(Q=-1*n+eventX),da=g.touches.length);if(b.infiniteSlider){if(n<=-1*s[c]){var v=a(G).width();if(n<=-1*wa[c]){var A=-1*F[0];a(D).each(function(b){f.setSliderOffset(a(D)[b], A+j);b<l.length&&(l[b]=-1*A);A+=L[b]});Q-=-1*l[0];d[c]=-1*l[0]+j;s[c]=d[c]+v-h;z[c]=0}else{var I=0,R=f.getSliderOffset(a(D[0]),"x");a(D).each(function(a){f.getSliderOffset(this,"x")<R&&(R=f.getSliderOffset(this,"x"),I=a)});t=d[c]+v;f.setSliderOffset(a(D)[I],t);d[c]=-1*l[1]+j;s[c]=d[c]+v-h;l.splice(0,1);l.splice(l.length,0,-1*t+j);z[c]++}}if(n>=-1*d[c]||0<=n)if(v=a(G).width(),0<=n){A=-1*F[0];a(D).each(function(b){f.setSliderOffset(a(D)[b],A+j);b<l.length&&(l[b]=-1*A);A+=L[b]});Q+=-1*l[0];d[c]=-1*l[0]+ j;s[c]=d[c]+v-h;for(z[c]=J;0<-1*l[0]-v+j;){var P=0,S=f.getSliderOffset(a(D[0]),"x");a(D).each(function(a){f.getSliderOffset(this,"x")>S&&(S=f.getSliderOffset(this,"x"),P=a)});t=d[c]-L[P];f.setSliderOffset(a(D)[P],t);l.splice(0,0,-1*t+j);l.splice(l.length-1,1);d[c]=-1*l[0]+j;s[c]=d[c]+v-h;z[c]--;H[c]++}}else P=0,S=f.getSliderOffset(a(D[0]),"x"),a(D).each(function(a){f.getSliderOffset(this,"x")>S&&(S=f.getSliderOffset(this,"x"),P=a)}),t=d[c]-L[P],f.setSliderOffset(a(D)[P],t),l.splice(0,0,-1*t+j),l.splice(l.length- 1,1),d[c]=-1*l[0]+j,s[c]=d[c]+v-h,z[c]--}else v=a(G).width(),n>-1*d[c]+j&&(k=-1*(d[c]+-1*(Q-m-eventX+C)*q-m)*t/q),n<-1*s[c]&&(k=-1*(s[c]+E+-1*(Q-m-eventX)*q-m)*t/q);f.setSliderOffset(G,-1*(Q-m-eventX-k)*q-m+E);b.scrollbar&&(f.showScrollbar(b,x),O=Math.floor((Q-eventX-k-d[c]+C)/(s[c]-d[c]+j)*(u-r-w)*q),m=w,n>=-1*d[c]+C+v?(m=w-p- -1*O,f.setSliderOffset(a("."+x),0),a("."+x).css({width:m+"px"})):n<=-1*s[c]+1?(m=u-r-p-O,f.setSliderOffset(a("."+x),O),a("."+x).css({width:m+"px"})):f.setSliderOffset(a("."+ x),O));"touchmove"==g.type&&(M=g.touches[0].pageX);g=!1;k=f.calcActiveOffset(b,-1*(Q-eventX-k),l,h,z[c],J,void 0,c);v=(k+z[c]+J)%J;b.infiniteSlider?v!=aa[c]&&(g=!0):k!=H[c]&&(g=!0);if(g&&(H[c]=k,aa[c]=v,ma=!0,n=new f.args("change",b,G,a(G).children(":eq("+v+")"),v,v),a(B).data("args",n),""!=b.onSlideChange))b.onSlideChange(n)}na=!1});var Aa=a(window);if($||Z)Aa=a(document);a(ga).bind("touchend.iosSliderEvent",function(g){a(Aa).unbind("mouseup.iosSliderEvent"+c);g=g.originalEvent;if(ea[c]||U||za)return!0; if(0!=g.touches.length)for(var k=0;k<g.touches.length;k++)g.touches[k].pageX==M&&f.slowScrollHorizontal(G,D,m,x,Y,ca,w,h,u,r,p,F,l,L,c,R,J,sa,ma,j,b);else f.slowScrollHorizontal(G,D,m,x,Y,ca,w,h,u,r,p,F,l,L,c,R,J,sa,ma,j,b);na=ta=!1});a(Aa).bind("mouseup.iosSliderEvent"+c,function(){a(ga).unbind("touchend.iosSliderEvent");X?xa.unbind("click.disableClick").bind("click.disableClick",f.preventClick):xa.unbind("click.disableClick").bind("click.disableClick",f.enableClick);Ba.each(function(){this.onclick= function(b){if(X)return!1;a(this).data("onclick").call(this,b||window.event)}});1.8<=parseFloat(a().jquery)?qa.each(function(){var b=a._data(this,"events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!X)return!1;a(this).one("click.disableClick",f.preventClick);var b=a._data(this,"events").click,c=b.pop();b.splice(0,0,c)}}):1.6<=parseFloat(a().jquery)&&qa.each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!X)return!1; a(this).one("click.disableClick",f.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!va[c]){if(U)return!0;a(ga).css({cursor:ha});ya=!1;if(void 0==ra)return!0;f.slowScrollHorizontal(ra,D,m,x,Y,ca,w,h,u,r,p,F,l,L,c,R,J,sa,ma,j,b);ra=void 0}na=ta=!1})}})},destroy:function(k,d){void 0==d&&(d=this);return a(d).each(function(){var b=a(this),d=b.data("iosslider");if(void 0==d)return!1;void 0==k&&(k=!0);f.autoSlidePause(d.sliderNumber);va[d.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+ d.sliderNumber);a(window).unbind(".iosSliderEvent");a(document).unbind(".iosSliderEvent-"+d.sliderNumber);a(document).unbind("keydown.iosSliderEvent");a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");k&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(d.settings.navSlideSelector).attr("style",""), a(d.settings.navPrevSelector).attr("style",""),a(d.settings.navNextSelector).attr("style",""),a(d.settings.autoSlideToggleSelector).attr("style",""),a(d.settings.unselectableSelector).attr("style",""));d.settings.scrollbar&&a(".scrollbarBlock"+d.sliderNumber).remove();for(var d=ja[d.sliderNumber],c=0;c<d.length;c++)clearTimeout(d[c]);b.removeData("iosslider");b.removeData("args")})},update:function(d){void 0==d&&(d=this);return a(d).each(function(){var d=a(this),b=d.data("iosslider");if(void 0==b)return!1; b.settings.startAtSlide=d.data("args").currentSlideNumber;S.destroy(!1,this);1!=b.numberOfSlides&&b.settings.infiniteSlider&&(b.settings.startAtSlide=(H[b.sliderNumber]+1+z[b.sliderNumber]+b.numberOfSlides)%b.numberOfSlides);S.init(b.settings,this);d=new f.args("update",b.settings,b.scrollerNode,a(b.scrollerNode).children(":eq("+(b.settings.startAtSlide-1)+")"),b.settings.startAtSlide-1,b.settings.startAtSlide-1);a(b.stageNode).data("args",d);if(""!=b.settings.onSliderUpdate)b.settings.onSliderUpdate(d)})}, addSlide:function(f,d){return this.each(function(){var b=a(this),n=b.data("iosslider");if(void 0==n)return!1;0==a(n.scrollerNode).children().size()?(a(n.scrollerNode).append(f),b.data("args").currentSlideNumber=1):n.settings.infiniteSlider?(1==d?a(n.scrollerNode).children(":eq(0)").before(f):a(n.scrollerNode).children(":eq("+(d-2)+")").after(f),-1>z[n.sliderNumber]&&H[n.sliderNumber]--,b.data("args").currentSlideNumber>=d&&H[n.sliderNumber]++):(d<=n.numberOfSlides?a(n.scrollerNode).children(":eq("+ (d-1)+")").before(f):a(n.scrollerNode).children(":eq("+(d-2)+")").after(f),b.data("args").currentSlideNumber>=d&&b.data("args").currentSlideNumber++);b.data("iosslider").numberOfSlides++;S.update(this)})},removeSlide:function(f){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;a(d.scrollerNode).children(":eq("+(f-1)+")").remove();H[d.sliderNumber]>f-1&&H[d.sliderNumber]--;S.update(this)})},goToSlide:function(d,m){void 0==m&&(m=this);return a(m).each(function(){var b= a(this).data("iosslider");if(void 0==b)return!1;d=d>b.childrenOffsets.length?b.childrenOffsets.length-1:d-1;f.changeSlide(d,a(b.scrollerNode),a(b.slideNodes),ja[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollbarStageWidth,b.scrollMargin,b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.slideNodeOuterWidths,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);H[b.sliderNumber]=d})},lock:function(){return this.each(function(){var d=a(this).data("iosslider"); if(void 0==d)return!1;ea[d.sliderNumber]=!0})},unlock:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;ea[d.sliderNumber]=!1})},getData:function(){return this.each(function(){var d=a(this).data("iosslider");return void 0==d?!1:d})}};a.fn.iosSlider=function(d){if(S[d])return S[d].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof d||!d)return S.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);