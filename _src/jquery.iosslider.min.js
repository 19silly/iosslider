/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * A jQuery Horizontal Slider for iPhone/iPad Safari 
 * This plugin turns any wide element into a touch enabled horizontal slider.
 * 
 * Copyright (c) 2012 Marc Whitbread
 * 
 * Version: v1.1.11 (10/04/2012)
 * Minimum requirements: jQuery v1.4+
 * 
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction. 
 *	  Attribution is not required but always appreciated. For commercial projects, you 
 *	  must purchase a license. You may download and play with the script before deciding to 
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider 
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for 
 *    distribution elsewhere "as is" without prior consent. If you would like to feature 
 *    iosSlider on your site, please do not link directly to the resource zip files. Please 
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var ea=0,Q=0,V=0,O=0,F="ontouchstart"in window,sa="onorientationchange"in window,W=!1,Y=!1,Z=!1,$="pointer",ka="pointer",fa=[],aa=[],la=[],ma=[],ba=[],t=[],T=[],B=[],g=[],h=[],na=[],ga=[],e={showScrollbar:function(i,e){i.scrollbarHide&&a("."+e).css({opacity:i.scrollbarOpacity,filter:"alpha(opacity:"+100*i.scrollbarOpacity+")"})},hideScrollbar:function(a,d,c,J,b,C,g,h,r,s){if(a.scrollbar&&a.scrollbarHide)for(var t=c;t<c+25;t++)d[d.length]=e.hideScrollbarIntervalTimer(10*t,J[c],(c+24-t)/ 24,b,C,g,h,r,s,a)},hideScrollbarInterval:function(i,d,c,J,b,C,g,t,r){O=-1*i/h[t]*(b-C-g-J);e.setSliderOffset("."+c,O);a("."+c).css({opacity:r.scrollbarOpacity*d,filter:"alpha(opacity:"+100*r.scrollbarOpacity*d+")"})},slowScrollHorizontalInterval:function(i,d,c,J,b,C,M,H,r,s,I,u,n,p,k,D,j){if(j.infiniteSlider){if(c<=-1*h[k]){var f=a(i).width();if(c<=-1*na[k]){var q=-1*I[0];a(d).each(function(b){e.setSliderOffset(a(d)[b],q+D);b<u.length&&(u[b]=-1*q);q+=a(this).outerWidth()});c+=-1*u[0];g[k]=-1*u[0]+ D;h[k]=g[k]+f-C;B[k]=0}else{var v=0,m=e.getSliderOffset(a(d[0]),"x");a(d).each(function(a){e.getSliderOffset(this,"x")<m&&(m=e.getSliderOffset(this,"x"),v=a)});n=g[k]+f;e.setSliderOffset(a(d)[v],n);g[k]=-1*u[1]+D;h[k]=g[k]+f-C;u.splice(0,1);u.splice(u.length,0,-1*n+D);B[k]++}}if(c>=-1*g[k]||0<=c)if(f=a(i).width(),0<=c)q=-1*I[0],a(d).each(function(b){e.setSliderOffset(a(d)[b],q+D);b<u.length&&(u[b]=-1*q);q+=a(this).outerWidth()}),c-=-1*u[0],g[k]=-1*u[0]+D,h[k]=g[k]+f-C,B[k]=p,j.snapSlideCenter&&(n= g[k]-a(d[p-1]).width(),e.setSliderOffset(a(d)[p-1],n),u.splice(0,0,-1*n+D),u.splice(u.length-1,1),g[k]=-1*u[0]+D,h[k]=g[k]+f-C,B[k]--);else{var w=0,x=e.getSliderOffset(a(d[0]),"x");a(d).each(function(a){e.getSliderOffset(this,"x")>x&&(x=e.getSliderOffset(this,"x"),w=a)});n=g[k]-a(d[w]).width();e.setSliderOffset(a(d)[w],n);u.splice(0,0,-1*n+D);u.splice(u.length-1,1);g[k]=-1*u[0]+D;h[k]=g[k]+f-C;B[k]--}}I=!1;C=e.calcActiveOffset(j,c,u,C,B[k],p,s,k);n=(C+B[k]+p)%p;j.infiniteSlider?n!=T[k]&&(I=!0):C!= t[k]&&(I=!0);if(I&&""!=j.onSlideChange)j.onSlideChange(new e.args(j,i,a(i).children(":eq("+n+")"),n));t[k]=C;T[k]=n;c=Math.floor(c);e.setSliderOffset(i,c);j.scrollbar&&(O=Math.floor((-1*c-g[k])/(h[k]-g[k])*(M-H-b)),i=b-r,c>=-1*g[k]?(i=b-r- -1*O,e.setSliderOffset(a("."+J),0)):(c<=-1*h[k]+1&&(i=M-H-r-O),e.setSliderOffset(a("."+J),O)),a("."+J).css({width:i+"px"}))},slowScrollHorizontal:function(i,d,c,J,b,C,M,H,r,s,I,u,n,p,k,D,j,f,q,v){var C=[],m=e.getSliderOffset(i,"x"),w=0,x=25/1024*H;frictionCoefficient= v.frictionCoefficient;elasticFrictionCoefficient=v.elasticFrictionCoefficient;snapFrictionCoefficient=v.snapFrictionCoefficient;5<b&&v.snapToChildren&&!f?w=1:-5>b&&(v.snapToChildren&&!f)&&(w=-1);b<-1*x?b=-1*x:b>x&&(b=x);a(i)[0]!==a(j)[0]&&(w*=-1,b*=-2);if(v.infiniteSlider)var y=g[p],l=h[p],G=B[p];j=[];f=[];for(x=0;x<n.length;x++)j[x]=n[x],f[x]=e.getSliderOffset(a(d[x]),"x");for(;1<b||-1>b;){b*=frictionCoefficient;m+=b;if((m>-1*g[p]||m<-1*h[p])&&!v.infiniteSlider)b*=elasticFrictionCoefficient,m+=b; if(v.infiniteSlider){if(m<=-1*l){for(var l=a(i).width(),F=0,K=f[0],x=0;x<f.length;x++)f[x]<K&&(K=f[x],F=x);x=y+l;f[F]=x;y=-1*j[1]+q;l=y+l-H;j.splice(0,1);j.splice(j.length,0,-1*x+q);G++}if(m>=-1*y){l=a(i).width();F=0;K=f[0];for(x=0;x<f.length;x++)f[x]>K&&(K=f[x],F=x);x=y-a(d[F]).outerWidth();f[F]=x;j.splice(0,0,-1*x+q);j.splice(j.length-1,1);y=-1*j[0]+q;l=y+l-H;G--}}C[C.length]=m}y=!1;b=e.calcActiveOffset(v,m,j,H,G,D,t[p],p);G=(b+G+D)%D;v.snapToChildren&&(v.infiniteSlider?G!=T[p]&&(y=!0):b!=t[p]&& (y=!0),0>w&&!y?(b++,b>=n.length&&!v.infinteSlider&&(b=n.length-1)):0<w&&!y&&(b--,0>b&&!v.infinteSlider&&(b=0)));if(v.snapToChildren||(m>-1*g[p]||m<-1*h[p])&&!v.infiniteSlider){m=e.getSliderOffset(i,"x");for(C.splice(0,C.length);m<j[b]-0.5||m>j[b]+0.5;)m=(m-j[b])*snapFrictionCoefficient+j[b],C[C.length]=m;C[C.length]=j[b]}w=1;0!=C.length%2&&(w=0);for(m=0;m<c.length;m++)clearTimeout(c[m]);G=0;for(m=w;m<C.length;m+=2)if(m==w||1<Math.abs(C[m]-G)||m>=C.length-2)G=C[m],c[c.length]=e.slowScrollHorizontalIntervalTimer(10* m,i,d,C[m],J,M,H,r,s,I,b,u,n,k,D,p,q,v);y=!1;G=(b+B[p]+D)%D;v.infiniteSlider?G!=T[p]&&(y=!0):b!=t[p]&&(y=!0);y&&""!=v.onSlideComplete&&(c[c.length]=e.onSlideCompleteTimer(10*(m+1),v,i,a(i).children(":eq("+G+")"),G,p));ba[p]=c;e.hideScrollbar(v,c,m,C,J,M,H,s,I,p)},onSlideComplete:function(i,d,c,g,b){if(fa[b]!=g&&""!=i.onSlideComplete)i.onSlideComplete(new e.args(i,a(d),c,g));fa[b]=g},getSliderOffset:function(e,d){var c=0,d="x"==d?4:5;F&&W?(c=a(e).css("-webkit-transform").split(","),c=parseInt(c[d], 10)):c=parseInt(a(e).css("left"),10);return c},setSliderOffset:function(e,d){F&&W?a(e).css({webkitTransform:"matrix(1,0,0,1,"+d+",0)"}):a(e).css({left:d+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(W=!0,$="-webkit-grab",ka="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?($="move",ka="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?Y=!0:null!=navigator.userAgent.match("MSIE 8")?Z=!0:navigator.userAgent.match("MSIE 9")},getSlideNumber:function(a, e,c){return(a-B[e]+c)%c},calcActiveOffset:function(a,e,c,g){for(var b=!1,a=[],C,h=0;h<c.length;h++)c[h]<=e&&c[h]>e-g&&(!b&&c[h]!=e&&(a[a.length]=c[h-1]),a[a.length]=c[h],b=!0);0==a.length&&(a[0]=c[c.length-1]);for(h=b=0;h<a.length;h++){var t=Math.abs(e-a[h]);t<g&&(b=a[h],g=t)}for(h=0;h<c.length;h++)b==c[h]&&(C=h);return C},changeSlide:function(i,d,c,g,b,h,F,H,r,s,I,u,n,p,k,D,j){e.autoSlidePause(n);for(var f=0;f<g.length;f++)clearTimeout(g[f]);var q=Math.ceil(j.autoSlideTransTimer/10)+1,v=e.getSliderOffset(d, "x"),f=u[i],m=f-v;if(j.infiniteSlider)for(var i=(i-B[n]+2*k)%k,f=u[i],m=f-v,w=[u[i]-a(d).width(),u[i]+a(d).width()],f=0;f<w.length;f++)Math.abs(w[f]-v)<Math.abs(m)&&(m=w[f]-v);var w=[],x;e.showScrollbar(j,b);for(f=0;f<=q;f++)x=f,x/=q,x--,x=v+m*(Math.pow(x,5)+1),w[w.length]=x;for(f=v=0;f<w.length;f++){if(0==f||1<Math.abs(w[f]-v)||f>=w.length-2)v=w[f],g[f]=e.slowScrollHorizontalIntervalTimer(10*(f+1),d,c,w[f],b,h,F,H,r,s,i,I,u,p,k,n,D,j);0==f&&""!=j.onSlideStart&&(q=(t[n]+B[n]+k)%k,j.onSlideStart(new e.args(j, d,a(d).children(":eq("+q+")"),q)))}v=!1;q=(i+B[n]+k)%k;j.infiniteSlider?q!=T[n]&&(v=!0):i!=t[n]&&(v=!0);v&&""!=j.onSlideComplete&&(g[g.length]=e.onSlideCompleteTimer(10*(f+1),j,d,a(d).children(":eq("+q+")"),q,n));ba[n]=g;e.hideScrollbar(j,g,f,w,b,h,F,r,s,n);e.autoSlide(d,c,g,b,h,F,H,r,s,I,u,n,p,k,D,j)},autoSlide:function(a,d,c,g,b,h,F,H,r,s,I,u,n,p,k,D){if(!D.autoSlide)return!1;e.autoSlidePause(u);aa[u]=setTimeout(function(){!D.infiniteSlider&&t[u]>I.length-1&&(t[u]-=p);e.changeSlide((t[u]+B[u]+p+ 1)%p,a,d,c,g,b,h,F,H,r,s,I,u,n,p,k,D);e.autoSlide(a,d,c,g,b,h,F,H,r,s,I,u,n,p,k,D)},D.autoSlideTimer+D.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(aa[a])},isUnselectable:function(e,d){return""!=d.unselectableSelector&&1==a(e).closest(d.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a,d,c,g,b,h,t,B,r,s,F,u,n,p,k,D,j,f){return setTimeout(function(){e.slowScrollHorizontalInterval(d,c,g,b,h,t,B,r,s,F,u,n,p,k,D,j,f)},a)},onSlideCompleteTimer:function(a, d,c,g,b,h){return setTimeout(function(){e.onSlideComplete(d,c,g,b,h)},a)},hideScrollbarIntervalTimer:function(a,d,c,g,b,h,t,B,r,s){return setTimeout(function(){e.hideScrollbarInterval(d,c,g,b,h,t,B,r,s)},a)},args:function(g,d,c,h){this.settings=g;this.data=a(d).parent().data("iosslider");this.sliderObject=d;this.sliderContainerObject=a(d).parent();this.currentSlideObject=c;this.currentSlideNumber=h+1;this.currentSliderOffset=-1*e.getSliderOffset(d,"x")},preventDrag:function(a){a.preventDefault()}, preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};e.setBrowserInfo();var P={init:function(i,d){var c=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px", scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"", onSlideStart:"",onSlideChange:"",onSlideComplete:""},i);void 0==d&&(d=this);return a(d).each(function(){function d(){e.autoSlidePause(b);a(f).css("width","");a(f).css("height","");a(z).css("width","");A=a(z).children().not("script");a(A).css("width","");h[b]=0;l=[];k=a(f).parent().width();q=a(f).outerWidth(!0);c.responsiveSlideContainer&&(q=a(f).outerWidth(!0)>k?k:a(f).outerWidth(!0));a(f).css({position:c.stageCSS.position,top:c.stageCSS.top,left:c.stageCSS.left,overflow:c.stageCSS.overflow,zIndex:c.stageCSS.zIndex, webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:q});a(c.unselectableSelector).css({cursor:"default"});c.responsiveSlides&&a(A).each(function(){var b=a(this).outerWidth(!0),b=b>q?q+-1*(a(this).outerWidth(!0)-a(this).width()):a(this).width();a(this).css({width:b})});a(A).each(function(c){a(this).css({webkitBackfaceVisibility:"hidden",position:"absolute",top:0});l[c]=-1*h[b];h[b]+=a(this).outerWidth(!0)});c.snapSlideCenter&&(j=0.5*(q-a(A[0]).outerWidth()));na[b]=2*h[b];a(A).each(function(c){e.setSliderOffset(a(this), -1*l[c]+h[b]+j);l[c]-=h[b]});if(!c.infiniteSlider&&!c.snapSlideCenter){for(var N=0;N<l.length&&!(l[N]<=-1*(2*h[b]-q));N++)aa=N;l.splice(aa+1,l.length);l[l.length]=-1*(2*h[b]-q)}for(N=0;N<l.length;N++)G[N]=l[N];g[b]=h[b]+j;a(z).css({position:"relative",cursor:$,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:h[b]+"px"});h[b]=2*h[b]-q+2*j;D=a(f).parent().outerHeight(!0);v=a(f).height();c.responsiveSlideContainer&&(v=a(f).height()>D?D:a(f).height());a(f).css({height:v});if(c.infiniteSlider){e.getSliderOffset(a(z), "x");for(var N=a(z).width(),x=-1*((B[b]+E)%E);0>x;){var y=0,J=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")<J&&(J=e.getSliderOffset(this,"x"),y=a)});var H=g[b]+N;e.setSliderOffset(a(A)[y],H);g[b]=-1*l[1]+j;h[b]=g[b]+N-q;l.splice(0,1);l.splice(l.length,0,-1*H+j);x++}if(0==t[b]&&c.snapSlideCenter){var K=0,M=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")>M&&(M=e.getSliderOffset(this,"x"),K=a)});H=g[b]-a(A[K]).outerWidth();e.setSliderOffset(a(A)[K], H);l.splice(0,0,-1*H+j);l.splice(l.length-1,1);g[b]=-1*l[0]+j;h[b]=g[b]+N-q;B[b]--;t[b]++}}e.setSliderOffset(z,l[t[b]]);(R=0>=h[b]?!0:!1)&&a(z).css({cursor:"default"});!F&&!c.desktopClickDrag&&a(z).css({cursor:"default"});c.scrollbar&&!R&&(a("."+r).css({margin:c.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+r+" ."+s).css({border:c.scrollbarBorder}),m=parseInt(a("."+r).css("marginLeft"))+parseInt(a("."+r).css("marginRight")),w=parseInt(a("."+r+" ."+s).css("borderLeftWidth"),10)+parseInt(a("."+ r+" ."+s).css("borderRightWidth"),10),n=""!=c.scrollbarContainer?a(c.scrollbarContainer).width():q,p=(n-m)/E,c.scrollbarHide||(P=c.scrollbarOpacity),a("."+r).css({position:"absolute",left:0,width:n-m+"px",margin:c.scrollbarMargin}),"top"==c.scrollbarLocation?a("."+r).css("top","0"):a("."+r).css("bottom","0"),a("."+r+" ."+s).css({borderRadius:c.scrollbarBorderRadius,background:c.scrollbarBackground,height:c.scrollbarHeight,width:p-w+"px",minWidth:c.scrollbarHeight,border:c.scrollbarBorder,webkitPerspective:1E3, webkitBackfaceVisibility:"hidden",position:"relative",opacity:P,filter:"alpha(opacity:"+100*P+")",boxShadow:c.scrollbarShadow}),e.setSliderOffset(a("."+r+" ."+s),Math.floor((-1*l[t[b]]-g[b])/(h[b]-g[b])*(n-m-p))),a("."+r).css({display:"block"}),I=a("."+r+" ."+s),u=a("."+r));c.scrollbarDrag&&!R&&a("."+r+" ."+s).css({cursor:$});c.infiniteSlider&&(L=(h[b]+q)/3);""!=c.navSlideSelector&&a(c.navSlideSelector).each(function(d){a(this).css({cursor:"pointer"});a(this).unbind(U).bind(U,function(){e.changeSlide(d, z,A,i,s,p,q,n,m,w,G,l,b,L,E,j,c)})});""!=c.navPrevSelector&&(a(c.navPrevSelector).css({cursor:"pointer"}),a(c.navPrevSelector).unbind(U).bind(U,function(){var a=(t[b]+B[b]+E)%E;(0<a||c.infiniteSlider)&&e.changeSlide(a-1,z,A,i,s,p,q,n,m,w,G,l,b,L,E,j,c)}));""!=c.navNextSelector&&(a(c.navNextSelector).css({cursor:"pointer"}),a(c.navNextSelector).unbind(U).bind(U,function(){var a=(t[b]+B[b]+E)%E;(a<l.length-1||c.infiniteSlider)&&e.changeSlide(a+1,z,A,i,s,p,q,n,m,w,G,l,b,L,E,j,c)}));c.autoSlide&&!R&& (""!=c.autoSlideToggleSelector&&(a(c.autoSlideToggleSelector).css({cursor:"pointer"}),a(c.autoSlideToggleSelector).unbind(U).bind(U,function(){X?(e.autoSlide(z,A,i,s,p,q,n,m,w,G,l,b,L,E,j,c),X=!1,a(c.autoSlideToggleSelector).removeClass("on")):(e.autoSlidePause(b),X=!0,a(c.autoSlideToggleSelector).addClass("on"))})),!X&&!R&&e.autoSlide(z,A,i,s,p,q,n,m,w,G,l,b,L,E,j,c),F?a(f).bind("touchend.iosSliderEvent",function(){!X&&!R&&e.autoSlide(z,A,i,s,p,q,n,m,w,G,l,b,L,E,j,c)}):(a(f).bind("mouseenter.iosSliderEvent", function(){e.autoSlidePause(b)}),a(f).bind("mouseleave.iosSliderEvent",function(){!X&&!R&&e.autoSlide(z,A,i,s,p,q,n,m,w,G,l,b,L,E,j,c)})));a(f).data("iosslider",{obj:ra,settings:c,scrollerNode:z,slideNodes:A,numberOfSlides:E,centeredSlideOffset:j,sliderNumber:b,originalOffsets:G,childrenOffsets:l,sliderMax:h[b],scrollbarClass:s,scrollbarWidth:p,scrollbarStageWidth:n,stageWidth:q,scrollMargin:m,scrollBorder:w,infiniteSliderOffset:B[b],infiniteSliderWidth:L});return!0}ea++;var b=ea,i=[];la[b]=c;g[b]= 0;h[b]=0;var M=[0,0],H=[0,0],r="scrollbarBlock"+ea,s="scrollbar"+ea,I,u,n,p,k,D,j=0,f=a(this),q,v,m,w,x;t[b]=c.startAtSlide-1;T[b]=t[b];var y=-1,l,G=[],P=0,K=0,W=0,z=a(this).children(":first-child"),A,E=a(z).children().not("script").size(),S=!1,aa=0,oa=!1,ha=void 0,L;B[b]=0;var R=!1;fa[b]=-1;var X=!1;ma[b]=!1;var ia,ja=!1,ca=!1,U=F?"touchstart.iosSliderEvent":"click.iosSliderEvent";ga[b]=!1;ba[b]=[];c.scrollbarDrag&&(c.scrollbar=!0,c.scrollbarHide=!1);var ra=a(this);if(void 0!=ra.data("iosslider"))return!0; a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});c.infiniteSlider&&(c.scrollbar=!1);c.scrollbar&&(""!=c.scrollbarContainer?a(c.scrollbarContainer).append("<div class = '"+r+"'><div class = '"+s+"'></div></div>"):a(z).parent().append("<div class = '"+r+"'><div class = '"+s+"'></div></div>"));if(!d())return!0;a(this).find("a").bind("mousedown",e.preventDrag);a(this).find("[onclick]").bind("click",e.preventDrag).each(function(){a(this).data("onclick",this.onclick)}); y=e.calcActiveOffset(c,e.getSliderOffset(a(z),"x"),l,q,B[b],E,void 0,b);y=(y+B[b]+E)%E;if(""!=c.onSliderLoaded)c.onSliderLoaded(new e.args(c,z,a(z).children(":eq("+y+")"),y));fa[b]=y;if(la[b].responsiveSlides||la[b].responsiveSlideContainer)y=sa?"orientationchange":"resize",a(window).bind(y+".iosSliderEvent",function(){if(!d())return!0});c.keyboardControls&&!R&&a(document).bind("keydown.iosSliderEvent",function(a){!Y&&!Z&&(a=a.originalEvent);switch(a.keyCode){case 37:a=(t[b]+B[b]+E-1)%E;(0<a||c.infiniteSlider)&& e.changeSlide(a,z,A,i,s,p,q,n,m,w,G,l,b,L,E,j,c);break;case 39:a=(t[b]+B[b]+E+1)%E,(a<l.length-1||c.infiniteSlider)&&e.changeSlide(a,z,A,i,s,p,q,n,m,w,G,l,b,L,E,j,c)}});if(F||c.desktopClickDrag&&!R){var pa=F?"touchstart.iosSliderEvent":"mousedown.iosSliderEvent",da=a(z),y=a(z),qa=!1;c.scrollbarDrag&&(da=da.add(I),y=y.add(u));a(da).bind(pa,function(d){if(ga[b]||(qa=e.isUnselectable(d.target,c)))return!0;ia=a(this)[0]===a(I)[0]?I:z;!Y&&!Z&&(d=d.originalEvent);e.autoSlidePause(b);F?(eventX=d.touches[0].pageX, eventY=d.touches[0].pageY):(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),eventX=d.pageX,eventY=d.pageY,oa=!0,ha=z,a(this).css({cursor:ka}));M=[0,0];H=[0,0];Q=0;S=!1;for(d=0;d<i.length;d++)clearTimeout(i[d]);d=e.getSliderOffset(z,"x");d>-1*g[b]?(d=g[b],e.setSliderOffset(a("."+s),d),a("."+s).css({width:p-w+"px"})):d<-1*h[b]&&(d=-1*h[b],e.setSliderOffset(z, d),e.setSliderOffset(a("."+s),n-m-p),a("."+s).css({width:p-w+"px"}));d=a(this)[0]===a(I)[0]?g[b]:0;K=-1*(e.getSliderOffset(this,"x")-eventX-d);e.getSliderOffset(this,"y");M[1]=eventX;H[1]=eventY;ca=!1});pa=F?"touchmove.iosSliderEvent":"mousemove.iosSliderEvent";a(y).bind(pa,function(d){!Y&&!Z&&(d=d.originalEvent);if(qa)return!0;var i=0;F||(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&& document.selection.empty());if(F)eventX=d.touches[0].pageX,eventY=d.touches[0].pageY;else if(eventX=d.pageX,eventY=d.pageY,!oa)return!1;M[0]=M[1];M[1]=eventX;Q=(M[1]-M[0])/2;H[0]=H[1];H[1]=eventY;V=(H[1]-H[0])/2;if(!S&&""!=c.onSlideStart){var f=(t[b]+B[b]+E)%E;c.onSlideStart(new e.args(c,z,a(z).children(":eq("+f+")"),f))}if((3<V||-3>V)&&3>Q&&-3<Q&&F&&!S)ja=!0;(5<Q||-5>Q)&&F?(d.preventDefault(),S=!0):F||(S=!0);if(S&&!ja){var f=e.getSliderOffset(z,"x"),k=a(this)[0]===a(u)[0]?g[b]:0,v=a(this)[0]===a(u)[0]? (g[b]-h[b])/(n-m-p):1,r=a(this)[0]===a(u)[0]?c.scrollbarElasticPullResistance:c.elasticPullResistance;F&&(W!=d.touches.length&&(K=-1*f+eventX),W=d.touches.length);if(c.infiniteSlider){if(f<=-1*h[b])if(r=a(z).width(),f<=-1*na[b]){var y=-1*G[0];a(A).each(function(b){e.setSliderOffset(a(A)[b],y+j);b<l.length&&(l[b]=-1*y);y+=a(this).outerWidth()});K-=-1*l[0];g[b]=-1*l[0]+j;h[b]=g[b]+r-q;B[b]=0}else{var C=0,D=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")<D&&(D=e.getSliderOffset(this, "x"),C=a)});var J=g[b]+r;e.setSliderOffset(a(A)[C],J);g[b]=-1*l[1]+j;h[b]=g[b]+r-q;l.splice(0,1);l.splice(l.length,0,-1*J+j);B[b]++}if(f>=-1*g[b]||0<=f)if(r=a(z).width(),0<=f)y=-1*G[0],a(A).each(function(b){e.setSliderOffset(a(A)[b],y+j);b<l.length&&(l[b]=-1*y);y+=a(this).outerWidth()}),K+=-1*l[0],g[b]=-1*l[0]+j,h[b]=g[b]+r-q,B[b]=E,c.snapSlideCenter&&(J=g[b]-a(A[E-1]).width(),e.setSliderOffset(a(A)[E-1],J),l.splice(0,0,-1*J+j),l.splice(l.length-1,1),g[b]=-1*l[0]+j,h[b]=g[b]+r-q,B[b]--);else{var I= 0,L=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")>L&&(L=e.getSliderOffset(this,"x"),I=a)});J=g[b]-a(A[I]).outerWidth();e.setSliderOffset(a(A)[I],J);l.splice(0,0,-1*J+j);l.splice(l.length-1,1);g[b]=-1*l[0]+j;h[b]=g[b]+r-q;B[b]--}}else f>-1*g[b]&&(i=-1*(g[b]+-1*(K-k-eventX+j)*v-k)*r/v),f<-1*h[b]&&(i=-1*(h[b]+-1*(K-k-eventX)*v-k)*r/v);e.setSliderOffset(z,-1*(K-k-eventX-i)*v-k);c.scrollbar&&(e.showScrollbar(c,s),O=Math.floor((K-eventX-i-g[b])/(h[b]-g[b])*(n-m-p)*v), k=p,f>=-1*g[b]?(k=p-w- -1*O,e.setSliderOffset(a("."+s),0),a("."+s).css({width:k+"px"})):f<=-1*h[b]+1?(k=n-m-w-O,e.setSliderOffset(a("."+s),O),a("."+s).css({width:k+"px"})):e.setSliderOffset(a("."+s),O));F&&(x=d.touches[0].pageX);d=!1;i=e.calcActiveOffset(c,-1*(K-eventX-i),l,q,B[b],E,void 0,b);f=(i+B[b]+E)%E;c.infiniteSlider?f!=T[b]&&(d=!0):i!=t[b]&&(d=!0);if(d&&(t[b]=i,T[b]=f,ca=!0,""!=c.onSlideChange))c.onSlideChange(new e.args(c,z,a(z).children(":eq("+f+")"),f))}});a(da).bind("touchend.iosSliderEvent", function(a){a=a.originalEvent;if(qa)return!0;if(0!=a.touches.length)for(var d=0;d<a.touches.length;d++)a.touches[d].pageX==x&&e.slowScrollHorizontal(z,A,i,s,Q,V,p,q,n,m,w,G,l,b,L,E,ia,ca,j,c);else e.slowScrollHorizontal(z,A,i,s,Q,V,p,q,n,m,w,G,l,b,L,E,ia,ca,j,c);ja=!1});if(!F){y=a(window);if(Z||Y)y=a(document);a(y).bind("mouseup.iosSliderEvent"+b,function(){S?a(z).children(":eq("+t[b]+")").find("a").unbind("click.disableClick").bind("click.disableClick",e.preventClick):a(z).children(":eq("+t[b]+")").find("a").unbind("click.disableClick").bind("click.disableClick", e.enableClick);a(z).children(":eq("+t[b]+")").find("[onclick]").each(function(){this.onclick=function(b){if(S)return!1;a(this).data("onclick").call(this,b||window.event)}});1.6<=parseFloat(a().jquery)&&a(z).children(":eq("+t[b]+")").find("*").each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!S)return!1;a(this).one("click.disableClick",e.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!ma[b]){a(da).css({cursor:$}); oa=!1;if(void 0==ha)return!1;e.slowScrollHorizontal(ha,A,i,s,Q,V,p,q,n,m,w,G,l,b,L,E,ia,ca,j,c);ha=void 0}ja=!1})}}})},destroy:function(i,d){void 0==d&&(d=this);return a(d).each(function(){var c=a(this),d=c.data("iosslider");if(void 0==d)return!1;void 0==i&&(i=!0);e.autoSlidePause(d.sliderNumber);ma[d.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+d.sliderNumber);a(document).unbind(".iosSliderEvent-"+d.sliderNumber);a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent"); a(this).children(":first-child").children().unbind(".iosSliderEvent");i&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(d.settings.navSlideSelector).attr("style",""),a(d.settings.navPrevSelector).attr("style",""),a(d.settings.navNextSelector).attr("style",""),a(d.settings.autoSlideToggleSelector).attr("style",""),a(d.settings.unselectableSelector).attr("style",""));d.settings.scrollbar&&a(".scrollbarBlock"+ d.sliderNumber).remove();for(var d=ba[d.sliderNumber],b=0;b<d.length;b++)clearTimeout(d[b]);c.removeData("iosslider")})},update:function(i){void 0==i&&(i=this);return a(i).each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;P.destroy(!1,this);d.settings.startAtSlide=(t[d.sliderNumber]+1+B[d.sliderNumber]+d.numberOfSlides)%d.numberOfSlides;P.init(d.settings,this);if(""!=d.settings.onSliderUpdate)d.settings.onSliderUpdate(new e.args(d.settings,d.scrollerNode,a(d.scrollerNode).children(":eq("+ (d.settings.startAtSlide-1)+")"),d.settings.startAtSlide-1))})},addSlide:function(e,d){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;d<=c.numberOfSlides?a(c.scrollerNode).children(":eq("+(d-1)+")").before(e):a(c.scrollerNode).children(":eq("+(d-2)+")").after(e);t[c.sliderNumber]>d-2&&t[c.sliderNumber]++;P.update(this)})},removeSlide:function(e){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;a(d.scrollerNode).children(":eq("+(e- 1)+")").remove();t[d.sliderNumber]>e-1&&t[d.sliderNumber]--;P.update(this)})},goToSlide:function(i,d){void 0==d&&(d=this);return a(d).each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;i=(i-1+c.numberOfSlides)%c.numberOfSlides;e.changeSlide(i,a(c.scrollerNode),a(c.slideNodes),ba[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets,c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides, c.centeredSlideOffset,c.settings);t[c.sliderNumber]=i})},lock:function(){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;ga[e.sliderNumber]=!0})},unlock:function(){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;ga[e.sliderNumber]=!1})}};a.fn.iosSlider=function(e){if(P[e])return P[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof e||!e)return P.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);