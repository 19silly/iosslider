/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * A jQuery Horizontal Slider for iPhone/iPad Safari 
 * This plugin turns any wide element into a touch enabled horizontal slider.
 * 
 * Copyright (c) 2012 Marc Whitbread
 * 
 * Version: v1.1.5 (10/02/2012)
 * Minimum requirements: jQuery v1.4+
 * 
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction. 
 *	  Attribution is not required but always appreciated. For commercial projects, you 
 *	  must purchase a license. You may download and play with the script before deciding to 
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider 
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for 
 *    distribution elsewhere "as is" without prior consent. If you would like to feature 
 *    iosSlider on your site, please do not link directly to the resource zip files. Please 
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var da=0,Q=0,U=0,O=0,J="ontouchstart"in window,ra="onorientationchange"in window,V=!1,X=!1,Y=!1,Z="pointer",ja="pointer",ea=[],$=[],ka=[],la=[],aa=[],v=[],T=[],E=[],f=[],m=[],ma=[],fa=[],e={showScrollbar:function(h,e){h.scrollbarHide&&a("."+e).css({opacity:h.scrollbarOpacity,filter:"alpha(opacity:"+100*h.scrollbarOpacity+")"})},hideScrollbar:function(a,d,c,F,b,r,f,m,t,s){if(a.scrollbar&&a.scrollbarHide)for(var v=c;v<c+25;v++)d[d.length]=e.hideScrollbarIntervalTimer(10*v,F[c],(c+24-v)/ 24,b,r,f,m,t,s,a)},hideScrollbarInterval:function(h,d,c,F,b,r,f,v,t){O=-1*h/m[v]*(b-r-f-F);e.setSliderOffset("."+c,O);a("."+c).css({opacity:t.scrollbarOpacity*d,filter:"alpha(opacity:"+100*t.scrollbarOpacity*d+")"})},slowScrollHorizontalInterval:function(h,d,c,F,b,r,M,H,t,s,I,x,q,n,l,B,i){if(i.infiniteSlider){if(c<=-1*m[l]){var g=a(h).width();if(c<=-1*ma[l]){var p=-1*I[0];a(d).each(function(b){e.setSliderOffset(a(d)[b],p+B);b<x.length&&(x[b]=-1*p);p+=a(this).outerWidth()});c+=-1*x[0];f[l]=-1*x[0]+ B;m[l]=f[l]+g-r;E[l]=0}else{var z=0,k=e.getSliderOffset(a(d[0]),"x");a(d).each(function(a){e.getSliderOffset(this,"x")<k&&(k=e.getSliderOffset(this,"x"),z=a)});q=f[l]+g;e.setSliderOffset(a(d)[z],q);f[l]=-1*x[1]+B;m[l]=f[l]+g-r;x.splice(0,1);x.splice(x.length,0,-1*q+B);E[l]++}}if(c>=-1*f[l]||0<=c)if(g=a(h).width(),0<=c)p=-1*I[0],a(d).each(function(b){e.setSliderOffset(a(d)[b],p+B);b<x.length&&(x[b]=-1*p);p+=a(this).outerWidth()}),c-=-1*x[0],f[l]=-1*x[0]+B,m[l]=f[l]+g-r,E[l]=n;else{var u=0,w=e.getSliderOffset(a(d[0]), "x");a(d).each(function(a){e.getSliderOffset(this,"x")>w&&(w=e.getSliderOffset(this,"x"),u=a)});q=f[l]-a(d[u]).width();e.setSliderOffset(a(d)[u],q);x.splice(0,0,-1*q+B);x.splice(x.length-1,1);f[l]=-1*x[0]+B;m[l]=f[l]+g-r;E[l]--}}I=!1;r=e.calcActiveOffset(i,c,x,r,E[l],n,s,l);q=(r+E[l]+n)%n;i.infiniteSlider?q!=T[l]&&(I=!0):r!=v[l]&&(I=!0);if(I&&""!=i.onSlideChange)i.onSlideChange(new e.args(i,h,a(h).children(":eq("+q+")"),q));v[l]=r;T[l]=q;c=Math.floor(c);e.setSliderOffset(h,c);i.scrollbar&&(O=Math.floor((-1* c-f[l])/(m[l]-f[l])*(M-H-b)),h=b-t,c>=-1*f[l]?(h=b-t- -1*O,e.setSliderOffset(a("."+F),0)):(c<=-1*m[l]+1&&(h=M-H-t-O),e.setSliderOffset(a("."+F),O)),a("."+F).css({width:h+"px"}))},slowScrollHorizontal:function(h,d,c,F,b,r,M,H,t,s,I,x,q,n,l,B,i,g,p,z){var r=[],k=e.getSliderOffset(h,"x"),u=0,w=25/1024*H;frictionCoefficient=z.frictionCoefficient;elasticFrictionCoefficient=z.elasticFrictionCoefficient;snapFrictionCoefficient=z.snapFrictionCoefficient;5<b&&z.snapToChildren&&!g?u=1:-5>b&&(z.snapToChildren&& !g)&&(u=-1);b<-1*w?b=-1*w:b>w&&(b=w);a(h)[0]!==a(i)[0]&&(u*=-1,b*=-2);if(z.infiniteSlider)var A=f[n],j=m[n],G=E[n];i=[];g=[];for(w=0;w<q.length;w++)i[w]=q[w],g[w]=e.getSliderOffset(a(d[w]),"x");for(;1<b||-1>b;){b*=frictionCoefficient;k+=b;if((k>-1*f[n]||k<-1*m[n])&&!z.infiniteSlider)b*=elasticFrictionCoefficient,k+=b;if(z.infiniteSlider){if(k<=-1*j){for(var j=a(h).width(),J=0,K=g[0],w=0;w<g.length;w++)g[w]<K&&(K=g[w],J=w);w=A+j;g[J]=w;A=-1*i[1]+p;j=A+j-H;i.splice(0,1);i.splice(i.length,0,-1*w+p); G--}if(k>=-1*A){j=a(h).width();J=0;K=g[0];for(w=0;w<g.length;w++)g[w]>K&&(K=g[w],J=w);w=A-a(d[J]).outerWidth();g[J]=w;i.splice(0,0,-1*w+p);i.splice(i.length-1,1);A=-1*i[0]+p;j=A+j-H;G++}}r[r.length]=k}A=!1;b=e.calcActiveOffset(z,k,i,H,G,B,v[n],n);G=(b+G+B)%B;z.snapToChildren&&(z.infiniteSlider?G!=T[n]&&(A=!0):b!=v[n]&&(A=!0),0>u&&!A?(b++,b>=q.length&&!z.infinteSlider&&(b=q.length-1)):0<u&&!A&&(b--,0>b&&!z.infinteSlider&&(b=0)));if(z.snapToChildren||(k>-1*f[n]||k<-1*m[n])&&!z.infiniteSlider){k=e.getSliderOffset(h, "x");for(r.splice(0,r.length);k<i[b]-0.5||k>i[b]+0.5;)k=(k-i[b])*snapFrictionCoefficient+i[b],r[r.length]=k;r[r.length]=i[b]}u=1;0!=r.length%2&&(u=0);for(k=0;k<c.length;k++)clearTimeout(c[k]);G=0;for(k=u;k<r.length;k+=2)if(k==u||1<Math.abs(r[k]-G)||k>=r.length-2)G=r[k],c[c.length]=e.slowScrollHorizontalIntervalTimer(10*k,h,d,r[k],F,M,H,t,s,I,b,x,q,l,B,n,p,z);A=!1;G=(b+E[n]+B)%B;z.infiniteSlider?G!=T[n]&&(A=!0):slide!=v[n]&&(A=!0);A&&""!=z.onSlideComplete&&(c[c.length]=e.onSlideCompleteTimer(10*(k+ 1),z,h,a(h).children(":eq("+G+")"),G,n));aa[n]=c;e.hideScrollbar(z,c,k,r,F,M,H,s,I,n)},onSlideComplete:function(h,d,c,F,b){if(ea[b]!=F&&""!=h.onSlideComplete)h.onSlideComplete(new e.args(h,a(d),c,F));ea[b]=F},getSliderOffset:function(h,e){var c=0,e="x"==e?4:5;J&&V?(c=a(h).css("-webkit-transform").split(","),c=parseInt(c[e],10)):c=parseInt(a(h).css("left"),10);return c},setSliderOffset:function(e,d){J&&V?a(e).css({webkitTransform:"matrix(1,0,0,1,"+d+",0)"}):a(e).css({left:d+"px"})},setBrowserInfo:function(){null!= navigator.userAgent.match("WebKit")?(V=!0,Z="-webkit-grab",ja="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(Z="move",ja="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?X=!0:null!=navigator.userAgent.match("MSIE 8")?Y=!0:navigator.userAgent.match("MSIE 9")},getSlideNumber:function(a,e,c){return(a-E[e]+c)%c},calcActiveOffset:function(a,e,c,F){for(var b=!1,a=[],r,f=0;f<c.length;f++)c[f]<=e&&c[f]>e-F&&(!b&&c[f]!=e&&(a[a.length]=c[f-1]),a[a.length]=c[f],b=!0);0==a.length&&(a[0]= c[c.length-1]);for(f=b=0;f<a.length;f++){var m=Math.abs(e-a[f]);m<F&&(b=a[f],F=m)}for(f=0;f<c.length;f++)b==c[f]&&(r=f);return r},changeSlide:function(h,d,c,f,b,r,m,H,t,s,I,x,q,n,l,B,i){e.autoSlidePause(q);for(var g=0;g<f.length;g++)clearTimeout(f[g]);var p=Math.ceil(i.autoSlideTransTimer/10)+1,z=e.getSliderOffset(d,"x"),g=x[h],k=g-z;if(i.infiniteSlider)for(var h=(h-E[q]+2*l)%l,g=x[h],k=g-z,u=[x[h]-a(d).width(),x[h]+a(d).width()],g=0;g<u.length;g++)Math.abs(u[g]-z)<Math.abs(k)&&(k=u[g]-z);var u=[], w;e.showScrollbar(i,b);for(g=0;g<=p;g++)w=g,w/=p,w--,w=z+k*(Math.pow(w,5)+1),u[u.length]=w;for(g=p=0;g<u.length;g++){if(0==g||1<Math.abs(u[g]-p)||g>=u.length-2)p=u[g],f[g]=e.slowScrollHorizontalIntervalTimer(10*(g+1),d,c,u[g],b,r,m,H,t,s,h,I,x,n,l,q,B,i);if(0==g&&""!=i.onSlideStart)i.onSlideStart(new e.args(i,d,a(d).children(":eq("+h+")"),h))}p=!1;z=(h+E[q]+l)%l;i.infiniteSlider?z!=T[q]&&(p=!0):h!=v[q]&&(p=!0);p&&""!=i.onSlideComplete&&(f[f.length]=e.onSlideCompleteTimer(10*(g+1),i,d,a(d).children(":eq("+ z+")"),z,q));aa[q]=f;e.hideScrollbar(i,f,g,u,b,r,m,t,s,q);e.autoSlide(d,c,f,b,r,m,H,t,s,I,x,q,n,l,B,i)},autoSlide:function(a,d,c,f,b,r,m,H,t,s,I,x,q,n,l,B){if(!B.autoSlide)return!1;e.autoSlidePause(x);$[x]=setTimeout(function(){!B.infiniteSlider&&v[x]>I.length-1&&(v[x]-=n);e.changeSlide((v[x]+E[x]+n+1)%n,a,d,c,f,b,r,m,H,t,s,I,x,q,n,l,B);e.autoSlide(a,d,c,f,b,r,m,H,t,s,I,x,q,n,l,B)},B.autoSlideTimer+B.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout($[a])},isUnselectable:function(e,d){return""!= d.unselectableSelector&&1==a(e).closest(d.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a,d,c,f,b,r,m,v,t,s,E,x,q,n,l,B,i,g){return setTimeout(function(){e.slowScrollHorizontalInterval(d,c,f,b,r,m,v,t,s,E,x,q,n,l,B,i,g)},a)},onSlideCompleteTimer:function(a,d,c,f,b,r){return setTimeout(function(){e.onSlideComplete(d,c,f,b,r)},a)},hideScrollbarIntervalTimer:function(a,d,c,f,b,r,m,v,t,s){return setTimeout(function(){e.hideScrollbarInterval(d,c,f,b,r,m,v,t,s)},a)},args:function(f, d,c,m){this.settings=f;this.data=a(d).parent().data("iosslider");this.sliderObject=d;this.sliderContainerObject=a(d).parent();this.currentSlideObject=c;this.currentSlideNumber=m;this.currentSliderOffset=-1*e.getSliderOffset(d,"x")},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};e.setBrowserInfo();var P={init:function(h,d){var c=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6, snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"", navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},h);void 0==d&&(d=this);return a(d).each(function(){function d(){e.autoSlidePause(b);a(g).css("width","");a(g).css("height","");a(y).css("width","");C=a(y).children().not("script");a(C).css("width", "");m[b]=0;j=[];l=a(g).parent().width();p=a(g).outerWidth(!0);c.responsiveSlideContainer&&(p=a(g).outerWidth(!0)>l?l:a(g).outerWidth(!0));a(g).css({position:c.stageCSS.position,top:c.stageCSS.top,left:c.stageCSS.left,overflow:c.stageCSS.overflow,zIndex:c.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:p});a(c.unselectableSelector).css({cursor:"default"});c.responsiveSlides&&a(C).each(function(){var b=a(this).outerWidth(!0),b=b>p?p+-1*(a(this).outerWidth(!0)-a(this).width()): a(this).width();a(this).css({width:b})});a(C).each(function(c){a(this).css({position:"absolute",top:0});j[c]=-1*m[b];m[b]+=a(this).outerWidth(!0)});c.snapSlideCenter&&(i=0.5*(p-a(C[0]).outerWidth()));ma[b]=2*m[b];a(C).each(function(c){e.setSliderOffset(a(this),-1*j[c]+m[b]+i);j[c]-=m[b]});if(!c.infiniteSlider){for(var N=0;N<j.length&&!(j[N]<=-1*(2*m[b]-p));N++)$=N;j.splice($+1,j.length);j[j.length]=-1*(2*m[b]-p)}for(N=0;N<j.length;N++)G[N]=j[N];f[b]=m[b]+i;a(y).css({position:"relative",cursor:Z,webkitPerspective:1E3, webkitBackfaceVisibility:"hidden",width:m[b]+"px"});m[b]=2*m[b]-p;B=a(g).parent().outerHeight(!0);z=a(g).height();c.responsiveSlideContainer&&(z=a(g).height()>B?B:a(g).height());a(g).css({height:z});if(c.infiniteSlider){e.getSliderOffset(a(y),"x");for(var N=a(y).width(),w=-1*((E[b]+D)%D);0>w;){var F=0,A=e.getSliderOffset(a(C[0]),"x");a(C).each(function(a){e.getSliderOffset(this,"x")<A&&(A=e.getSliderOffset(this,"x"),F=a)});var H=f[b]+N;e.setSliderOffset(a(C)[F],H);f[b]=-1*j[1]+i;m[b]=f[b]+N-p;j.splice(0, 1);j.splice(j.length,0,-1*H+i);w++}if(0==v[b]){var K=0,M=e.getSliderOffset(a(C[0]),"x");a(C).each(function(a){e.getSliderOffset(this,"x")>M&&(M=e.getSliderOffset(this,"x"),K=a)});H=f[b]-a(C[K]).outerWidth();e.setSliderOffset(a(C)[K],H);j.splice(0,0,-1*H+i);j.splice(j.length-1,1);f[b]=-1*j[0]+i;m[b]=f[b]+N-p;E[b]--;v[b]++}}e.setSliderOffset(y,j[v[b]]);(R=0>=m[b]?!0:!1)&&a(y).css({cursor:"default"});!J&&!c.desktopClickDrag&&a(y).css({cursor:"default"});c.scrollbar&&!R&&(a("."+t).css({margin:c.scrollbarMargin, overflow:"hidden",display:"none"}),a("."+t+" ."+s).css({border:c.scrollbarBorder}),k=parseInt(a("."+t).css("marginLeft"))+parseInt(a("."+t).css("marginRight")),u=parseInt(a("."+t+" ."+s).css("borderLeftWidth"),10)+parseInt(a("."+t+" ."+s).css("borderRightWidth"),10),q=""!=c.scrollbarContainer?a(c.scrollbarContainer).width():p,n=(q-k)/D,c.scrollbarHide||(P=c.scrollbarOpacity),a("."+t).css({position:"absolute",left:0,width:q-k+"px",margin:c.scrollbarMargin}),"top"==c.scrollbarLocation?a("."+t).css("top", "0"):a("."+t).css("bottom","0"),a("."+t+" ."+s).css({borderRadius:c.scrollbarBorderRadius,background:c.scrollbarBackground,height:c.scrollbarHeight,width:n-u+"px",minWidth:c.scrollbarHeight,border:c.scrollbarBorder,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative",opacity:P,filter:"alpha(opacity:"+100*P+")",boxShadow:c.scrollbarShadow}),e.setSliderOffset(a("."+t+" ."+s),Math.floor((-1*j[v[b]]-f[b])/(m[b]-f[b])*(q-k-n))),a("."+t).css({display:"block"}),I=a("."+t+" ."+s),x= a("."+t));c.scrollbarDrag&&!R&&a("."+t+" ."+s).css({cursor:Z});c.infiniteSlider&&(L=(m[b]+p)/3);""!=c.navSlideSelector&&a(c.navSlideSelector).each(function(d){a(this).css({cursor:"pointer"});a(this).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){e.changeSlide(d,y,C,h,s,n,p,q,k,u,G,j,b,L,D,i,c)})});""!=c.navPrevSelector&&(a(c.navPrevSelector).css({cursor:"pointer"}),a(c.navPrevSelector).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){var a=(v[b]+E[b]+D)% D;(0<a||c.infiniteSlider)&&e.changeSlide(a-1,y,C,h,s,n,p,q,k,u,G,j,b,L,D,i,c)}));""!=c.navNextSelector&&(a(c.navNextSelector).css({cursor:"pointer"}),a(c.navNextSelector).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){var a=(v[b]+E[b]+D)%D;(a<j.length-1||c.infiniteSlider)&&e.changeSlide(a+1,y,C,h,s,n,p,q,k,u,G,j,b,L,D,i,c)}));c.autoSlide&&!R&&(""!=c.autoSlideToggleSelector&&(a(c.autoSlideToggleSelector).css({cursor:"pointer"}),a(c.autoSlideToggleSelector).unbind("click.iosSliderEvent").bind("click.iosSliderEvent", function(){W?(e.autoSlide(y,C,h,s,n,p,q,k,u,G,j,b,L,D,i,c),W=!1,a(c.autoSlideToggleSelector).removeClass("on")):(e.autoSlidePause(b),W=!0,a(c.autoSlideToggleSelector).addClass("on"))})),!W&&!R&&e.autoSlide(y,C,h,s,n,p,q,k,u,G,j,b,L,D,i,c),J?a(g).bind("touchend.iosSliderEvent",function(){!W&&!R&&e.autoSlide(y,C,h,s,n,p,q,k,u,G,j,b,L,D,i,c)}):(a(g).bind("mouseenter.iosSliderEvent",function(){e.autoSlidePause(b)}),a(g).bind("mouseleave.iosSliderEvent",function(){!W&&!R&&e.autoSlide(y,C,h,s,n,p,q,k,u, G,j,b,L,D,i,c)})));a(g).data("iosslider",{obj:qa,settings:c,scrollerNode:y,slideNodes:C,numberOfSlides:D,centeredSlideOffset:i,sliderNumber:b,originalOffsets:G,childrenOffsets:j,sliderMax:m[b],scrollbarClass:s,scrollbarWidth:n,scrollbarStageWidth:q,stageWidth:p,scrollMargin:k,scrollBorder:u,infiniteSliderOffset:E[b],infiniteSliderWidth:L});return!0}da++;var b=da,h=[];ka[b]=c;f[b]=0;m[b]=0;var M=[0,0],H=[0,0],t="scrollbarBlock"+da,s="scrollbar"+da,I,x,q,n,l,B,i=0,g=a(this),p,z,k,u,w;v[b]=c.startAtSlide- 1;T[b]=v[b];var A=-1,j,G=[],P=0,K=0,V=0,y=a(this).children(":first-child"),C,D=a(y).children().not("script").size(),S=!1,$=0,na=!1,ga=void 0,L;E[b]=0;var R=!1;ea[b]=-1;var W=!1;la[b]=!1;var ha,ia=!1,ba=!1;fa[b]=!1;aa[b]=[];c.scrollbarDrag&&(c.scrollbar=!0,c.scrollbarHide=!1);var qa=a(this);if(void 0!=qa.data("iosslider"))return!0;a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});c.infiniteSlider&&(c.scrollbar=!1);c.scrollbar&&(""!=c.scrollbarContainer?a(c.scrollbarContainer).append("<div class = '"+ t+"'><div class = '"+s+"'></div></div>"):a(y).parent().append("<div class = '"+t+"'><div class = '"+s+"'></div></div>"));if(!d())return!0;a(this).find("a").bind("mousedown",e.preventDrag);a(this).find("[onclick]").bind("click",e.preventDrag).each(function(){a(this).data("onclick",this.onclick)});A=e.calcActiveOffset(c,e.getSliderOffset(a(y),"x"),j,p,E[b],D,void 0,b);A=(A+E[b]+D)%D;if(""!=c.onSliderLoaded)c.onSliderLoaded(new e.args(c,y,a(y).children(":eq("+A+")"),A));ea[b]=A;if(ka[b].responsiveSlides|| ka[b].responsiveSlideContainer)A=ra?"orientationchange":"resize",a(window).bind(A+".iosSliderEvent",function(){if(!d())return!0});c.keyboardControls&&!R&&a(document).bind("keydown.iosSliderEvent",function(a){!X&&!Y&&(a=a.originalEvent);switch(a.keyCode){case 37:a=(v[b]+E[b]+D-1)%D;(0<a||c.infiniteSlider)&&e.changeSlide(a,y,C,h,s,n,p,q,k,u,G,j,b,L,D,i,c);break;case 39:a=(v[b]+E[b]+D+1)%D,(a<j.length-1||c.infiniteSlider)&&e.changeSlide(a,y,C,h,s,n,p,q,k,u,G,j,b,L,D,i,c)}});if(J||c.desktopClickDrag&& !R){var oa=J?"touchstart.iosSliderEvent":"mousedown.iosSliderEvent",ca=a(y),A=a(y),pa=!1;c.scrollbarDrag&&(ca=ca.add(I),A=A.add(x));a(ca).bind(oa,function(d){if(fa[b]||(pa=e.isUnselectable(d.target,c)))return!0;ha=a(this)[0]===a(I)[0]?I:y;!X&&!Y&&(d=d.originalEvent);e.autoSlidePause(b);J?(eventX=d.touches[0].pageX,eventY=d.touches[0].pageY):(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges(): document.selection&&document.selection.empty(),eventX=d.pageX,eventY=d.pageY,na=!0,ga=y,a(this).css({cursor:ja}));M=[0,0];H=[0,0];Q=0;S=!1;for(d=0;d<h.length;d++)clearTimeout(h[d]);d=e.getSliderOffset(y,"x");d>-1*f[b]?(d=f[b],e.setSliderOffset(a("."+s),d),a("."+s).css({width:n-u+"px"})):d<-1*m[b]&&(d=-1*m[b],e.setSliderOffset(y,d),e.setSliderOffset(a("."+s),q-k-n),a("."+s).css({width:n-u+"px"}));d=a(this)[0]===a(I)[0]?f[b]:0;K=-1*(e.getSliderOffset(this,"x")-eventX-d);e.getSliderOffset(this,"y"); M[1]=eventX;H[1]=eventY;ba=!1});oa=J?"touchmove.iosSliderEvent":"mousemove.iosSliderEvent";a(A).bind(oa,function(d){!X&&!Y&&(d=d.originalEvent);if(pa)return!0;var h=0;J||(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty());if(J)eventX=d.touches[0].pageX,eventY=d.touches[0].pageY;else if(eventX=d.pageX,eventY=d.pageY,!na)return!1;M[0]=M[1];M[1]=eventX; Q=(M[1]-M[0])/2;H[0]=H[1];H[1]=eventY;U=(H[1]-H[0])/2;if(!S&&""!=c.onSlideStart){var g=(v[b]+E[b]+D)%D;c.onSlideStart(new e.args(c,y,a(y).children(":eq("+g+")"),g))}if((3<U||-3>U)&&3>Q&&-3<Q&&J&&!S)ia=!0;(5<Q||-5>Q)&&J?(d.preventDefault(),S=!0):J||(S=!0);if(S&&!ia){var g=e.getSliderOffset(y,"x"),l=a(this)[0]===a(x)[0]?f[b]:0,r=a(this)[0]===a(x)[0]?(f[b]-m[b])/(q-k-n):1,t=a(this)[0]===a(x)[0]?c.scrollbarElasticPullResistance:c.elasticPullResistance;J&&(V!=d.touches.length&&(K=-1*g+eventX),V=d.touches.length); if(c.infiniteSlider){if(g<=-1*m[b])if(t=a(y).width(),g<=-1*ma[b]){var F=-1*G[0];a(C).each(function(b){e.setSliderOffset(a(C)[b],F+i);b<j.length&&(j[b]=-1*F);F+=a(this).outerWidth()});K-=-1*j[0];f[b]=-1*j[0]+i;m[b]=f[b]+t-p;E[b]=0}else{var z=0,A=e.getSliderOffset(a(C[0]),"x");a(C).each(function(a){e.getSliderOffset(this,"x")<A&&(A=e.getSliderOffset(this,"x"),z=a)});var B=f[b]+t;e.setSliderOffset(a(C)[z],B);f[b]=-1*j[1]+i;m[b]=f[b]+t-p;j.splice(0,1);j.splice(j.length,0,-1*B+i);E[b]++}if(g>=-1*f[b]|| 0<=g)if(t=a(y).width(),0<=g)F=-1*G[0],a(C).each(function(b){e.setSliderOffset(a(C)[b],F+i);b<j.length&&(j[b]=-1*F);F+=a(this).outerWidth()}),K+=-1*j[0],f[b]=-1*j[0]+i,m[b]=f[b]+t-p,E[b]=D;else{var I=0,L=e.getSliderOffset(a(C[0]),"x");a(C).each(function(a){e.getSliderOffset(this,"x")>L&&(L=e.getSliderOffset(this,"x"),I=a)});B=f[b]-a(C[I]).outerWidth();e.setSliderOffset(a(C)[I],B);j.splice(0,0,-1*B+i);j.splice(j.length-1,1);f[b]=-1*j[0]+i;m[b]=f[b]+t-p;E[b]--}}else g>-1*f[b]&&(h=-1*(f[b]+-1*(K-l-eventX)* r-l)*t/r),g<-1*m[b]&&(h=-1*(m[b]+-1*(K-l-eventX)*r-l)*t/r);e.setSliderOffset(y,-1*(K-l-eventX-h)*r-l);c.scrollbar&&(e.showScrollbar(c,s),O=Math.floor((K-eventX-h-f[b])/(m[b]-f[b])*(q-k-n)*r),l=n,g>=-1*f[b]?(l=n-u- -1*O,e.setSliderOffset(a("."+s),0),a("."+s).css({width:l+"px"})):g<=-1*m[b]+1?(l=q-k-u-O,e.setSliderOffset(a("."+s),O),a("."+s).css({width:l+"px"})):e.setSliderOffset(a("."+s),O));J&&(w=d.touches[0].pageX);d=!1;h=e.calcActiveOffset(c,-1*(K-eventX-h),j,p,E[b],D,void 0,b);g=(h+E[b]+D)%D;c.infiniteSlider? g!=T[b]&&(d=!0):h!=v[b]&&(d=!0);if(d&&(v[b]=h,T[b]=g,ba=!0,""!=c.onSlideChange))c.onSlideChange(new e.args(c,y,a(y).children(":eq("+g+")"),g))}});a(ca).bind("touchend.iosSliderEvent",function(a){a=a.originalEvent;if(pa)return!0;if(0!=a.touches.length)for(var d=0;d<a.touches.length;d++)a.touches[d].pageX==w&&e.slowScrollHorizontal(y,C,h,s,Q,U,n,p,q,k,u,G,j,b,L,D,ha,ba,i,c);else e.slowScrollHorizontal(y,C,h,s,Q,U,n,p,q,k,u,G,j,b,L,D,ha,ba,i,c);ia=!1});if(!J){A=a(window);if(Y||X)A=a(document);a(A).bind("mouseup.iosSliderEvent"+ b,function(){S?a(y).children(":eq("+v[b]+")").find("a").unbind("click.disableClick").bind("click.disableClick",e.preventClick):a(y).children(":eq("+v[b]+")").find("a").unbind("click.disableClick").bind("click.disableClick",e.enableClick);a(y).children(":eq("+v[b]+")").find("[onclick]").each(function(){this.onclick=function(b){if(S)return!1;a(this).data("onclick").call(this,b||window.event)}});1.6<=parseFloat(a().jquery)&&a(y).children(":eq("+v[b]+")").find("*").each(function(){var b=a(this).data("events"); if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!S)return!1;a(this).one("click.disableClick",e.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!la[b]){a(ca).css({cursor:Z});na=!1;if(void 0==ga)return!1;e.slowScrollHorizontal(ga,C,h,s,Q,U,n,p,q,k,u,G,j,b,L,D,ha,ba,i,c);ga=void 0}ia=!1})}}})},destroy:function(h,d){void 0==d&&(d=this);return a(d).each(function(){var c=a(this),d=c.data("iosslider");if(void 0==d)return!1;void 0==h&&(h=!0);e.autoSlidePause(d.sliderNumber); la[d.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+d.sliderNumber);a(document).unbind(".iosSliderEvent-"+d.sliderNumber);a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");h&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(d.settings.navSlideSelector).attr("style",""),a(d.settings.navPrevSelector).attr("style", ""),a(d.settings.navNextSelector).attr("style",""),a(d.settings.autoSlideToggleSelector).attr("style",""),a(d.settings.unselectableSelector).attr("style",""));d.settings.scrollbar&&a(".scrollbarBlock"+d.sliderNumber).remove();for(var d=aa[d.sliderNumber],b=0;b<d.length;b++)clearTimeout(d[b]);c.removeData("iosslider")})},update:function(h){void 0==h&&(h=this);return a(h).each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;P.destroy(!1,this);d.settings.startAtSlide=v[d.sliderNumber]+ 1;P.init(d.settings,this);if(""!=d.settings.onSliderUpdate)d.settings.onSliderUpdate(new e.args(d.settings,d.scrollerNode,a(d.scrollerNode).children(":eq("+v[d.sliderNumber]+")"),v[d.sliderNumber]%d.infiniteSliderOffset))})},addSlide:function(e,d){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;d<=c.numberOfSlides?a(c.scrollerNode).children(":eq("+(d-1)+")").before(e):a(c.scrollerNode).children(":eq("+(d-2)+")").after(e);v[c.sliderNumber]>d-2&&v[c.sliderNumber]++; P.update(this)})},removeSlide:function(e){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;a(d.scrollerNode).children(":eq("+(e-1)+")").remove();v[d.sliderNumber]>e-1&&v[d.sliderNumber]--;P.update(this)})},goToSlide:function(h,d){void 0==d&&(d=this);return a(d).each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;h=(h-1+c.numberOfSlides)%c.numberOfSlides;e.changeSlide(h,a(c.scrollerNode),a(c.slideNodes),aa[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth, c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets,c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides,c.centeredSlideOffset,c.settings);v[c.sliderNumber]=h})},lock:function(){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;fa[e.sliderNumber]=!0})},unlock:function(){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;fa[e.sliderNumber]=!1})}};a.fn.iosSlider=function(e){if(P[e])return P[e].apply(this, Array.prototype.slice.call(arguments,1));if("object"===typeof e||!e)return P.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);