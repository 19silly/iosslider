(function(a){var K=0,D=0,L=0,w=0,s="ontouchstart"in window,E=!1,W=!1,X=!1,M="pointer",P="pointer",Q=[],J=[],R=[],S=[],N=[],c={showScrollbar:function(h,b){h.scrollbarHide&&a("."+b).css({opacity:h.scrollbarOpacity,filter:"alpha(opacity:"+100*h.scrollbarOpacity+")"})},hideScrollbar:function(a,b,g,f,d,e,v,n,m,l){if(a.scrollbar&&a.scrollbarHide)for(var i=g;i<g+25;i++)b[b.length]=c.hideScrollbarIntervalTimer(10*i,f[g],(g+24-i)/24,d,e,v,n,m,l,a)},hideScrollbarInterval:function(h,b,g,f,d,e,v,n,m){w=-1*h/ g*(e-v-n-d);c.setSliderOffset("."+f,w);a("."+f).css({opacity:m.scrollbarOpacity*b,filter:"alpha(opacity:"+100*m.scrollbarOpacity*b+")"})},slowScrollHorizontalInterval:function(h,b,g,f,d,e,v,n,m,l,i,t,F,o){newChildOffset=c.calcActiveOffset(o,b,0,l,g,e,void 0);if(newChildOffset!=m)o.onSlideChange(new c.args(o,h,a(h).children(":eq("+m+")"),m%t));b=Math.floor(b);c.setSliderOffset(h,b);o.scrollbar&&(w=Math.floor(-1*b/g*(e-v-d)),h=d-n,0<=b?(h=d-n- -1*w,c.setSliderOffset(a("."+f),0)):(b<=-1*g+1&&(h=e-v- n-w),c.setSliderOffset(a("."+f),w)),a("."+f).css({width:h+"px"}))},slowScrollHorizontal:function(h,b,g,f,d,e,v,n,m,l,i,t,F,o,k,s,r){var e=[],p=c.getSliderOffset(h,"x"),A=0,j=25/1024*n;frictionCoefficient=r.frictionCoefficient;elasticFrictionCoefficient=r.elasticFrictionCoefficient;snapFrictionCoefficient=r.snapFrictionCoefficient;snapToChildren=r.snapToChildren;5<d&&snapToChildren?A=1:-5>d&&snapToChildren&&(A=-1);d<-1*j?d=-1*j:d>j&&(d=j);j=c.getAnimationSteps(r,d,p,g,0,t);i=snapToChildren?c.calcActiveOffset(r, p,A,t,g,n,i):c.calcActiveOffset(r,j[j.length-1],A,t,g,n,i);r.infiniteSlider&&(t[i]>t[s+1]+n&&(i+=s),t[i]<t[2*s-1]-n&&(i-=s));if(j[j.length-1]<t[i]&&0>A||j[j.length-1]>t[i]&&0<A||!snapToChildren)for(;1<d||-1>d;){d*=frictionCoefficient;p+=d;if(0<p||p<-1*g)d*=elasticFrictionCoefficient,p+=d;e[e.length]=p}if(snapToChildren||0<p||p<-1*g){for(;p<t[i]-0.5||p>t[i]+0.5;)p=(p-t[i])*snapFrictionCoefficient+t[i],e[e.length]=p;e[e.length]=t[i]}d=1;for(0!=e.length%2&&(d=0);d<e.length;d+=2)b[b.length]=c.slowScrollHorizontalIntervalTimer(10* d,h,e[d],g,f,v,n,m,l,i,t,k,o,s,r);b[b.length]=c.onSlideCompleteTimer(10*(d+1),r,h,a(h).children(":eq("+i+")"),i%o,F);N[F]=b;c.hideScrollbar(r,b,d,e,g,f,v,n,m,l);return i},onSlideComplete:function(a,b,g,f,d){if(Q[d]!=f)a.onSlideComplete(new c.args(a,b,g,f));Q[d]=f},getSliderOffset:function(h,b){var c=0,b="x"==b?4:5;s||E?(c=a(h).css("-webkit-transform").split(","),c=parseInt(c[b],10)):c=parseInt(a(h).css("left"),10);return c},setSliderOffset:function(c,b){s||E?a(c).css({webkitTransform:"translateX("+ b+"px)"}):a(c).css({left:b+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(E=!0,M="-webkit-grab",P="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(M="move",P="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?W=!0:null!=navigator.userAgent.match("MSIE 8")?X=!0:navigator.userAgent.match("MSIE 9")},getAnimationSteps:function(a,b,c,f,d){var e=[];for(1>=b&&0<=b?b=-2:-1<=b&&0>=b&&(b=2);1<b||-1>b;){b*=a.frictionCoefficient;c+=b;if(c>d||c<-1*f)b*=a.elasticFrictionCoefficient, c+=b;e[e.length]=c}activeChildOffset=0;return e},calcActiveOffset:function(a,b,c,f,d,e,v){for(var n=!1,a=[],m,d=0;d<f.length;d++)f[d]<=b&&f[d]>b-e&&(!n&&f[d]!=b&&(a[a.length]=f[d-1]),a[a.length]=f[d],n=!0);0==a.length&&(a[0]=f[f.length-1]);for(d=n=0;d<a.length;d++){var l=Math.abs(b-a[d]);l<e&&(n=a[d],e=l)}for(d=0;d<f.length;d++)n==f[d]&&(m=d);0>c?(m=v+1,m>=f.length&&(m=f.length-1)):0<c&&(m=v-1,0>m&&(m=0));return m},changeSlide:function(h,b,g,f,d,e,v,n,m,l,i,t,s,o,k){c.autoSlidePause(i);for(var w= 0;w<g.length;w++)clearTimeout(g[w]);var w=Math.ceil(k.autoSlideTransTimer/10)+1,r=c.getSliderOffset(b,"x"),p=l[h]-r,A=[],j;c.showScrollbar(k,d);for(var x=0;x<=w;x++){j=x;j/=w;j--;j=r+p*(Math.pow(j,5)+1);if(k.infiniteSlider&&(j>l[o+1]+v&&(j-=s,h=2*o-1),j<l[2*o-1]-v))j+=s,h=o+1;A[A.length]=j}for(x=0;x<A.length;x++)g[x]=c.slowScrollHorizontalIntervalTimer(10*(x+1),b,A[x],f,d,e,v,n,m,h,l,s,t,o,k);0!=p&&(g[g.length]=c.onSlideCompleteTimer(10*(x+1),k,b,a(b).children(":eq("+h+")"),h%t,i));N[i]=g;c.hideScrollbar(k, g,x,A,f,d,e,v,n,m);c.autoSlide(b,g,f,d,e,v,n,m,l,i,t,s,o,k);return h},autoSlide:function(a,b,g,f,d,e,v,n,m,l,i,t,s,o){if(!o.autoSlide)return!1;c.autoSlidePause(l);J[l]=setTimeout(function(){var k=c.calcActiveOffset(o,c.getSliderOffset(a,"x"),0,m,g,e,void 0)+1;!o.infiniteSlider&&k>m.length-1&&(k-=s);c.changeSlide(k,a,b,g,f,d,e,v,n,m,l,i,t,s,o);c.autoSlide(a,b,g,f,d,e,v,n,m,l,i,t,s,o)},o.autoSlideTimer+o.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(J[a])},slowScrollHorizontalIntervalTimer:function(a, b,g,f,d,e,v,n,m,l,i,t,s,o,k){return setTimeout(function(){c.slowScrollHorizontalInterval(b,g,f,d,e,v,n,m,l,i,t,s,o,k)},a)},onSlideCompleteTimer:function(a,b,g,f,d,e){return setTimeout(function(){c.onSlideComplete(b,g,f,d,e)},a)},hideScrollbarIntervalTimer:function(a,b,g,f,d,e,v,n,m,l){return setTimeout(function(){c.hideScrollbarInterval(b,g,f,d,e,v,n,m,l)},a)},args:function(a,b,c,f){this.settings=a;this.sliderObject=b;this.currentSlideObject=c;this.currentSlideNumber=f},preventDrag:function(a){a.preventDefault()}, preventClick:function(){return!1},enableClick:function(){return!0}};c.setBrowserInfo();var G={init:function(h){var b=a.extend({elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,startAtSlide:1,scrollbar:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",desktopClickDrag:!1, responsiveSlideWidth:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1,onSliderLoaded:function(){},onSlideChange:function(){},onSlideComplete:function(){}},h);return this.each(function(){function g(){c.autoSlidePause(f);a(o).css("width","");a(o).css("height","");a(T).css("width","");e=0;u=[];t=a(o).parent().width();F=a(o).parent().height();k=a(o).outerWidth(!0);E=a(o).height();b.responsiveSlideWidth&& (k=a(o).outerWidth(!0)>t?t:a(o).outerWidth(!0),E=a(o).height()>F?F:a(o).height());a(o).css({position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1,width:k,height:E});b.responsiveSlideWidth&&a(T).each(function(){var b=a(this).outerWidth(true),b=b>t?t+(a(this).outerWidth(true)-a(this).width())*-1:a(this).width();a(this).css({width:b})});a(q).children().each(function(b){a(this).css({"float":"left"});u[b]=e*-1;e=e+a(this).outerWidth(true)});for(var h=0;h<u.length&&!(u[h]<=-1*(e-k));h++)Y=h;u.splice(Y+ 1,u.length);u[u.length]=-1*(e-k);e-=k;a(q).css({webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative",cursor:M,width:e+k+"px",overflow:"hidden"});Z||(j=c.calcActiveOffset(b,c.getSliderOffset(a(q),"x"),0,u,e,k,void 0));c.setSliderOffset(q,u[j]);if(0>=e)return a(q).css({cursor:"default"}),!1;!s&&!b.desktopClickDrag&&a(q).css({cursor:"default"});b.scrollbar&&(a("."+m).css({margin:b.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+m+" ."+l).css({border:b.scrollbarBorder}), r=parseInt(a("."+m).css("marginLeft"))+parseInt(a("."+m).css("marginRight")),p=parseInt(a("."+m+" ."+l).css("borderLeftWidth"),10)+parseInt(a("."+m+" ."+l).css("borderRightWidth"),10),i=Math.floor(k/(e+k)*(k-r)),b.scrollbarHide||(G=b.scrollbarOpacity),a("."+m).css({position:"absolute",left:0,width:k-r+"px",margin:b.scrollbarMargin}),"top"==b.scrollbarLocation?a("."+m).css("top","0"):a("."+m).css("bottom","0"),a("."+m+" ."+l).css({borderRadius:b.scrollbarBorderRadius,background:b.scrollbarBackground, height:b.scrollbarHeight,width:i-p+"px",minWidth:b.scrollbarHeight,border:b.scrollbarBorder,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",webkitTransform:"translateX("+Math.floor(-1*u[j]/e*(k-r-i))+"px)",opacity:G,filter:"alpha(opacity:"+100*G+")",boxShadow:b.scrollbarShadow}),a("."+m).css({display:"block"}),s||a("."+l).css({position:"relative",left:Math.floor(-1*u[j]/e*(k-r-i))}));b.infiniteSlider&&(B=(e+k)/3);""!=b.navSlideSelector&&a(b.navSlideSelector).each(function(h){a(this).css({cursor:"pointer"}); a(this).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){var a=h;b.infiniteSlider&&(a=h+y);j=c.changeSlide(a,q,d,e,l,i,k,r,p,u,f,y,B,z,b)})});""!=b.navPrevSelector&&(a(b.navPrevSelector).css({cursor:"pointer"}),a(b.navPrevSelector).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){j=c.calcActiveOffset(b,c.getSliderOffset(a(q),"x"),0,u,e,k,void 0);if(j>0||b.infiniteSlider)j=c.changeSlide(j-1,q,d,e,l,i,k,r,p,u,f,y,B,z,b)}));""!=b.navNextSelector&&(a(b.navNextSelector).css({cursor:"pointer"}), a(b.navNextSelector).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){j=c.calcActiveOffset(b,c.getSliderOffset(a(q),"x"),0,u,e,k,void 0);if(j<u.length-1||b.infiniteSlider)j=c.changeSlide(j+1,q,d,e,l,i,k,r,p,u,f,y,B,z,b)}));b.autoSlide&&((""!=b.autoSlideToggleSelector&&(a(b.autoSlideToggleSelector).css({cursor:"pointer"}),a(b.autoSlideToggleSelector).unbind("click.iosSliderEvent").bind("click.iosSliderEvent",function(){if(H){c.autoSlide(q,d,e,l,i,k,r,p,u,f,y,B,z,b);H=false;a(b.autoSlideToggleSelector).removeClass("on")}else{c.autoSlidePause(f); H=true;a(b.autoSlideToggleSelector).addClass("on")}})),H||c.autoSlide(q,d,e,l,i,k,r,p,u,f,y,B,z,b),s)?a(o).bind("touchend.iosSliderEvent",function(){H||c.autoSlide(q,d,e,l,i,k,r,p,u,f,y,B,z,b)}):(a(o).bind("mouseenter.iosSliderEvent",function(){c.autoSlidePause(f)}),a(o).bind("mouseleave.iosSliderEvent",function(){H||c.autoSlide(q,d,e,l,i,k,r,p,u,f,y,B,z,b)})));c.onSlideComplete(b,q,a(q).children(":eq("+j+")"),j%y,f);a(o).data("iosslider",{obj:$,settings:b,scrollerNode:q,numberOfSlides:z,sliderNumber:f, childrenOffsets:u,sliderMax:e,scrollbarClass:l,scrollbarWidth:i,stageWidth:k,scrollMargin:r,scrollBorder:p,infiniteSliderOffset:y,infiniteSliderWidth:B});Z=!1;return!0}K++;var f=K,d=[];R[f]=b;var e,h=[0,0],n=[0,0],m="scrollbarBlock"+K,l="scrollbar"+K,i,t,F,o=a(this),k,E,r,p,A,j=b.startAtSlide-1,x=-1,u,G=0,C=0,J=0,q=a(this).children(":first-child"),T,z=a(q).children().size(),I=!1,Y=0,U=!1,O=void 0,B,y=z,Z=!0;Q[f]=-1;var H=!1;S[f]=!1;var V=-1;N[f]=[];var $=a(this);if(void 0!=$.data("iosslider"))return!0; b.infiniteSlider&&(b.scrollbar=!1,a(q).children().clone(!0).prependTo(q).clone(!0).appendTo(q),y=z);T=a(q).children();b.scrollbar&&a(q).parent().append("<div class = '"+m+"'><div class = '"+l+"'></div></div>");if(!g())return!0;b.infiniteSlider&&(j+=y,c.setSliderOffset(q,u[j]));a(this).find("a").bind("mousedown",c.preventDrag);a(this).find("[onclick]").bind("click",c.preventDrag).each(function(){a(this).data("onclick",this.onclick)});b.onSliderLoaded(new c.args(b,q,a(q).children(":eq("+j+")"),j%y)); s&&R[f].responsiveSlideWidth?a(window).bind("orientationchange.iosSliderEvent",function(){if(!g())return true}):R[f].responsiveSlideWidth&&a(window).bind("resize.iosSliderEvent",function(){if(!g())return true});if(s||b.desktopClickDrag)if(a(q).bind("touchstart.iosSliderEvent mousedown.iosSliderEvent",function(g){c.autoSlidePause(f);s||(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&& document.selection.empty());if(s){eventX=event.touches[0].pageX;eventY=event.touches[0].pageY}else{eventX=g.pageX;eventY=g.pageY;U=true;O=this;a(q).css({cursor:P})}h=[0,0];n=[0,0];D=0;I=false;for(g=0;g<d.length;g++)clearTimeout(d[g]);g=c.getSliderOffset(this,"x");V=j=c.calcActiveOffset(b,g,0,u,e,k,void 0);if(b.infiniteSlider&&j%z==0){var m=a(this).children(":eq("+j+")").clone(this);a(this).children().each(function(b){b+1%z==0&&a(m).replaceWith(a(this))})}if(g>0){c.setSliderOffset(this,0);a("."+l).css({width:i- p+"px"})}else if(g<e*-1){g=e*-1;c.setSliderOffset(this,g);c.setSliderOffset(a("."+l),k-r-i);a("."+l).css({width:i-p+"px"})}C=(c.getSliderOffset(this,"x")-eventX)*-1;c.getSliderOffset(this,"y");h[1]=eventX;n[1]=eventY}),a(q).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(d){s||(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()); if(s){eventX=event.touches[0].pageX;eventY=event.touches[0].pageY}else{eventX=d.pageX;eventY=d.pageY;if(!U)return false}if(b.infiniteSlider){c.getSliderOffset(this,"x")>u[z+1]+k&&(C=C+B);c.getSliderOffset(this,"x")<u[z*2-1]-k&&(C=C-B)}h[0]=h[1];h[1]=eventX;D=(h[1]-h[0])/2;n[0]=n[1];n[1]=eventY;L=(n[1]-n[0])/2;if((D>5||D<-5)&&s){event.preventDefault();I=true}else s||(I=true);if(I){d=c.getSliderOffset(this,"x");if(s){J!=event.touches.length&&(C=d*-1+eventX);J=event.touches.length}var f=0;elasticPullResistance= b.elasticPullResistance;d>0&&(f=(C-eventX)*elasticPullResistance);d<e*-1&&(f=(e+(C-eventX)*-1)*elasticPullResistance*-1);c.setSliderOffset(this,(C-eventX-f)*-1);if(b.scrollbar){c.showScrollbar(b,l);w=Math.floor((C-eventX-f)/e*(k-r-i));var g=i;if(d>=0){g=i-p-w*-1;c.setSliderOffset(a("."+l),0);a("."+l).css({width:g+"px"})}else if(d<=e*-1+1){g=k-r-p-w;c.setSliderOffset(a("."+l),w);a("."+l).css({width:g+"px"})}else c.setSliderOffset(a("."+l),w)}if(s)A=event.touches[0].pageX}x=c.calcActiveOffset(b,(C- eventX-f)*-1,0,u,e,k,void 0);if(x!=V){V=x;b.onSlideChange(new c.args(b,this,a(this).children(":eq("+x+")"),x%y))}}),a(q).bind("touchend.iosSliderEvent",function(){if(event.touches.length!=0)for(var a=0;a<sizeof(event.touches.length);a++)event.touches[a].pageX==A&&(j=c.slowScrollHorizontal(this,d,e,l,D,L,i,k,r,p,j,u,f,y,B,z,b));else j=c.slowScrollHorizontal(this,d,e,l,D,L,i,k,r,p,j,u,f,y,B,z,b)}),!s){var aa=a(window);if(X||W)aa=a(document);a(aa).bind("mouseup.iosSliderEvent",function(){I?a(q).children(":eq("+ j+")").find("a").unbind("click.disableClick").bind("click.disableClick",c.preventClick):a(q).children(":eq("+j+")").find("a").unbind("click.disableClick").bind("click.disableClick",c.enableClick);a(q).children(":eq("+j+")").find("[onclick]").each(function(){this.onclick=function(b){if(I)return false;a(this).data("onclick").call(this,b||window.event)}});if(!S[f]){a(q).css({cursor:M});U=false;if(O==void 0||h[0]==0)return false;j=c.slowScrollHorizontal(O,d,e,l,D,L,i,k,r,p,j,u,f,y,B,z,b);O=void 0}})}})}, destroy:function(h){return this.each(function(){var b=a(this),g=b.data("iosslider");if(void 0==g)return!1;void 0==h&&(h=!0);c.autoSlidePause(g.sliderNumber);S[g.sliderNumber]=!0;a(window).unbind(".iosSliderEvent");a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");h&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style", ""),a(g.settings.navSlideSelector).attr("style",""),a(g.settings.navPrevSelector).attr("style",""),a(g.settings.navNextSelector).attr("style",""),a(g.settings.autoSlideToggleSelector).attr("style",""));g.settings.infiniteSlider&&(a(this).children(":first-child").html(),a(this).children(":first-child").html(a(this).children(":first-child").children(":nth-child(-n+"+g.numberOfSlides+")").clone(!0)));b.removeData("iosslider")})},goToSlide:function(h){return this.each(function(){var b=a(this).data("iosslider"); if(void 0==b)return!1;h=(h-1)%b.numberOfSlides;b.settings.infiniteSlider&&(h+=b.infiniteSliderOffset);c.changeSlide(h,a(b.scrollerNode),N[b.sliderNumber],b.sliderMax,b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollMargin,b.scrollBorder,b.childrenOffsets,b.sliderNumber,b.infiniteSliderOffset,b.infiniteSliderWidth,b.numberOfSlides,b.settings)})}};a.fn.iosSlider=function(c){if(G[c])return G[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return G.init.apply(this, arguments);a.error("invalid method call!")}})(jQuery);