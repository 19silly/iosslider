/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * A jQuery Horizontal Slider for iPhone/iPad Safari 
 * This plugin turns any wide element into a touch enabled horizontal slider.
 * 
 * Copyright (c) 2012 Marc Whitbread
 * 
 * Version: v1.1.52 (01/02/2013)
 * Minimum requirements: jQuery v1.4+
 *
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction.
 *	  Attribution is not required but always appreciated. For commercial projects, you
 *	  must purchase a license. You may download and play with the script before deciding to
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for
 *    distribution elsewhere "as is" without prior consent. If you would like to feature
 *    iosSlider on your site, please do not link directly to the resource zip files. Please
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var la=0,V=0,ba=0,R=0,N="ontouchstart"in window,Ba="onorientationchange"in window,ca=!1,Z=!1,$=!1,ma=!1,ga="pointer",ta="pointer",na=[],ha=[],T=[],ua=[],ia=[],I=[],aa=[],x=[],f=[],n=[],va=[],da=[],d={showScrollbar:function(e,d){e.scrollbarHide&&a("."+d).css({opacity:e.scrollbarOpacity,filter:"alpha(opacity:"+100*e.scrollbarOpacity+")"})},hideScrollbar:function(a,g,b,u,c,t,f,n,z,w){if(a.scrollbar&&a.scrollbarHide)for(var x=b;x<b+25;x++)g[g.length]=d.hideScrollbarIntervalTimer(10*x,u[b], (b+24-x)/24,c,t,f,n,z,w,a)},hideScrollbarInterval:function(e,g,b,u,c,t,f,x,z){R=-1*e/n[x]*(c-t-f-u);d.setSliderOffset("."+b,R);a("."+b).css({opacity:z.scrollbarOpacity*g,filter:"alpha(opacity:"+100*z.scrollbarOpacity*g+")"})},slowScrollHorizontalInterval:function(e,g,b,u,c,t,P,J,z,w,K,v,q,r,l,B,m,j){if(j.infiniteSlider){if(b<=-1*n[l]){var p=a(e).width();if(b<=-1*va[l]){var s=-1*K[0];a(g).each(function(b){d.setSliderOffset(a(g)[b],s+B);b<v.length&&(v[b]=-1*s);s+=a(this).outerWidth(!0)});b+=-1*v[0]; f[l]=-1*v[0]+B;n[l]=f[l]+p-t;x[l]=0}else{var k=0,E=d.getSliderOffset(a(g[0]),"x");a(g).each(function(a){d.getSliderOffset(this,"x")<E&&(E=d.getSliderOffset(this,"x"),k=a)});q=f[l]+p;d.setSliderOffset(a(g)[k],q);f[l]=-1*v[1]+B;n[l]=f[l]+p-t;v.splice(0,1);v.splice(v.length,0,-1*q+B);x[l]++}}if(b>=-1*f[l]||0<=b){p=a(e).width();if(0<=b){s=-1*K[0];a(g).each(function(b){d.setSliderOffset(a(g)[b],s+B);b<v.length&&(v[b]=-1*s);s+=a(this).outerWidth(!0)});b-=-1*v[0];f[l]=-1*v[0]+B;n[l]=f[l]+p-t;for(x[l]=r;0< -1*v[0]-p+B;){var A=0,G=d.getSliderOffset(a(g[0]),"x");a(g).each(function(a){d.getSliderOffset(this,"x")>G&&(G=d.getSliderOffset(this,"x"),A=a)});q=f[l]-a(g[A]).outerWidth(!0);d.setSliderOffset(a(g)[A],q);v.splice(0,0,-1*q+B);v.splice(v.length-1,1);f[l]=-1*v[0]+B;n[l]=f[l]+p-t;x[l]--;I[l]++}}0>b&&(A=0,G=d.getSliderOffset(a(g[0]),"x"),a(g).each(function(a){d.getSliderOffset(this,"x")>G&&(G=d.getSliderOffset(this,"x"),A=a)}),q=f[l]-a(g[A]).outerWidth(!0),d.setSliderOffset(a(g)[A],q),v.splice(0,0,-1* q+B),v.splice(v.length-1,1),f[l]=-1*v[0]+B,n[l]=f[l]+p-t,x[l]--)}}K=!1;t=d.calcActiveOffset(j,b,v,t,x[l],r,w,l);q=(t+x[l]+r)%r;j.infiniteSlider?q!=aa[l]&&(K=!0):t!=I[l]&&(K=!0);if(K&&(r=new d.args(j,e,a(e).children(":eq("+q+")"),q,m,!0),a(e).parent().data("args",r),""!=j.onSlideChange))j.onSlideChange(r);I[l]=t;aa[l]=q;b=Math.floor(b);d.setSliderOffset(e,b);j.scrollbar&&(R=Math.floor((-1*b-f[l]+B)/(n[l]-f[l]+B)*(P-J-c)),e=c-z,b>=-1*f[l]+B?(e=c-z- -1*R,d.setSliderOffset(a("."+u),0)):(b<=-1*n[l]+1&& (e=P-J-z-R),d.setSliderOffset(a("."+u),R)),a("."+u).css({width:e+"px"}))},slowScrollHorizontal:function(e,g,b,u,c,t,P,J,z,w,K,v,q,r,l,B,m,j,p,s){t=[];var k=d.getSliderOffset(e,"x"),E=0,A=25/1024*J;frictionCoefficient=s.frictionCoefficient;elasticFrictionCoefficient=s.elasticFrictionCoefficient;snapFrictionCoefficient=s.snapFrictionCoefficient;5<c&&s.snapToChildren&&!j?E=1:-5>c&&(s.snapToChildren&&!j)&&(E=-1);c<-1*A?c=-1*A:c>A&&(c=A);a(e)[0]!==a(m)[0]&&(E*=-1,c*=-2);m=x[r];if(s.infiniteSlider)var G= f[r],y=n[r];j=[];for(var A=[],h=0;h<q.length;h++)j[h]=q[h],h<g.length&&(A[h]=d.getSliderOffset(a(g[h]),"x"));for(;1<c||-1>c;){c*=frictionCoefficient;k+=c;if((k>-1*f[r]||k<-1*n[r])&&!s.infiniteSlider)c*=elasticFrictionCoefficient,k+=c;if(s.infiniteSlider){if(k<=-1*y){for(var y=a(e).width(),L=0,N=A[0],h=0;h<A.length;h++)A[h]<N&&(N=A[h],L=h);h=G+y;A[L]=h;G=-1*j[1]+p;y=G+y-J;j.splice(0,1);j.splice(j.length,0,-1*h+p);m++}if(k>=-1*G){y=a(e).width();L=0;N=A[0];for(h=0;h<A.length;h++)A[h]>N&&(N=A[h],L=h); h=G-a(g[L]).outerWidth(!0);A[L]=h;j.splice(0,0,-1*h+p);j.splice(j.length-1,1);G=-1*j[0]+p;y=G+y-J;m--}}t[t.length]=k}A=!1;c=d.calcActiveOffset(s,k,j,J,m,B,I[r],r);G=(c+m+B)%B;s.snapToChildren&&(s.infiniteSlider?G!=aa[r]&&(A=!0):c!=I[r]&&(A=!0),0>E&&!A?(c++,c>=q.length&&!s.infinteSlider&&(c=q.length-1)):0<E&&!A&&(c--,0>c&&!s.infinteSlider&&(c=0)));if(s.snapToChildren||(k>-1*f[r]||k<-1*n[r])&&!s.infiniteSlider){k=d.getSliderOffset(e,"x");for(t.splice(0,t.length);k<j[c]-0.5||k>j[c]+0.5;)k=(k-j[c])*snapFrictionCoefficient+ j[c],t[t.length]=k;t[t.length]=j[c]}E=1;0!=t.length%2&&(E=0);for(k=0;k<b.length;k++)clearTimeout(b[k]);m=(c+m+B)%B;G=0;for(k=E;k<t.length;k+=2)if(k==E||1<Math.abs(t[k]-G)||k>=t.length-2)G=t[k],b[b.length]=d.slowScrollHorizontalIntervalTimer(10*k,e,g,t[k],u,P,J,z,w,K,c,v,q,l,B,r,p,m,s);G=(c+x[r]+B)%B;""!=s.onSlideComplete&&(b[b.length]=d.onSlideCompleteTimer(10*(k+1),s,e,a(e).children(":eq("+G+")"),G,r));ia[r]=b;d.hideScrollbar(s,b,k,t,u,P,J,w,K,r)},onSlideComplete:function(e,g,b,u,c){var t=na[c]!= u?!0:!1;b=new d.args(e,a(g),b,u,u,t);a(g).parent().data("args",b);if(""!=e.onSlideComplete)e.onSlideComplete(b);na[c]=u},getSliderOffset:function(e,d){var b=0;d="x"==d?4:5;if(ca&&!Z&&!$){for(var b=["-webkit-transform","-moz-transform","transform"],u=0;u<b.length;u++)if(void 0!=a(e).css(b[u])&&0<a(e).css(b[u]).length){var c=a(e).css(b[u]).split(",");break}b=parseInt(c[d],10)}else b=parseInt(a(e).css("left"),10);return b},setSliderOffset:function(e,d){ca&&!Z&&!$?a(e).css({webkitTransform:"matrix(1,0,0,1,"+ d+",0)",MozTransform:"matrix(1,0,0,1,"+d+",0)",transform:"matrix(1,0,0,1,"+d+",0)"}):a(e).css({left:d+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(ga="-webkit-grab",ta="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(ga="move",ta="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?ma=Z=!0:null!=navigator.userAgent.match("MSIE 8")?ma=$=!0:null!=navigator.userAgent.match("MSIE 9")&&(ma=!0)},has3DTransform:function(){var e=!1,d=a("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)", MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});""==d.attr("style")?e=!1:void 0!=d.attr("style")&&(e=!0);return e},getSlideNumber:function(a,d,b){return(a-x[d]+b)%b},calcActiveOffset:function(a,d,b,u){var c=!1;a=[];for(var t,f=0;f<b.length;f++)b[f]<=d&&b[f]>d-u&&(!c&&b[f]!=d&&(a[a.length]=b[f-1]),a[a.length]=b[f],c=!0);0==a.length&&(a[0]=b[b.length-1]);for(f=c=0;f<a.length;f++){var n=Math.abs(d-a[f]);n<u&&(c=a[f],u=n)}for(f=0;f<b.length;f++)c==b[f]&&(t=f);return t},changeSlide:function(e, g,b,f,c,t,n,J,z,w,K,v,q,r,l,B,m){d.autoSlidePause(q);for(var j=0;j<f.length;j++)clearTimeout(f[j]);var p=Math.ceil(m.autoSlideTransTimer/10)+1,s=d.getSliderOffset(g,"x"),k=v[e],E=k-s;if(m.infiniteSlider){e=(e-x[q]+2*l)%l;j=!1;0==e&&2==l&&(e=l,v[e]=v[e-1]-a(b).eq(0).outerWidth(!0),j=!0);k=v[e];E=k-s;k=[v[e]-a(g).width(),v[e]+a(g).width()];j&&v.splice(v.length-1,1);for(j=0;j<k.length;j++)Math.abs(k[j]-s)<Math.abs(E)&&(E=k[j]-s)}var k=[],A;d.showScrollbar(m,c);for(j=0;j<=p;j++)A=j,A/=p,A--,A=s+E*(Math.pow(A, 5)+1),k[k.length]=A;for(j=s=0;j<k.length;j++){if(0==j||1<Math.abs(k[j]-s)||j>=k.length-2)s=k[j],f[j]=d.slowScrollHorizontalIntervalTimer(10*(j+1),g,b,k[j],c,t,n,J,z,w,e,K,v,r,l,q,B,e,m);0==j&&""!=m.onSlideStart&&(p=(I[q]+x[q]+l)%l,m.onSlideStart(new d.args(m,g,a(g).children(":eq("+p+")"),p,e,!1)))}s=!1;p=(e+x[q]+l)%l;m.infiniteSlider?p!=aa[q]&&(s=!0):e!=I[q]&&(s=!0);s&&""!=m.onSlideComplete&&(f[f.length]=d.onSlideCompleteTimer(10*(j+1),m,g,a(g).children(":eq("+p+")"),p,q));ia[q]=f;d.hideScrollbar(m, f,j,k,c,t,n,z,w,q);d.autoSlide(g,b,f,c,t,n,J,z,w,K,v,q,r,l,B,m)},autoSlide:function(a,g,b,f,c,t,n,J,z,w,K,v,q,r,l,B){if(!B.autoSlide)return!1;d.autoSlidePause(v);ha[v]=setTimeout(function(){!B.infiniteSlider&&I[v]>K.length-1&&(I[v]-=r);d.changeSlide((I[v]+x[v]+r+1)%r,a,g,b,f,c,t,n,J,z,w,K,v,q,r,l,B);d.autoSlide(a,g,b,f,c,t,n,J,z,w,K,v,q,r,l,B)},B.autoSlideTimer+B.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(ha[a])},isUnselectable:function(d,g){return""!=g.unselectableSelector&&1== a(d).closest(g.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a,g,b,f,c,t,n,x,z,w,I,v,q,r,l,B,m,j,p){return setTimeout(function(){d.slowScrollHorizontalInterval(g,b,f,c,t,n,x,z,w,I,v,q,r,l,B,m,j,p)},a)},onSlideCompleteTimer:function(a,g,b,f,c,t){return setTimeout(function(){d.onSlideComplete(g,b,f,c,t)},a)},hideScrollbarIntervalTimer:function(a,g,b,f,c,t,n,x,z,w){return setTimeout(function(){d.hideScrollbarInterval(g,b,f,c,t,n,x,z,w)},a)},args:function(e,f,b,n,c,t){this.settings= e;this.data=a(f).parent().data("iosslider");this.slideChanged=t;this.sliderObject=f;this.sliderContainerObject=a(f).parent();this.currentSlideObject=b;this.currentSlideNumber=n+1;this.targetSlideObject=a(f).children(":eq("+c+")");this.targetSlideNumber=c+1;this.currentSliderOffset=-1*d.getSliderOffset(f,"x");try{this.prevSlideNumber=void 0==a(f).parent().data("args")?e.startAtSlide:a(f).parent().data("args").prevSlideNumber==this.currentSlideNumber?a(f).parent().data("args").currentSlideNumber:a(f).parent().data("args").prevSlideNumber, this.prevSlideObject=a(f).children(":eq("+this.prevSlideNumber+")")}catch(x){}},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};d.setBrowserInfo();var O={init:function(e,g){ca=d.has3DTransform();var b=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1, scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1, stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},e);void 0==g&&(g=this);return a(g).each(function(){function e(){d.autoSlidePause(c);wa=a(C).find("a");za=a(C).find("[onclick]");oa=a(C).find("*");a(j).css("width","");a(j).css("height","");a(C).css("width","");D=a(C).children().not("script").get();pa=[];W=[];a(D).css("width","");n[c]=0;h=[];l=a(j).parent().width(); p=a(j).outerWidth(!0);b.responsiveSlideContainer&&(p=a(j).outerWidth(!0)>l?l:a(j).outerWidth(!0));a(j).css({position:b.stageCSS.position,top:b.stageCSS.top,left:b.stageCSS.left,overflow:b.stageCSS.overflow,zIndex:b.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:p});a(b.unselectableSelector).css({cursor:"default"});for(var F=0;F<D.length;F++){pa[F]=a(D[F]).width();W[F]=a(D[F]).outerWidth(!0);var u=W[F];b.responsiveSlides&&(u=W[F]>p?p+-1*(W[F]-pa[F]):pa[F],a(D[F]).css({width:u})); a(D[F]).css({webkitBackfaceVisibility:"hidden",position:"absolute",top:0});h[F]=-1*n[c];n[c]+=u}b.snapSlideCenter&&(m=0.5*(p-W[0]),b.responsiveSlides&&W[0]>p&&(m=0));va[c]=2*n[c];for(F=0;F<D.length;F++)d.setSliderOffset(a(D[F]),-1*h[F]+n[c]+m),h[F]-=n[c];if(!b.infiniteSlider&&!b.snapSlideCenter){for(F=0;F<h.length&&!(h[F]<=-1*(2*n[c]-p));F++)ha=F;h.splice(ha+1,h.length);h[h.length]=-1*(2*n[c]-p)}for(F=0;F<h.length;F++)L[F]=h[F];G&&(b.startAtSlide=T[c].startAtSlide>h.length?h.length:T[c].startAtSlide, b.infiniteSlider?(b.startAtSlide=(T[c].startAtSlide-1+H)%H,I[c]=T[c].startAtSlide):(b.startAtSlide=0>T[c].startAtSlide-1?h.length-1:T[c].startAtSlide,I[c]=T[c].startAtSlide-1),aa[c]=I[c]);f[c]=n[c]+m;a(C).css({position:"relative",cursor:ga,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:n[c]+"px"});X=n[c];n[c]=2*n[c]-p+2*m;(Q=X<p?!0:!1)&&a(C).css({cursor:"default"});B=a(j).parent().outerHeight(!0);s=a(j).height();b.responsiveSlideContainer&&(s=s>B?B:s);a(j).css({height:s});d.setSliderOffset(C, h[I[c]]);if(b.infiniteSlider&&!Q){d.getSliderOffset(a(C),"x");for(F=-1*((x[c]+H)%H);0>F;){var A=0,y=d.getSliderOffset(a(D[0]),"x");a(D).each(function(a){d.getSliderOffset(this,"x")<y&&(y=d.getSliderOffset(this,"x"),A=a)});u=f[c]+X;d.setSliderOffset(a(D)[A],u);f[c]=-1*h[1]+m;n[c]=f[c]+X-p;h.splice(0,1);h.splice(h.length,0,-1*u+m);F++}for(;0<-1*h[0]-X+m&&b.snapSlideCenter&&G;){var J=0,P=d.getSliderOffset(a(D[0]),"x");a(D).each(function(a){d.getSliderOffset(this,"x")>P&&(P=d.getSliderOffset(this,"x"), J=a)});u=f[c]-W[J];d.setSliderOffset(a(D)[J],u);h.splice(0,0,-1*u+m);h.splice(h.length-1,1);f[c]=-1*h[0]+m;n[c]=f[c]+X-p;x[c]--;I[c]++}}d.setSliderOffset(C,h[I[c]]);!N&&!b.desktopClickDrag&&a(C).css({cursor:"default"});b.scrollbar&&(a("."+z).css({margin:b.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+z+" ."+w).css({border:b.scrollbarBorder}),k=parseInt(a("."+z).css("marginLeft"))+parseInt(a("."+z).css("marginRight")),E=parseInt(a("."+z+" ."+w).css("borderLeftWidth"),10)+parseInt(a("."+ z+" ."+w).css("borderRightWidth"),10),q=""!=b.scrollbarContainer?a(b.scrollbarContainer).width():p,r=(q-k)/H,b.scrollbarHide||(O=b.scrollbarOpacity),a("."+z).css({position:"absolute",left:0,width:q-k+"px",margin:b.scrollbarMargin}),"top"==b.scrollbarLocation?a("."+z).css("top","0"):a("."+z).css("bottom","0"),a("."+z+" ."+w).css({borderRadius:b.scrollbarBorderRadius,background:b.scrollbarBackground,height:b.scrollbarHeight,width:r-E+"px",minWidth:b.scrollbarHeight,border:b.scrollbarBorder,webkitPerspective:1E3, webkitBackfaceVisibility:"hidden",position:"relative",opacity:O,filter:"alpha(opacity:"+100*O+")",boxShadow:b.scrollbarShadow}),d.setSliderOffset(a("."+z+" ."+w),Math.floor((-1*h[I[c]]-f[c]+m)/(n[c]-f[c]+m)*(q-k-r))),a("."+z).css({display:"block"}),K=a("."+z+" ."+w),v=a("."+z));b.scrollbarDrag&&!Q&&a("."+z+" ."+w).css({cursor:ga});b.infiniteSlider&&(M=(n[c]+p)/3);""!=b.navSlideSelector&&a(b.navSlideSelector).each(function(F){a(this).css({cursor:"pointer"});a(this).unbind(Y).bind(Y,function(){d.changeSlide(F, C,D,g,w,r,p,q,k,E,L,h,c,M,H,m,b)})});""!=b.navPrevSelector&&(a(b.navPrevSelector).css({cursor:"pointer"}),a(b.navPrevSelector).unbind(Y).bind(Y,function(){var a=(I[c]+x[c]+H)%H;(0<a||b.infiniteSlider)&&d.changeSlide(a-1,C,D,g,w,r,p,q,k,E,L,h,c,M,H,m,b)}));""!=b.navNextSelector&&(a(b.navNextSelector).css({cursor:"pointer"}),a(b.navNextSelector).unbind(Y).bind(Y,function(){var a=(I[c]+x[c]+H)%H;(a<h.length-1||b.infiniteSlider)&&d.changeSlide(a+1,C,D,g,w,r,p,q,k,E,L,h,c,M,H,m,b)}));b.autoSlide&&!Q&& (""!=b.autoSlideToggleSelector&&(a(b.autoSlideToggleSelector).css({cursor:"pointer"}),a(b.autoSlideToggleSelector).unbind(Y).bind(Y,function(){ea?(d.autoSlide(C,D,g,w,r,p,q,k,E,L,h,c,M,H,m,b),ea=!1,a(b.autoSlideToggleSelector).removeClass("on")):(d.autoSlidePause(c),ea=!0,a(b.autoSlideToggleSelector).addClass("on"))})),!ea&&!Q&&d.autoSlide(C,D,g,w,r,p,q,k,E,L,h,c,M,H,m,b),N?a(j).bind("touchend.iosSliderEvent",function(){!ea&&!Q&&d.autoSlide(C,D,g,w,r,p,q,k,E,L,h,c,M,H,m,b)}):(a(j).bind("mouseenter.iosSliderEvent", function(){d.autoSlidePause(c)}),a(j).bind("mouseleave.iosSliderEvent",function(){!ea&&!Q&&d.autoSlide(C,D,g,w,r,p,q,k,E,L,h,c,M,H,m,b)})));a(j).data("iosslider",{obj:Aa,settings:b,scrollerNode:C,slideNodes:D,numberOfSlides:H,centeredSlideOffset:m,sliderNumber:c,originalOffsets:L,childrenOffsets:h,sliderMax:n[c],scrollbarClass:w,scrollbarWidth:r,scrollbarStageWidth:q,stageWidth:p,scrollMargin:k,scrollBorder:E,infiniteSliderOffset:x[c],infiniteSliderWidth:M});G=!1;return!0}la++;var c=la,g=[];T[c]= b;f[c]=0;n[c]=0;var P=[0,0],J=[0,0],z="scrollbarBlock"+la,w="scrollbar"+la,K,v,q,r,l,B,m=0,j=a(this),p,s,k,E,A,G=!0,y=-1,h,L=[],O=0,S=0,ca=0,C=a(this).children(":first-child"),D,pa,W,H=a(C).children().not("script").size(),U=!1,ha=0,xa=!1,qa=void 0,M;x[c]=0;var Q=!1;na[c]=-1;var ea=!1;ua[c]=!1;var ra,sa=!1,ja=!1,X,Y=N?"touchstart.iosSliderEvent":"click.iosSliderEvent",wa,za,oa;da[c]=!1;ia[c]=[];b.scrollbarDrag&&(b.scrollbar=!0,b.scrollbarHide=!1);var Aa=a(this);if(void 0!=Aa.data("iosslider"))return!0; a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});b.infiniteSlider&&(b.scrollbar=!1);b.scrollbar&&(""!=b.scrollbarContainer?a(b.scrollbarContainer).append("<div class = '"+z+"'><div class = '"+w+"'></div></div>"):a(C).parent().append("<div class = '"+z+"'><div class = '"+w+"'></div></div>"));if(!e())return!0;a(this).find("a").bind("mousedown",d.preventDrag);a(this).find("[onclick]").bind("click",d.preventDrag).each(function(){a(this).data("onclick",this.onclick)}); var y=d.calcActiveOffset(b,d.getSliderOffset(a(C),"x"),h,p,x[c],H,void 0,c),y=(y+x[c]+H)%H,fa=new d.args(b,C,a(C).children(":eq("+y+")"),y,y,!1);a(j).data("args",fa);if(""!=b.onSliderLoaded)b.onSliderLoaded(fa);na[c]=y;if(T[c].responsiveSlides||T[c].responsiveSlideContainer)y=Ba?"orientationchange":"resize",a(window).bind(y+".iosSliderEvent",function(){if(!e())return!0;var c=a(j).data("args");if(""!=b.onSliderResize)b.onSliderResize(c)});b.keyboardControls&&!Q&&a(document).bind("keydown.iosSliderEvent", function(a){!Z&&!$&&(a=a.originalEvent);switch(a.keyCode){case 37:a=(I[c]+x[c]+H)%H;(0<a||b.infiniteSlider)&&d.changeSlide(a-1,C,D,g,w,r,p,q,k,E,L,h,c,M,H,m,b);break;case 39:a=(I[c]+x[c]+H)%H,(a<h.length-1||b.infiniteSlider)&&d.changeSlide(a+1,C,D,g,w,r,p,q,k,E,L,h,c,M,H,m,b)}});if(N||b.desktopClickDrag){var fa=N?"touchstart.iosSliderEvent":"mousedown.iosSliderEvent",ka=a(C),y=a(C),ya=!1;b.scrollbarDrag&&(ka=ka.add(K),y=y.add(v));a(ka).bind(fa,function(e){if(da[c]||Q||(ya=d.isUnselectable(e.target, b)))return!0;ra=a(this)[0]===a(K)[0]?K:C;!Z&&!$&&(e=e.originalEvent);d.autoSlidePause(c);oa.unbind(".disableClick");N?(eventX=e.touches[0].pageX,eventY=e.touches[0].pageY):(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),eventX=e.pageX,eventY=e.pageY,xa=!0,qa=C,a(this).css({cursor:ta}));P=[0,0];J=[0,0];V=0;U=!1;for(e=0;e<g.length;e++)clearTimeout(g[e]); e=d.getSliderOffset(C,"x");e>-1*f[c]+m+X?(e=-1*f[c]+m+X,d.setSliderOffset(a("."+w),e),a("."+w).css({width:r-E+"px"})):e<-1*n[c]&&(d.setSliderOffset(a("."+w),q-k-r),a("."+w).css({width:r-E+"px"}));e=a(this)[0]===a(K)[0]?f[c]:0;S=-1*(d.getSliderOffset(this,"x")-eventX-e);d.getSliderOffset(this,"y");P[1]=eventX;J[1]=eventY;ja=!1});fa=N?"touchmove.iosSliderEvent":"mousemove.iosSliderEvent";a(y).bind(fa,function(e){!Z&&!$&&(e=e.originalEvent);if(da[c]||Q||ya)return!0;var g=0;N||(window.getSelection?window.getSelection().empty? window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty());if(N)eventX=e.touches[0].pageX,eventY=e.touches[0].pageY;else if(eventX=e.pageX,eventY=e.pageY,!xa||!ma&&("undefined"!=typeof e.webkitMovementX||"undefined"!=typeof e.webkitMovementY)&&0===e.webkitMovementY&&0===e.webkitMovementX)return!1;P[0]=P[1];P[1]=eventX;V=(P[1]-P[0])/2;J[0]=J[1];J[1]=eventY;ba=(J[1]-J[0])/2;if(!U){var u=(I[c]+x[c]+H)%H, u=new d.args(b,C,a(C).children(":eq("+u+")"),u,u,!1);a(j).data("args",u);if(""!=b.onSlideStart)b.onSlideStart(u)}if((3<ba||-3>ba)&&3>V&&-3<V&&N&&!U)sa=!0;(5<V||-5>V)&&N?(e.preventDefault(),U=!0):N||(U=!0);if(U&&!sa){var u=d.getSliderOffset(C,"x"),l=a(this)[0]===a(v)[0]?f[c]:m,t=a(this)[0]===a(v)[0]?(f[c]-n[c]-m)/(q-k-r):1,s=a(this)[0]===a(v)[0]?b.scrollbarElasticPullResistance:b.elasticPullResistance,z=b.snapSlideCenter&&a(this)[0]===a(v)[0]?0:m,B=b.snapSlideCenter&&a(this)[0]===a(v)[0]?m:0;N&&(ca!= e.touches.length&&(S=-1*u+eventX),ca=e.touches.length);if(b.infiniteSlider){if(u<=-1*n[c]){var y=a(C).width();if(u<=-1*va[c]){var G=-1*L[0];a(D).each(function(b){d.setSliderOffset(a(D)[b],G+m);b<h.length&&(h[b]=-1*G);G+=a(this).outerWidth(!0)});S-=-1*h[0];f[c]=-1*h[0]+m;n[c]=f[c]+y-p;x[c]=0}else{var K=d.getSliderOffset(a(D[0]),"x");a(D).each(function(){d.getSliderOffset(this,"x")<K&&(K=d.getSliderOffset(this,"x"))});s=f[c]+y;f[c]=-1*h[1]+m;n[c]=f[c]+y-p;h.splice(0,1);h.splice(h.length,0,-1*s+m);x[c]++}}if(u>= -1*f[c]||0<=u)if(y=a(C).width(),0<=u){G=-1*L[0];a(D).each(function(b){d.setSliderOffset(a(D)[b],G+m);b<h.length&&(h[b]=-1*G);G+=a(this).outerWidth(!0)});S+=-1*h[0];f[c]=-1*h[0]+m;n[c]=f[c]+y-p;for(x[c]=H;0<-1*h[0]-y+m;){var M=0,O=d.getSliderOffset(a(D[0]),"x");a(D).each(function(a){d.getSliderOffset(this,"x")>O&&(O=d.getSliderOffset(this,"x"),M=a)});s=f[c]-a(D[M]).outerWidth(!0);d.setSliderOffset(a(D)[M],s);h.splice(0,0,-1*s+m);h.splice(h.length-1,1);f[c]=-1*h[0]+m;n[c]=f[c]+y-p;x[c]--;I[c]++}}else M= 0,O=d.getSliderOffset(a(D[0]),"x"),a(D).each(function(a){d.getSliderOffset(this,"x")>O&&(O=d.getSliderOffset(this,"x"),M=a)}),s=f[c]-a(D[M]).outerWidth(!0),d.setSliderOffset(a(D)[M],s),h.splice(0,0,-1*s+m),h.splice(h.length-1,1),f[c]=-1*h[0]+m,n[c]=f[c]+y-p,x[c]--}else y=a(C).width(),u>-1*f[c]+m&&(g=-1*(f[c]+-1*(S-l-eventX+z)*t-l)*s/t),u<-1*n[c]&&(g=-1*(n[c]+B+-1*(S-l-eventX)*t-l)*s/t);d.setSliderOffset(C,-1*(S-l-eventX-g)*t-l+B);b.scrollbar&&(d.showScrollbar(b,w),R=Math.floor((S-eventX-g-f[c]+z)/ (n[c]-f[c]+m)*(q-k-r)*t),l=r,u>=-1*f[c]+z+y?(l=r-E- -1*R,d.setSliderOffset(a("."+w),0),a("."+w).css({width:l+"px"})):u<=-1*n[c]+1?(l=q-k-E-R,d.setSliderOffset(a("."+w),R),a("."+w).css({width:l+"px"})):d.setSliderOffset(a("."+w),R));N&&(A=e.touches[0].pageX);e=!1;g=d.calcActiveOffset(b,-1*(S-eventX-g),h,p,x[c],H,void 0,c);y=(g+x[c]+H)%H;b.infiniteSlider?y!=aa[c]&&(e=!0):g!=I[c]&&(e=!0);if(e&&(I[c]=g,aa[c]=y,ja=!0,u=new d.args(b,C,a(C).children(":eq("+y+")"),y,y,!0),a(j).data("args",u),""!=b.onSlideChange))b.onSlideChange(u)}}); a(ka).bind("touchend.iosSliderEvent",function(a){a=a.originalEvent;if(da[c]||Q||ya)return!0;if(0!=a.touches.length)for(var e=0;e<a.touches.length;e++)a.touches[e].pageX==A&&d.slowScrollHorizontal(C,D,g,w,V,ba,r,p,q,k,E,L,h,c,M,H,ra,ja,m,b);else d.slowScrollHorizontal(C,D,g,w,V,ba,r,p,q,k,E,L,h,c,M,H,ra,ja,m,b);sa=!1});if(!N){y=a(window);if($||Z)y=a(document);a(y).bind("mouseup.iosSliderEvent"+c,function(){U?wa.unbind("click.disableClick").bind("click.disableClick",d.preventClick):wa.unbind("click.disableClick").bind("click.disableClick", d.enableClick);za.each(function(){this.onclick=function(b){if(U)return!1;a(this).data("onclick").call(this,b||window.event)}});1.8<=parseFloat(a().jquery)?oa.each(function(){var b=a._data(this,"events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!U)return!1;a(this).one("click.disableClick",d.preventClick);var b=a._data(this,"events").click,c=b.pop();b.splice(0,0,c)}}):1.6<=parseFloat(a().jquery)&&oa.each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!= b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!U)return!1;a(this).one("click.disableClick",d.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!ua[c]){if(Q)return!0;a(ka).css({cursor:ga});xa=!1;if(void 0==qa)return!1;d.slowScrollHorizontal(qa,D,g,w,V,ba,r,p,q,k,E,L,h,c,M,H,ra,ja,m,b);qa=void 0}sa=!1})}}})},destroy:function(e,g){void 0==g&&(g=this);return a(g).each(function(){var b=a(this),g=b.data("iosslider");if(void 0==g)return!1;void 0==e&&(e=!0);d.autoSlidePause(g.sliderNumber); ua[g.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+g.sliderNumber);a(window).unbind(".iosSliderEvent");a(document).unbind(".iosSliderEvent-"+g.sliderNumber);a(document).unbind("keydown.iosSliderEvent");a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");e&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style", ""),a(g.settings.navSlideSelector).attr("style",""),a(g.settings.navPrevSelector).attr("style",""),a(g.settings.navNextSelector).attr("style",""),a(g.settings.autoSlideToggleSelector).attr("style",""),a(g.settings.unselectableSelector).attr("style",""));g.settings.scrollbar&&a(".scrollbarBlock"+g.sliderNumber).remove();for(var g=ia[g.sliderNumber],c=0;c<g.length;c++)clearTimeout(g[c]);b.removeData(["iosslider","args"])})},update:function(e){void 0==e&&(e=this);return a(e).each(function(){var e=a(this), b=e.data("iosslider");if(void 0==b)return!1;O.destroy(!1,this);b.settings.startAtSlide=e.data("args").currentSlideNumber;1!=b.numberOfSlides&&b.settings.infiniteSlider&&(b.settings.startAtSlide=(I[b.sliderNumber]+1+x[b.sliderNumber]+b.numberOfSlides)%b.numberOfSlides);O.init(b.settings,this);e=new d.args(b.settings,b.scrollerNode,a(b.scrollerNode).children(":eq("+(b.settings.startAtSlide-1)+")"),b.settings.startAtSlide-1,b.settings.startAtSlide-1,!1);a(b.stageNode).data("args",e);if(""!=b.settings.onSliderUpdate)b.settings.onSliderUpdate(e)})}, addSlide:function(e,d){return this.each(function(){var b=a(this),f=b.data("iosslider");if(void 0==f)return!1;f.settings.infiniteSlider?(1==d?a(f.scrollerNode).children(":eq(0)").before(e):a(f.scrollerNode).children(":eq("+(d-2)+")").after(e),-1>x[f.sliderNumber]&&I[f.sliderNumber]--,b.data("args").currentSlideNumber>=d&&I[f.sliderNumber]++):(d<=f.numberOfSlides?a(f.scrollerNode).children(":eq("+(d-1)+")").before(e):a(f.scrollerNode).children(":eq("+(d-2)+")").after(e),b.data("args").currentSlideNumber>= d&&b.data("args").currentSlideNumber++);b.data("iosslider").numberOfSlides++;O.update(this)})},removeSlide:function(e){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;a(d.scrollerNode).children(":eq("+(e-1)+")").remove();I[d.sliderNumber]>e-1&&I[d.sliderNumber]--;O.update(this)})},goToSlide:function(e,f){void 0==f&&(f=this);return a(f).each(function(){var b=a(this).data("iosslider");if(void 0==b)return!1;e=e>b.childrenOffsets.length?b.childrenOffsets.length-1:e-1; d.changeSlide(e,a(b.scrollerNode),a(b.slideNodes),ia[b.sliderNumber],b.scrollbarClass,b.scrollbarWidth,b.stageWidth,b.scrollbarStageWidth,b.scrollMargin,b.scrollBorder,b.originalOffsets,b.childrenOffsets,b.sliderNumber,b.infiniteSliderWidth,b.numberOfSlides,b.centeredSlideOffset,b.settings);I[b.sliderNumber]=e})},lock:function(){return this.each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;da[d.sliderNumber]=!0})},unlock:function(){return this.each(function(){var d=a(this).data("iosslider"); if(void 0==d)return!1;da[d.sliderNumber]=!1})},getData:function(){return this.each(function(){var d=a(this).data("iosslider");return void 0==d?!1:d})}};a.fn.iosSlider=function(d){if(O[d])return O[d].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof d||!d)return O.init.apply(this,arguments);a.error("invalid method call!")}})(jQuery);