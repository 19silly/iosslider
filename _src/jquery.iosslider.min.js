/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * A jQuery Horizontal Slider for iPhone/iPad Safari 
 * This plugin turns any wide element into a touch enabled horizontal slider.
 * 
 * Copyright (c) 2012 Marc Whitbread
 * 
 * Version: v1.1.18 (10/16/2012)
 * Minimum requirements: jQuery v1.4+
 *
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction.
 *	  Attribution is not required but always appreciated. For commercial projects, you
 *	  must purchase a license. You may download and play with the script before deciding to
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for
 *    distribution elsewhere "as is" without prior consent. If you would like to feature
 *    iosSlider on your site, please do not link directly to the resource zip files. Please
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var ga=0,S=0,W=0,O=0,J="ontouchstart"in window,va="onorientationchange"in window,X=!1,$=!1,aa=!1,ba="pointer",ma="pointer",ha=[],ca=[],na=[],oa=[],da=[],x=[],V=[],D=[],f=[],m=[],pa=[],ia=[],e={showScrollbar:function(e,d){e.scrollbarHide&&a("."+d).css({opacity:e.scrollbarOpacity,filter:"alpha(opacity:"+100*e.scrollbarOpacity+")"})},hideScrollbar:function(a,d,c,F,b,s,f,m,z,u){if(a.scrollbar&&a.scrollbarHide)for(var x=c;x<c+25;x++)d[d.length]=e.hideScrollbarIntervalTimer(10*x,F[c],(c+24- x)/24,b,s,f,m,z,u,a)},hideScrollbarInterval:function(k,d,c,F,b,s,f,x,z){O=-1*k/m[x]*(b-s-f-F);e.setSliderOffset("."+c,O);a("."+c).css({opacity:z.scrollbarOpacity*d,filter:"alpha(opacity:"+100*z.scrollbarOpacity*d+")"})},slowScrollHorizontalInterval:function(k,d,c,F,b,s,M,I,z,u,H,v,p,r,i,C,j,g){if(g.infiniteSlider){if(c<=-1*m[i]){var n=a(k).width();if(c<=-1*pa[i]){var q=-1*H[0];a(d).each(function(b){e.setSliderOffset(a(d)[b],q+C);b<v.length&&(v[b]=-1*q);q+=a(this).outerWidth()});c+=-1*v[0];f[i]=-1* v[0]+C;m[i]=f[i]+n-s;D[i]=0}else{var l=0,w=e.getSliderOffset(a(d[0]),"x");a(d).each(function(a){e.getSliderOffset(this,"x")<w&&(w=e.getSliderOffset(this,"x"),l=a)});p=f[i]+n;e.setSliderOffset(a(d)[l],p);f[i]=-1*v[1]+C;m[i]=f[i]+n-s;v.splice(0,1);v.splice(v.length,0,-1*p+C);D[i]++}}if(c>=-1*f[i]||0<=c)if(n=a(k).width(),0<=c){q=-1*H[0];a(d).each(function(b){e.setSliderOffset(a(d)[b],q+C);b<v.length&&(v[b]=-1*q);q+=a(this).outerWidth()});c-=-1*v[0];f[i]=-1*v[0]+C;m[i]=f[i]+n-s;for(D[i]=r;-1*v[0]-n+C> -1*e.getSliderOffset(k,"x")&&g.snapSlideCenter;){var t=0,G=e.getSliderOffset(a(d[0]),"x");a(d).each(function(a){e.getSliderOffset(this,"x")>G&&(G=e.getSliderOffset(this,"x"),t=a)});p=f[i]-a(d[t]).outerWidth();e.setSliderOffset(a(d)[t],p);v.splice(0,0,-1*p+C);v.splice(v.length-1,1);f[i]=-1*v[0]+C;m[i]=f[i]+n-s;D[i]--;x[i]++}}else t=0,G=e.getSliderOffset(a(d[0]),"x"),a(d).each(function(a){e.getSliderOffset(this,"x")>G&&(G=e.getSliderOffset(this,"x"),t=a)}),p=f[i]-a(d[t]).width(),e.setSliderOffset(a(d)[t], p),v.splice(0,0,-1*p+C),v.splice(v.length-1,1),f[i]=-1*v[0]+C,m[i]=f[i]+n-s,D[i]--}H=!1;s=e.calcActiveOffset(g,c,v,s,D[i],r,u,i);p=(s+D[i]+r)%r;g.infiniteSlider?p!=V[i]&&(H=!0):s!=x[i]&&(H=!0);if(H&&""!=g.onSlideChange)g.onSlideChange(new e.args(g,k,a(k).children(":eq("+p+")"),p,j));x[i]=s;V[i]=p;c=Math.floor(c);e.setSliderOffset(k,c);g.scrollbar&&(O=Math.floor((-1*c-f[i])/(m[i]-f[i])*(M-I-b)),k=b-z,c>=-1*f[i]?(k=b-z- -1*O,e.setSliderOffset(a("."+F),0)):(c<=-1*m[i]+1&&(k=M-I-z-O),e.setSliderOffset(a("."+ F),O)),a("."+F).css({width:k+"px"}))},slowScrollHorizontal:function(k,d,c,F,b,s,M,I,z,u,H,v,p,r,i,C,j,g,n,q){var s=[],l=e.getSliderOffset(k,"x"),w=0,t=25/1024*I;frictionCoefficient=q.frictionCoefficient;elasticFrictionCoefficient=q.elasticFrictionCoefficient;snapFrictionCoefficient=q.snapFrictionCoefficient;5<b&&q.snapToChildren&&!g?w=1:-5>b&&(q.snapToChildren&&!g)&&(w=-1);b<-1*t?b=-1*t:b>t&&(b=t);a(k)[0]!==a(j)[0]&&(w*=-1,b*=-2);if(q.infiniteSlider)var G=f[r],B=m[r],h=D[r];j=[];g=[];for(t=0;t<p.length;t++)j[t]= p[t],g[t]=e.getSliderOffset(a(d[t]),"x");for(;1<b||-1>b;){b*=frictionCoefficient;l+=b;if((l>-1*f[r]||l<-1*m[r])&&!q.infiniteSlider)b*=elasticFrictionCoefficient,l+=b;if(q.infiniteSlider){if(l<=-1*B){for(var B=a(k).width(),K=0,J=g[0],t=0;t<g.length;t++)g[t]<J&&(J=g[t],K=t);t=G+B;g[K]=t;G=-1*j[1]+n;B=G+B-I;j.splice(0,1);j.splice(j.length,0,-1*t+n);h++}if(l>=-1*G){B=a(k).width();K=0;J=g[0];for(t=0;t<g.length;t++)g[t]>J&&(J=g[t],K=t);t=G-a(d[K]).outerWidth();g[K]=t;j.splice(0,0,-1*t+n);j.splice(j.length- 1,1);G=-1*j[0]+n;B=G+B-I;h--}}s[s.length]=l}g=!1;b=e.calcActiveOffset(q,l,j,I,h,C,x[r],r);G=(b+h+C)%C;q.snapToChildren&&(q.infiniteSlider?G!=V[r]&&(g=!0):b!=x[r]&&(g=!0),0>w&&!g?(b++,b>=p.length&&!q.infinteSlider&&(b=p.length-1)):0<w&&!g&&(b--,0>b&&!q.infinteSlider&&(b=0)));if(q.snapToChildren||(l>-1*f[r]||l<-1*m[r])&&!q.infiniteSlider){l=e.getSliderOffset(k,"x");for(s.splice(0,s.length);l<j[b]-0.5||l>j[b]+0.5;)l=(l-j[b])*snapFrictionCoefficient+j[b],s[s.length]=l;s[s.length]=j[b]}w=1;0!=s.length% 2&&(w=0);for(l=0;l<c.length;l++)clearTimeout(c[l]);h=(b+h+C)%C;G=0;for(l=w;l<s.length;l+=2)if(l==w||1<Math.abs(s[l]-G)||l>=s.length-2)G=s[l],c[c.length]=e.slowScrollHorizontalIntervalTimer(10*l,k,d,s[l],F,M,I,z,u,H,b,v,p,i,C,r,n,h,q);G=(b+D[r]+C)%C;""!=q.onSlideComplete&&(c[c.length]=e.onSlideCompleteTimer(10*(l+1),q,k,a(k).children(":eq("+G+")"),G,r));da[r]=c;e.hideScrollbar(q,c,l,s,F,M,I,u,H,r)},onSlideComplete:function(k,d,c,F,b){if(ha[b]!=F&&""!=k.onSlideComplete)k.onSlideComplete(new e.args(k, a(d),c,F,F));ha[b]=F},getSliderOffset:function(e,d){var c=0,d="x"==d?4:5;J&&X?(c=a(e).css("-webkit-transform").split(","),c=parseInt(c[d],10)):c=parseInt(a(e).css("left"),10);return c},setSliderOffset:function(e,d){J&&X?a(e).css({webkitTransform:"matrix(1,0,0,1,"+d+",0)"}):a(e).css({left:d+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(X=!0,ba="-webkit-grab",ma="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(ba="move",ma="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")? $=!0:null!=navigator.userAgent.match("MSIE 8")?aa=!0:navigator.userAgent.match("MSIE 9")},getSlideNumber:function(a,e,c){return(a-D[e]+c)%c},calcActiveOffset:function(a,e,c,F){for(var b=!1,a=[],s,f=0;f<c.length;f++)c[f]<=e&&c[f]>e-F&&(!b&&c[f]!=e&&(a[a.length]=c[f-1]),a[a.length]=c[f],b=!0);0==a.length&&(a[0]=c[c.length-1]);for(f=b=0;f<a.length;f++){var m=Math.abs(e-a[f]);m<F&&(b=a[f],F=m)}for(f=0;f<c.length;f++)b==c[f]&&(s=f);return s},changeSlide:function(k,d,c,f,b,s,m,I,z,u,H,v,p,r,i,C,j){e.autoSlidePause(p); for(var g=0;g<f.length;g++)clearTimeout(f[g]);var n=Math.ceil(j.autoSlideTransTimer/10)+1,q=e.getSliderOffset(d,"x"),g=v[k],l=g-q;if(j.infiniteSlider)for(var k=(k-D[p]+2*i)%i,g=v[k],l=g-q,w=[v[k]-a(d).width(),v[k]+a(d).width()],g=0;g<w.length;g++)Math.abs(w[g]-q)<Math.abs(l)&&(l=w[g]-q);var w=[],t;e.showScrollbar(j,b);for(g=0;g<=n;g++)t=g,t/=n,t--,t=q+l*(Math.pow(t,5)+1),w[w.length]=t;for(g=q=0;g<w.length;g++){if(0==g||1<Math.abs(w[g]-q)||g>=w.length-2)q=w[g],f[g]=e.slowScrollHorizontalIntervalTimer(10* (g+1),d,c,w[g],b,s,m,I,z,u,k,H,v,r,i,p,C,k,j);0==g&&""!=j.onSlideStart&&(n=(x[p]+D[p]+i)%i,j.onSlideStart(new e.args(j,d,a(d).children(":eq("+n+")"),n,k)))}q=!1;n=(k+D[p]+i)%i;j.infiniteSlider?n!=V[p]&&(q=!0):k!=x[p]&&(q=!0);q&&""!=j.onSlideComplete&&(f[f.length]=e.onSlideCompleteTimer(10*(g+1),j,d,a(d).children(":eq("+n+")"),n,p));da[p]=f;e.hideScrollbar(j,f,g,w,b,s,m,z,u,p);e.autoSlide(d,c,f,b,s,m,I,z,u,H,v,p,r,i,C,j)},autoSlide:function(a,d,c,f,b,s,m,I,z,u,H,v,p,r,i,C){if(!C.autoSlide)return!1; e.autoSlidePause(v);ca[v]=setTimeout(function(){!C.infiniteSlider&&x[v]>H.length-1&&(x[v]-=r);e.changeSlide((x[v]+D[v]+r+1)%r,a,d,c,f,b,s,m,I,z,u,H,v,p,r,i,C);e.autoSlide(a,d,c,f,b,s,m,I,z,u,H,v,p,r,i,C)},C.autoSlideTimer+C.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(ca[a])},isUnselectable:function(e,d){return""!=d.unselectableSelector&&1==a(e).closest(d.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a,d,c,f,b,s,m,x,z,u,D,v,p,r,i,C,j,g,n){return setTimeout(function(){e.slowScrollHorizontalInterval(d, c,f,b,s,m,x,z,u,D,v,p,r,i,C,j,g,n)},a)},onSlideCompleteTimer:function(a,d,c,f,b,s){return setTimeout(function(){e.onSlideComplete(d,c,f,b,s)},a)},hideScrollbarIntervalTimer:function(a,d,c,f,b,s,m,x,z,u){return setTimeout(function(){e.hideScrollbarInterval(d,c,f,b,s,m,x,z,u)},a)},args:function(f,d,c,m,b){this.settings=f;this.data=a(d).parent().data("iosslider");this.sliderObject=d;this.sliderContainerObject=a(d).parent();this.currentSlideObject=c;this.currentSlideNumber=m+1;this.targetSlideObject= a(d).children(":eq("+b+")");this.targetSlideNumber=b+1;this.currentSliderOffset=-1*e.getSliderOffset(d,"x")},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};e.setBrowserInfo();var R={init:function(k,d){var c=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1, scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1, stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},k);void 0==d&&(d=this);return a(d).each(function(){function d(){e.autoSlidePause(b);a(g).css("width","");a(g).css("height","");a(y).css("width","");A=a(y).children().not("script");a(A).css("width","");m[b]=0;h=[];i=a(g).parent().width();n=a(g).outerWidth(!0);c.responsiveSlideContainer&&(n=a(g).outerWidth(!0)>i?i: a(g).outerWidth(!0));a(g).css({position:c.stageCSS.position,top:c.stageCSS.top,left:c.stageCSS.left,overflow:c.stageCSS.overflow,zIndex:c.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:n});a(c.unselectableSelector).css({cursor:"default"});c.responsiveSlides&&a(A).each(function(){var b=a(this).outerWidth(!0),b=b>n?n+-1*(a(this).outerWidth(!0)-a(this).width()):a(this).width();a(this).css({width:b})});a(A).each(function(c){a(this).css({webkitBackfaceVisibility:"hidden", position:"absolute",top:0});h[c]=-1*m[b];m[b]+=a(this).outerWidth(!0)});c.snapSlideCenter&&(j=0.5*(n-a(A[0]).outerWidth()));pa[b]=2*m[b];a(A).each(function(c){e.setSliderOffset(a(this),-1*h[c]+m[b]+j);h[c]-=m[b]});if(!c.infiniteSlider&&!c.snapSlideCenter){for(var N=0;N<h.length&&!(h[N]<=-1*(2*m[b]-n));N++)ca=N;h.splice(ca+1,h.length);h[h.length]=-1*(2*m[b]-n)}for(N=0;N<h.length;N++)K[N]=h[N];G&&(c.startAtSlide=c.startAtSlide>h.length?h.length:c.startAtSlide,x[b]=c.startAtSlide-1,G=!1);f[b]=m[b]+j; a(y).css({position:"relative",cursor:ba,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:m[b]+"px"});Y=m[b];m[b]=2*m[b]-n+2*j;(P=Y<n?!0:!1)&&a(y).css({cursor:"default"});C=a(g).parent().outerHeight(!0);q=a(g).height();c.responsiveSlideContainer&&(q=a(g).height()>C?C:a(g).height());a(g).css({height:q});if(c.infiniteSlider&&!P){e.getSliderOffset(a(y),"x");for(N=-1*((D[b]+E)%E);0>N;){var t=0,F=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")<F&&(F=e.getSliderOffset(this, "x"),t=a)});var B=f[b]+Y;e.setSliderOffset(a(A)[t],B);f[b]=-1*h[1]+j;m[b]=f[b]+Y-n;h.splice(0,1);h.splice(h.length,0,-1*B+j);N++}for(;-1*h[0]-Y+j>-1*e.getSliderOffset(y,"x")&&c.snapSlideCenter;){var I=0,ta=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")>ta&&(ta=e.getSliderOffset(this,"x"),I=a)});B=f[b]-a(A[I]).outerWidth();e.setSliderOffset(a(A)[I],B);h.splice(0,0,-1*B+j);h.splice(h.length-1,1);f[b]=-1*h[0]+j;m[b]=f[b]+Y-n;D[b]--;x[b]++}}e.setSliderOffset(y,h[x[b]]); !J&&!c.desktopClickDrag&&a(y).css({cursor:"default"});c.scrollbar&&!P&&(a("."+z).css({margin:c.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+z+" ."+u).css({border:c.scrollbarBorder}),l=parseInt(a("."+z).css("marginLeft"))+parseInt(a("."+z).css("marginRight")),w=parseInt(a("."+z+" ."+u).css("borderLeftWidth"),10)+parseInt(a("."+z+" ."+u).css("borderRightWidth"),10),p=""!=c.scrollbarContainer?a(c.scrollbarContainer).width():n,r=(p-l)/E,c.scrollbarHide||(R=c.scrollbarOpacity),a("."+z).css({position:"absolute", left:0,width:p-l+"px",margin:c.scrollbarMargin}),"top"==c.scrollbarLocation?a("."+z).css("top","0"):a("."+z).css("bottom","0"),a("."+z+" ."+u).css({borderRadius:c.scrollbarBorderRadius,background:c.scrollbarBackground,height:c.scrollbarHeight,width:r-w+"px",minWidth:c.scrollbarHeight,border:c.scrollbarBorder,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative",opacity:R,filter:"alpha(opacity:"+100*R+")",boxShadow:c.scrollbarShadow}),e.setSliderOffset(a("."+z+" ."+u),Math.floor((-1* h[x[b]]-f[b])/(m[b]-f[b])*(p-l-r))),a("."+z).css({display:"block"}),H=a("."+z+" ."+u),v=a("."+z));c.scrollbarDrag&&!P&&a("."+z+" ."+u).css({cursor:ba});c.infiniteSlider&&(L=(m[b]+n)/3);""!=c.navSlideSelector&&a(c.navSlideSelector).each(function(d){a(this).css({cursor:"pointer"});a(this).unbind(U).bind(U,function(){e.changeSlide(d,y,A,k,u,r,n,p,l,w,K,h,b,L,E,j,c)})});""!=c.navPrevSelector&&(a(c.navPrevSelector).css({cursor:"pointer"}),a(c.navPrevSelector).unbind(U).bind(U,function(){var a=(x[b]+D[b]+ E)%E;(0<a||c.infiniteSlider)&&e.changeSlide(a-1,y,A,k,u,r,n,p,l,w,K,h,b,L,E,j,c)}));""!=c.navNextSelector&&(a(c.navNextSelector).css({cursor:"pointer"}),a(c.navNextSelector).unbind(U).bind(U,function(){var a=(x[b]+D[b]+E)%E;(a<h.length-1||c.infiniteSlider)&&e.changeSlide(a+1,y,A,k,u,r,n,p,l,w,K,h,b,L,E,j,c)}));c.autoSlide&&!P&&(""!=c.autoSlideToggleSelector&&(a(c.autoSlideToggleSelector).css({cursor:"pointer"}),a(c.autoSlideToggleSelector).unbind(U).bind(U,function(){Z?(e.autoSlide(y,A,k,u,r,n,p, l,w,K,h,b,L,E,j,c),Z=!1,a(c.autoSlideToggleSelector).removeClass("on")):(e.autoSlidePause(b),Z=!0,a(c.autoSlideToggleSelector).addClass("on"))})),!Z&&!P&&e.autoSlide(y,A,k,u,r,n,p,l,w,K,h,b,L,E,j,c),J?a(g).bind("touchend.iosSliderEvent",function(){!Z&&!P&&e.autoSlide(y,A,k,u,r,n,p,l,w,K,h,b,L,E,j,c)}):(a(g).bind("mouseenter.iosSliderEvent",function(){e.autoSlidePause(b)}),a(g).bind("mouseleave.iosSliderEvent",function(){!Z&&!P&&e.autoSlide(y,A,k,u,r,n,p,l,w,K,h,b,L,E,j,c)})));a(g).data("iosslider", {obj:ua,settings:c,scrollerNode:y,slideNodes:A,numberOfSlides:E,centeredSlideOffset:j,sliderNumber:b,originalOffsets:K,childrenOffsets:h,sliderMax:m[b],scrollbarClass:u,scrollbarWidth:r,scrollbarStageWidth:p,stageWidth:n,scrollMargin:l,scrollBorder:w,infiniteSliderOffset:D[b],infiniteSliderWidth:L});return!0}ga++;var b=ga,k=[];na[b]=c;f[b]=0;m[b]=0;var M=[0,0],I=[0,0],z="scrollbarBlock"+ga,u="scrollbar"+ga,H,v,p,r,i,C,j=0,g=a(this),n,q,l,w,t,G=!0;V[b]=x[b];var B=-1,h,K=[],R=0,Q=0,X=0,y=a(this).children(":first-child"), A,E=a(y).children().not("script").size(),T=!1,ca=0,qa=!1,ja=void 0,L;D[b]=0;var P=!1;ha[b]=-1;var Z=!1;oa[b]=!1;var ka,la=!1,ea=!1,Y,U=J?"touchstart.iosSliderEvent":"click.iosSliderEvent";ia[b]=!1;da[b]=[];c.scrollbarDrag&&(c.scrollbar=!0,c.scrollbarHide=!1);var ua=a(this);if(void 0!=ua.data("iosslider"))return!0;a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});c.infiniteSlider&&(c.scrollbar=!1);c.scrollbar&&(""!=c.scrollbarContainer?a(c.scrollbarContainer).append("<div class = '"+ z+"'><div class = '"+u+"'></div></div>"):a(y).parent().append("<div class = '"+z+"'><div class = '"+u+"'></div></div>"));if(!d())return!0;a(this).find("a").bind("mousedown",e.preventDrag);a(this).find("[onclick]").bind("click",e.preventDrag).each(function(){a(this).data("onclick",this.onclick)});B=e.calcActiveOffset(c,e.getSliderOffset(a(y),"x"),h,n,D[b],E,void 0,b);B=(B+D[b]+E)%E;if(""!=c.onSliderLoaded)c.onSliderLoaded(new e.args(c,y,a(y).children(":eq("+B+")"),B,B));ha[b]=B;if(na[b].responsiveSlides|| na[b].responsiveSlideContainer)B=va?"orientationchange":"resize",a(window).bind(B+".iosSliderEvent",function(){if(!d())return!0});c.keyboardControls&&!P&&a(document).bind("keydown.iosSliderEvent",function(a){!$&&!aa&&(a=a.originalEvent);switch(a.keyCode){case 37:a=(x[b]+D[b]+E)%E;(0<a||c.infiniteSlider)&&e.changeSlide(a-1,y,A,k,u,r,n,p,l,w,K,h,b,L,E,j,c);break;case 39:a=(x[b]+D[b]+E)%E,(a<h.length-1||c.infiniteSlider)&&e.changeSlide(a+1,y,A,k,u,r,n,p,l,w,K,h,b,L,E,j,c)}});if(J||c.desktopClickDrag){var ra= J?"touchstart.iosSliderEvent":"mousedown.iosSliderEvent",fa=a(y),B=a(y),sa=!1;c.scrollbarDrag&&(fa=fa.add(H),B=B.add(v));a(fa).bind(ra,function(d){if(ia[b]||P||(sa=e.isUnselectable(d.target,c)))return!0;ka=a(this)[0]===a(H)[0]?H:y;!$&&!aa&&(d=d.originalEvent);e.autoSlidePause(b);J?(eventX=d.touches[0].pageX,eventY=d.touches[0].pageY):(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&& document.selection.empty(),eventX=d.pageX,eventY=d.pageY,qa=!0,ja=y,a(this).css({cursor:ma}));M=[0,0];I=[0,0];S=0;T=!1;for(d=0;d<k.length;d++)clearTimeout(k[d]);d=e.getSliderOffset(y,"x");d>-1*f[b]?(d=f[b],e.setSliderOffset(a("."+u),d),a("."+u).css({width:r-w+"px"})):d<-1*m[b]&&(d=-1*m[b],e.setSliderOffset(y,d),e.setSliderOffset(a("."+u),p-l-r),a("."+u).css({width:r-w+"px"}));d=a(this)[0]===a(H)[0]?f[b]:0;Q=-1*(e.getSliderOffset(this,"x")-eventX-d);e.getSliderOffset(this,"y");M[1]=eventX;I[1]=eventY; ea=!1});ra=J?"touchmove.iosSliderEvent":"mousemove.iosSliderEvent";a(B).bind(ra,function(d){!$&&!aa&&(d=d.originalEvent);if(sa)return!0;var k=0;J||(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty());if(J)eventX=d.touches[0].pageX,eventY=d.touches[0].pageY;else if(eventX=d.pageX,eventY=d.pageY,!qa)return!1;M[0]=M[1];M[1]=eventX;S=(M[1]-M[0])/2;I[0]= I[1];I[1]=eventY;W=(I[1]-I[0])/2;if(!T&&""!=c.onSlideStart){var g=(x[b]+D[b]+E)%E;c.onSlideStart(new e.args(c,y,a(y).children(":eq("+g+")"),g,g))}if((3<W||-3>W)&&3>S&&-3<S&&J&&!T)la=!0;(5<S||-5>S)&&J?(d.preventDefault(),T=!0):J||(T=!0);if(T&&!la){var g=e.getSliderOffset(y,"x"),i=a(this)[0]===a(v)[0]?f[b]:0,s=a(this)[0]===a(v)[0]?(f[b]-m[b])/(p-l-r):1,q=a(this)[0]===a(v)[0]?c.scrollbarElasticPullResistance:c.elasticPullResistance;J&&(X!=d.touches.length&&(Q=-1*g+eventX),X=d.touches.length);if(c.infiniteSlider){if(g<= -1*m[b])if(q=a(y).width(),g<=-1*pa[b]){var F=-1*K[0];a(A).each(function(b){e.setSliderOffset(a(A)[b],F+j);b<h.length&&(h[b]=-1*F);F+=a(this).outerWidth()});Q-=-1*h[0];f[b]=-1*h[0]+j;m[b]=f[b]+q-n;D[b]=0}else{var z=0,C=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")<C&&(C=e.getSliderOffset(this,"x"),z=a)});var B=f[b]+q;e.setSliderOffset(a(A)[z],B);f[b]=-1*h[1]+j;m[b]=f[b]+q-n;h.splice(0,1);h.splice(h.length,0,-1*B+j);D[b]++}if(g>=-1*f[b]||0<=g)if(q=a(y).width(),0<= g){F=-1*K[0];a(A).each(function(b){e.setSliderOffset(a(A)[b],F+j);b<h.length&&(h[b]=-1*F);F+=a(this).outerWidth()});Q+=-1*h[0];f[b]=-1*h[0]+j;m[b]=f[b]+q-n;for(D[b]=E;-1*h[0]-q+j>-1*e.getSliderOffset(y,"x")&&c.snapSlideCenter;){var G=0,H=e.getSliderOffset(a(A[0]),"x");a(A).each(function(a){e.getSliderOffset(this,"x")>H&&(H=e.getSliderOffset(this,"x"),G=a)});B=f[b]-a(A[G]).outerWidth();e.setSliderOffset(a(A)[G],B);h.splice(0,0,-1*B+j);h.splice(h.length-1,1);f[b]=-1*h[0]+j;m[b]=f[b]+q-n;D[b]--;x[b]++}}else G= 0,H=e.getSliderOffset(a(A[0]),"x"),a(A).each(function(a){e.getSliderOffset(this,"x")>H&&(H=e.getSliderOffset(this,"x"),G=a)}),B=f[b]-a(A[G]).outerWidth(),e.setSliderOffset(a(A)[G],B),h.splice(0,0,-1*B+j),h.splice(h.length-1,1),f[b]=-1*h[0]+j,m[b]=f[b]+q-n,D[b]--}else g>-1*f[b]&&(k=-1*(f[b]+-1*(Q-i-eventX+j)*s-i)*q/s),g<-1*m[b]&&(k=-1*(m[b]+-1*(Q-i-eventX)*s-i)*q/s);e.setSliderOffset(y,-1*(Q-i-eventX-k)*s-i);c.scrollbar&&(e.showScrollbar(c,u),O=Math.floor((Q-eventX-k-f[b])/(m[b]-f[b])*(p-l-r)*s),i= r,g>=-1*f[b]?(i=r-w- -1*O,e.setSliderOffset(a("."+u),0),a("."+u).css({width:i+"px"})):g<=-1*m[b]+1?(i=p-l-w-O,e.setSliderOffset(a("."+u),O),a("."+u).css({width:i+"px"})):e.setSliderOffset(a("."+u),O));J&&(t=d.touches[0].pageX);d=!1;k=e.calcActiveOffset(c,-1*(Q-eventX-k),h,n,D[b],E,void 0,b);g=(k+D[b]+E)%E;c.infiniteSlider?g!=V[b]&&(d=!0):k!=x[b]&&(d=!0);if(d&&(x[b]=k,V[b]=g,ea=!0,""!=c.onSlideChange))c.onSlideChange(new e.args(c,y,a(y).children(":eq("+g+")"),g,g))}});a(fa).bind("touchend.iosSliderEvent", function(a){a=a.originalEvent;if(sa)return!0;if(0!=a.touches.length)for(var d=0;d<a.touches.length;d++)a.touches[d].pageX==t&&e.slowScrollHorizontal(y,A,k,u,S,W,r,n,p,l,w,K,h,b,L,E,ka,ea,j,c);else e.slowScrollHorizontal(y,A,k,u,S,W,r,n,p,l,w,K,h,b,L,E,ka,ea,j,c);la=!1});if(!J){B=a(window);if(aa||$)B=a(document);a(B).bind("mouseup.iosSliderEvent"+b,function(){T?a(y).children(":eq("+x[b]+")").find("a").unbind("click.disableClick").bind("click.disableClick",e.preventClick):a(y).children(":eq("+x[b]+ ")").find("a").unbind("click.disableClick").bind("click.disableClick",e.enableClick);a(y).children(":eq("+x[b]+")").find("[onclick]").each(function(){this.onclick=function(b){if(T)return!1;a(this).data("onclick").call(this,b||window.event)}});1.6<=parseFloat(a().jquery)&&a(y).children(":eq("+x[b]+")").find("*").each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!T)return!1;a(this).one("click.disableClick",e.preventClick);var b=a(this).data("events").click, c=b.pop();b.splice(0,0,c)}});if(!oa[b]){if(P)return!0;a(fa).css({cursor:ba});qa=!1;if(void 0==ja)return!1;e.slowScrollHorizontal(ja,A,k,u,S,W,r,n,p,l,w,K,h,b,L,E,ka,ea,j,c);ja=void 0}la=!1})}}})},destroy:function(f,d){void 0==d&&(d=this);return a(d).each(function(){var c=a(this),d=c.data("iosslider");if(void 0==d)return!1;void 0==f&&(f=!0);e.autoSlidePause(d.sliderNumber);oa[d.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+d.sliderNumber);a(document).unbind(".iosSliderEvent-"+d.sliderNumber); a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");f&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(d.settings.navSlideSelector).attr("style",""),a(d.settings.navPrevSelector).attr("style",""),a(d.settings.navNextSelector).attr("style",""),a(d.settings.autoSlideToggleSelector).attr("style",""),a(d.settings.unselectableSelector).attr("style", ""));d.settings.scrollbar&&a(".scrollbarBlock"+d.sliderNumber).remove();for(var d=da[d.sliderNumber],b=0;b<d.length;b++)clearTimeout(d[b]);c.removeData("iosslider")})},update:function(f){void 0==f&&(f=this);return a(f).each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;R.destroy(!1,this);d.settings.startAtSlide=1==d.numberOfSlides?d.settings.startAtSlide:(x[d.sliderNumber]+1+D[d.sliderNumber]+d.numberOfSlides)%d.numberOfSlides;R.init(d.settings,this);if(""!=d.settings.onSliderUpdate)d.settings.onSliderUpdate(new e.args(d.settings, d.scrollerNode,a(d.scrollerNode).children(":eq("+(d.settings.startAtSlide-1)+")"),d.settings.startAtSlide-1,d.settings.startAtSlide-1))})},addSlide:function(e,d){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;d<=c.numberOfSlides?a(c.scrollerNode).children(":eq("+(d-1)+")").before(e):a(c.scrollerNode).children(":eq("+(d-2)+")").after(e);x[c.sliderNumber]>d-2&&x[c.sliderNumber]++;R.update(this)})},removeSlide:function(e){return this.each(function(){var d=a(this).data("iosslider"); if(void 0==d)return!1;a(d.scrollerNode).children(":eq("+(e-1)+")").remove();x[d.sliderNumber]>e-1&&x[d.sliderNumber]--;R.update(this)})},goToSlide:function(f,d){void 0==d&&(d=this);return a(d).each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;f=(f-1+c.numberOfSlides)%c.numberOfSlides;e.changeSlide(f,a(c.scrollerNode),a(c.slideNodes),da[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets, c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides,c.centeredSlideOffset,c.settings);x[c.sliderNumber]=f})},lock:function(){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;ia[e.sliderNumber]=!0})},unlock:function(){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;ia[e.sliderNumber]=!1})}};a.fn.iosSlider=function(e){if(R[e])return R[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof e||!e)return R.init.apply(this, arguments);a.error("invalid method call!")}})(jQuery);