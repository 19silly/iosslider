/*
 * iosSlider - http://iosscripts.com/iosslider/
 * 
 * A jQuery Horizontal Slider for iPhone/iPad Safari 
 * This plugin turns any wide element into a touch enabled horizontal slider.
 * 
 * Copyright (c) 2012 Marc Whitbread
 * 
 * Version: v1.1.14 (10/08/2012)
 * Minimum requirements: jQuery v1.4+
 * 
 * Advanced requirements:
 * 1) jQuery bind() click event override on slide requires jQuery v1.6+
 *
 * Terms of use:
 *
 * 1) iosSlider is licensed under the Creative Commons â€“ Attribution-NonCommercial 3.0 License.
 * 2) You may use iosSlider free for personal or non-profit purposes, without restriction. 
 *	  Attribution is not required but always appreciated. For commercial projects, you 
 *	  must purchase a license. You may download and play with the script before deciding to 
 *	  fully implement it in your project. Making sure you are satisfied, and knowing iosSlider 
 *	  is the right script for your project is paramount.
 * 3) You are not permitted to make the resources found on iosscripts.com available for 
 *    distribution elsewhere "as is" without prior consent. If you would like to feature 
 *    iosSlider on your site, please do not link directly to the resource zip files. Please 
 *    link to the appropriate page on iosscripts.com where users can find the download.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 */
 
(function(a){var ea=0,Q=0,V=0,O=0,F="ontouchstart"in window,sa="onorientationchange"in window,W=!1,Y=!1,Z=!1,$="pointer",ka="pointer",fa=[],aa=[],la=[],ma=[],ba=[],y=[],T=[],D=[],f=[],m=[],na=[],ga=[],e={showScrollbar:function(h,e){h.scrollbarHide&&a("."+e).css({opacity:h.scrollbarOpacity,filter:"alpha(opacity:"+100*h.scrollbarOpacity+")"})},hideScrollbar:function(a,d,c,H,b,s,f,m,B,u){if(a.scrollbar&&a.scrollbarHide)for(var y=c;y<c+25;y++)d[d.length]=e.hideScrollbarIntervalTimer(10*y,H[c],(c+24-y)/ 24,b,s,f,m,B,u,a)},hideScrollbarInterval:function(h,d,c,H,b,s,f,y,B){O=-1*h/m[y]*(b-s-f-H);e.setSliderOffset("."+c,O);a("."+c).css({opacity:B.scrollbarOpacity*d,filter:"alpha(opacity:"+100*B.scrollbarOpacity*d+")"})},slowScrollHorizontalInterval:function(h,d,c,H,b,s,M,G,B,u,J,v,n,p,i,z,k,g){if(g.infiniteSlider){if(c<=-1*m[i]){var q=a(h).width();if(c<=-1*na[i]){var r=-1*J[0];a(d).each(function(b){e.setSliderOffset(a(d)[b],r+z);b<v.length&&(v[b]=-1*r);r+=a(this).outerWidth()});c+=-1*v[0];f[i]=-1*v[0]+ z;m[i]=f[i]+q-s;D[i]=0}else{var l=0,x=e.getSliderOffset(a(d[0]),"x");a(d).each(function(a){e.getSliderOffset(this,"x")<x&&(x=e.getSliderOffset(this,"x"),l=a)});n=f[i]+q;e.setSliderOffset(a(d)[l],n);f[i]=-1*v[1]+z;m[i]=f[i]+q-s;v.splice(0,1);v.splice(v.length,0,-1*n+z);D[i]++}}if(c>=-1*f[i]||0<=c)if(q=a(h).width(),0<=c)r=-1*J[0],a(d).each(function(b){e.setSliderOffset(a(d)[b],r+z);b<v.length&&(v[b]=-1*r);r+=a(this).outerWidth()}),c-=-1*v[0],f[i]=-1*v[0]+z,m[i]=f[i]+q-s,D[i]=p,g.snapSlideCenter&&(n= f[i]-a(d[p-1]).width(),e.setSliderOffset(a(d)[p-1],n),v.splice(0,0,-1*n+z),v.splice(v.length-1,1),f[i]=-1*v[0]+z,m[i]=f[i]+q-s,D[i]--);else{var w=0,t=e.getSliderOffset(a(d[0]),"x");a(d).each(function(a){e.getSliderOffset(this,"x")>t&&(t=e.getSliderOffset(this,"x"),w=a)});n=f[i]-a(d[w]).width();e.setSliderOffset(a(d)[w],n);v.splice(0,0,-1*n+z);v.splice(v.length-1,1);f[i]=-1*v[0]+z;m[i]=f[i]+q-s;D[i]--}}J=!1;s=e.calcActiveOffset(g,c,v,s,D[i],p,u,i);n=(s+D[i]+p)%p;g.infiniteSlider?n!=T[i]&&(J=!0):s!= y[i]&&(J=!0);if(J&&""!=g.onSlideChange)g.onSlideChange(new e.args(g,h,a(h).children(":eq("+n+")"),n,k));y[i]=s;T[i]=n;c=Math.floor(c);e.setSliderOffset(h,c);g.scrollbar&&(O=Math.floor((-1*c-f[i])/(m[i]-f[i])*(M-G-b)),h=b-B,c>=-1*f[i]?(h=b-B- -1*O,e.setSliderOffset(a("."+H),0)):(c<=-1*m[i]+1&&(h=M-G-B-O),e.setSliderOffset(a("."+H),O)),a("."+H).css({width:h+"px"}))},slowScrollHorizontal:function(h,d,c,H,b,s,M,G,B,u,J,v,n,p,i,z,k,g,q,r){var s=[],l=e.getSliderOffset(h,"x"),x=0,w=25/1024*G;frictionCoefficient= r.frictionCoefficient;elasticFrictionCoefficient=r.elasticFrictionCoefficient;snapFrictionCoefficient=r.snapFrictionCoefficient;5<b&&r.snapToChildren&&!g?x=1:-5>b&&(r.snapToChildren&&!g)&&(x=-1);b<-1*w?b=-1*w:b>w&&(b=w);a(h)[0]!==a(k)[0]&&(x*=-1,b*=-2);if(r.infiniteSlider)var t=f[p],j=m[p],I=D[p];k=[];g=[];for(w=0;w<n.length;w++)k[w]=n[w],g[w]=e.getSliderOffset(a(d[w]),"x");for(;1<b||-1>b;){b*=frictionCoefficient;l+=b;if((l>-1*f[p]||l<-1*m[p])&&!r.infiniteSlider)b*=elasticFrictionCoefficient,l+=b; if(r.infiniteSlider){if(l<=-1*j){for(var j=a(h).width(),F=0,K=g[0],w=0;w<g.length;w++)g[w]<K&&(K=g[w],F=w);w=t+j;g[F]=w;t=-1*k[1]+q;j=t+j-G;k.splice(0,1);k.splice(k.length,0,-1*w+q);I++}if(l>=-1*t){j=a(h).width();F=0;K=g[0];for(w=0;w<g.length;w++)g[w]>K&&(K=g[w],F=w);w=t-a(d[F]).outerWidth();g[F]=w;k.splice(0,0,-1*w+q);k.splice(k.length-1,1);t=-1*k[0]+q;j=t+j-G;I--}}s[s.length]=l}t=!1;b=e.calcActiveOffset(r,l,k,G,I,z,y[p],p);g=(b+I+z)%z;r.snapToChildren&&(r.infiniteSlider?g!=T[p]&&(t=!0):b!=y[p]&& (t=!0),0>x&&!t?(b++,b>=n.length&&!r.infinteSlider&&(b=n.length-1)):0<x&&!t&&(b--,0>b&&!r.infinteSlider&&(b=0)));if(r.snapToChildren||(l>-1*f[p]||l<-1*m[p])&&!r.infiniteSlider){l=e.getSliderOffset(h,"x");for(s.splice(0,s.length);l<k[b]-0.5||l>k[b]+0.5;)l=(l-k[b])*snapFrictionCoefficient+k[b],s[s.length]=l;s[s.length]=k[b]}x=1;0!=s.length%2&&(x=0);for(l=0;l<c.length;l++)clearTimeout(c[l]);I=(b+I+z)%z;t=0;for(l=x;l<s.length;l+=2)if(l==x||1<Math.abs(s[l]-t)||l>=s.length-2)t=s[l],c[c.length]=e.slowScrollHorizontalIntervalTimer(10* l,h,d,s[l],H,M,G,B,u,J,b,v,n,i,z,p,q,I,r);t=!1;g=(b+D[p]+z)%z;r.infiniteSlider?g!=T[p]&&(t=!0):b!=y[p]&&(t=!0);t&&""!=r.onSlideComplete&&(c[c.length]=e.onSlideCompleteTimer(10*(l+1),r,h,a(h).children(":eq("+g+")"),g,p));ba[p]=c;e.hideScrollbar(r,c,l,s,H,M,G,u,J,p)},onSlideComplete:function(h,d,c,H,b){if(fa[b]!=H&&""!=h.onSlideComplete)h.onSlideComplete(new e.args(h,a(d),c,H,H));fa[b]=H},getSliderOffset:function(e,d){var c=0,d="x"==d?4:5;F&&W?(c=a(e).css("-webkit-transform").split(","),c=parseInt(c[d], 10)):c=parseInt(a(e).css("left"),10);return c},setSliderOffset:function(e,d){F&&W?a(e).css({webkitTransform:"matrix(1,0,0,1,"+d+",0)"}):a(e).css({left:d+"px"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(W=!0,$="-webkit-grab",ka="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?($="move",ka="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?Y=!0:null!=navigator.userAgent.match("MSIE 8")?Z=!0:navigator.userAgent.match("MSIE 9")},getSlideNumber:function(a, e,c){return(a-D[e]+c)%c},calcActiveOffset:function(a,e,c,H){for(var b=!1,a=[],s,f=0;f<c.length;f++)c[f]<=e&&c[f]>e-H&&(!b&&c[f]!=e&&(a[a.length]=c[f-1]),a[a.length]=c[f],b=!0);0==a.length&&(a[0]=c[c.length-1]);for(f=b=0;f<a.length;f++){var m=Math.abs(e-a[f]);m<H&&(b=a[f],H=m)}for(f=0;f<c.length;f++)b==c[f]&&(s=f);return s},changeSlide:function(h,d,c,f,b,s,m,G,B,u,F,v,n,p,i,z,k){e.autoSlidePause(n);for(var g=0;g<f.length;g++)clearTimeout(f[g]);var q=Math.ceil(k.autoSlideTransTimer/10)+1,r=e.getSliderOffset(d, "x"),g=v[h],l=g-r;if(k.infiniteSlider)for(var h=(h-D[n]+2*i)%i,g=v[h],l=g-r,x=[v[h]-a(d).width(),v[h]+a(d).width()],g=0;g<x.length;g++)Math.abs(x[g]-r)<Math.abs(l)&&(l=x[g]-r);var x=[],w;e.showScrollbar(k,b);for(g=0;g<=q;g++)w=g,w/=q,w--,w=r+l*(Math.pow(w,5)+1),x[x.length]=w;for(g=r=0;g<x.length;g++){if(0==g||1<Math.abs(x[g]-r)||g>=x.length-2)r=x[g],f[g]=e.slowScrollHorizontalIntervalTimer(10*(g+1),d,c,x[g],b,s,m,G,B,u,h,F,v,p,i,n,z,h,k);0==g&&""!=k.onSlideStart&&(q=(y[n]+D[n]+i)%i,k.onSlideStart(new e.args(k, d,a(d).children(":eq("+q+")"),q,h)))}r=!1;q=(h+D[n]+i)%i;k.infiniteSlider?q!=T[n]&&(r=!0):h!=y[n]&&(r=!0);r&&""!=k.onSlideComplete&&(f[f.length]=e.onSlideCompleteTimer(10*(g+1),k,d,a(d).children(":eq("+q+")"),q,n));ba[n]=f;e.hideScrollbar(k,f,g,x,b,s,m,B,u,n);e.autoSlide(d,c,f,b,s,m,G,B,u,F,v,n,p,i,z,k)},autoSlide:function(a,d,c,f,b,s,m,F,B,u,J,v,n,p,i,z){if(!z.autoSlide)return!1;e.autoSlidePause(v);aa[v]=setTimeout(function(){!z.infiniteSlider&&y[v]>J.length-1&&(y[v]-=p);e.changeSlide((y[v]+D[v]+ p+1)%p,a,d,c,f,b,s,m,F,B,u,J,v,n,p,i,z);e.autoSlide(a,d,c,f,b,s,m,F,B,u,J,v,n,p,i,z)},z.autoSlideTimer+z.autoSlideTransTimer)},autoSlidePause:function(a){clearTimeout(aa[a])},isUnselectable:function(e,d){return""!=d.unselectableSelector&&1==a(e).closest(d.unselectableSelector).size()?!0:!1},slowScrollHorizontalIntervalTimer:function(a,d,c,f,b,s,m,y,B,u,D,v,n,p,i,z,k,g,q){return setTimeout(function(){e.slowScrollHorizontalInterval(d,c,f,b,s,m,y,B,u,D,v,n,p,i,z,k,g,q)},a)},onSlideCompleteTimer:function(a, d,c,f,b,s){return setTimeout(function(){e.onSlideComplete(d,c,f,b,s)},a)},hideScrollbarIntervalTimer:function(a,d,c,f,b,s,m,y,B,u){return setTimeout(function(){e.hideScrollbarInterval(d,c,f,b,s,m,y,B,u)},a)},args:function(f,d,c,m,b){this.settings=f;this.data=a(d).parent().data("iosslider");this.sliderObject=d;this.sliderContainerObject=a(d).parent();this.currentSlideObject=c;this.currentSlideNumber=m+1;this.targetSlideObject=a(d).children(":eq("+b+")");this.targetSlideNumber=b+1;this.currentSliderOffset= -1*e.getSliderOffset(d,"x")},preventDrag:function(a){a.preventDefault()},preventClick:function(a){a.stopImmediatePropagation();return!1},enableClick:function(){return!0}};e.setBrowserInfo();var P={init:function(h,d){var c=a.extend(!0,{elasticPullResistance:0.6,frictionCoefficient:0.92,elasticFrictionCoefficient:0.6,snapFrictionCoefficient:0.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:0.4, scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:0.9,desktopClickDrag:!1,keyboardControls:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5E3,autoSlideTransTimer:750,infiniteSlider:!1,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1}, unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},h);void 0==d&&(d=this);return a(d).each(function(){function d(){e.autoSlidePause(b);a(g).css("width","");a(g).css("height","");a(A).css("width","");C=a(A).children().not("script");a(C).css("width","");m[b]=0;j=[];i=a(g).parent().width();q=a(g).outerWidth(!0);c.responsiveSlideContainer&&(q=a(g).outerWidth(!0)>i?i:a(g).outerWidth(!0));a(g).css({position:c.stageCSS.position,top:c.stageCSS.top, left:c.stageCSS.left,overflow:c.stageCSS.overflow,zIndex:c.stageCSS.zIndex,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:q});a(c.unselectableSelector).css({cursor:"default"});c.responsiveSlides&&a(C).each(function(){var b=a(this).outerWidth(!0),b=b>q?q+-1*(a(this).outerWidth(!0)-a(this).width()):a(this).width();a(this).css({width:b})});a(C).each(function(c){a(this).css({webkitBackfaceVisibility:"hidden",position:"absolute",top:0});j[c]=-1*m[b];m[b]+=a(this).outerWidth(!0)});c.snapSlideCenter&& (k=0.5*(q-a(C[0]).outerWidth()));na[b]=2*m[b];a(C).each(function(c){e.setSliderOffset(a(this),-1*j[c]+m[b]+k);j[c]-=m[b]});if(!c.infiniteSlider&&!c.snapSlideCenter){for(var N=0;N<j.length&&!(j[N]<=-1*(2*m[b]-q));N++)aa=N;j.splice(aa+1,j.length);j[j.length]=-1*(2*m[b]-q)}for(N=0;N<j.length;N++)I[N]=j[N];f[b]=m[b]+k;a(A).css({position:"relative",cursor:$,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",width:m[b]+"px"});m[b]=2*m[b]-q+2*k;z=a(g).parent().outerHeight(!0);r=a(g).height();c.responsiveSlideContainer&& (r=a(g).height()>z?z:a(g).height());a(g).css({height:r});if(c.infiniteSlider){e.getSliderOffset(a(A),"x");for(var N=a(A).width(),w=-1*((D[b]+E)%E);0>w;){var t=0,H=e.getSliderOffset(a(C[0]),"x");a(C).each(function(a){e.getSliderOffset(this,"x")<H&&(H=e.getSliderOffset(this,"x"),t=a)});var G=f[b]+N;e.setSliderOffset(a(C)[t],G);f[b]=-1*j[1]+k;m[b]=f[b]+N-q;j.splice(0,1);j.splice(j.length,0,-1*G+k);w++}if(0==y[b]&&c.snapSlideCenter){var K=0,M=e.getSliderOffset(a(C[0]),"x");a(C).each(function(a){e.getSliderOffset(this, "x")>M&&(M=e.getSliderOffset(this,"x"),K=a)});G=f[b]-a(C[K]).outerWidth();e.setSliderOffset(a(C)[K],G);j.splice(0,0,-1*G+k);j.splice(j.length-1,1);f[b]=-1*j[0]+k;m[b]=f[b]+N-q;D[b]--;y[b]++}}e.setSliderOffset(A,j[y[b]]);(R=0>=m[b]?!0:!1)&&a(A).css({cursor:"default"});!F&&!c.desktopClickDrag&&a(A).css({cursor:"default"});c.scrollbar&&!R&&(a("."+B).css({margin:c.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+B+" ."+u).css({border:c.scrollbarBorder}),l=parseInt(a("."+B).css("marginLeft"))+ parseInt(a("."+B).css("marginRight")),x=parseInt(a("."+B+" ."+u).css("borderLeftWidth"),10)+parseInt(a("."+B+" ."+u).css("borderRightWidth"),10),n=""!=c.scrollbarContainer?a(c.scrollbarContainer).width():q,p=(n-l)/E,c.scrollbarHide||(P=c.scrollbarOpacity),a("."+B).css({position:"absolute",left:0,width:n-l+"px",margin:c.scrollbarMargin}),"top"==c.scrollbarLocation?a("."+B).css("top","0"):a("."+B).css("bottom","0"),a("."+B+" ."+u).css({borderRadius:c.scrollbarBorderRadius,background:c.scrollbarBackground, height:c.scrollbarHeight,width:p-x+"px",minWidth:c.scrollbarHeight,border:c.scrollbarBorder,webkitPerspective:1E3,webkitBackfaceVisibility:"hidden",position:"relative",opacity:P,filter:"alpha(opacity:"+100*P+")",boxShadow:c.scrollbarShadow}),e.setSliderOffset(a("."+B+" ."+u),Math.floor((-1*j[y[b]]-f[b])/(m[b]-f[b])*(n-l-p))),a("."+B).css({display:"block"}),J=a("."+B+" ."+u),v=a("."+B));c.scrollbarDrag&&!R&&a("."+B+" ."+u).css({cursor:$});c.infiniteSlider&&(L=(m[b]+q)/3);""!=c.navSlideSelector&&a(c.navSlideSelector).each(function(d){a(this).css({cursor:"pointer"}); a(this).unbind(U).bind(U,function(){e.changeSlide(d,A,C,h,u,p,q,n,l,x,I,j,b,L,E,k,c)})});""!=c.navPrevSelector&&(a(c.navPrevSelector).css({cursor:"pointer"}),a(c.navPrevSelector).unbind(U).bind(U,function(){var a=(y[b]+D[b]+E)%E;(0<a||c.infiniteSlider)&&e.changeSlide(a-1,A,C,h,u,p,q,n,l,x,I,j,b,L,E,k,c)}));""!=c.navNextSelector&&(a(c.navNextSelector).css({cursor:"pointer"}),a(c.navNextSelector).unbind(U).bind(U,function(){var a=(y[b]+D[b]+E)%E;(a<j.length-1||c.infiniteSlider)&&e.changeSlide(a+1,A, C,h,u,p,q,n,l,x,I,j,b,L,E,k,c)}));c.autoSlide&&!R&&(""!=c.autoSlideToggleSelector&&(a(c.autoSlideToggleSelector).css({cursor:"pointer"}),a(c.autoSlideToggleSelector).unbind(U).bind(U,function(){X?(e.autoSlide(A,C,h,u,p,q,n,l,x,I,j,b,L,E,k,c),X=!1,a(c.autoSlideToggleSelector).removeClass("on")):(e.autoSlidePause(b),X=!0,a(c.autoSlideToggleSelector).addClass("on"))})),!X&&!R&&e.autoSlide(A,C,h,u,p,q,n,l,x,I,j,b,L,E,k,c),F?a(g).bind("touchend.iosSliderEvent",function(){!X&&!R&&e.autoSlide(A,C,h,u,p, q,n,l,x,I,j,b,L,E,k,c)}):(a(g).bind("mouseenter.iosSliderEvent",function(){e.autoSlidePause(b)}),a(g).bind("mouseleave.iosSliderEvent",function(){!X&&!R&&e.autoSlide(A,C,h,u,p,q,n,l,x,I,j,b,L,E,k,c)})));a(g).data("iosslider",{obj:ra,settings:c,scrollerNode:A,slideNodes:C,numberOfSlides:E,centeredSlideOffset:k,sliderNumber:b,originalOffsets:I,childrenOffsets:j,sliderMax:m[b],scrollbarClass:u,scrollbarWidth:p,scrollbarStageWidth:n,stageWidth:q,scrollMargin:l,scrollBorder:x,infiniteSliderOffset:D[b], infiniteSliderWidth:L});return!0}ea++;var b=ea,h=[];la[b]=c;f[b]=0;m[b]=0;var M=[0,0],G=[0,0],B="scrollbarBlock"+ea,u="scrollbar"+ea,J,v,n,p,i,z,k=0,g=a(this),q,r,l,x,w;y[b]=c.startAtSlide-1;T[b]=y[b];var t=-1,j,I=[],P=0,K=0,W=0,A=a(this).children(":first-child"),C,E=a(A).children().not("script").size(),S=!1,aa=0,oa=!1,ha=void 0,L;D[b]=0;var R=!1;fa[b]=-1;var X=!1;ma[b]=!1;var ia,ja=!1,ca=!1,U=F?"touchstart.iosSliderEvent":"click.iosSliderEvent";ga[b]=!1;ba[b]=[];c.scrollbarDrag&&(c.scrollbar=!0, c.scrollbarHide=!1);var ra=a(this);if(void 0!=ra.data("iosslider"))return!0;a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()});c.infiniteSlider&&(c.scrollbar=!1);c.scrollbar&&(""!=c.scrollbarContainer?a(c.scrollbarContainer).append("<div class = '"+B+"'><div class = '"+u+"'></div></div>"):a(A).parent().append("<div class = '"+B+"'><div class = '"+u+"'></div></div>"));if(!d())return!0;a(this).find("a").bind("mousedown",e.preventDrag);a(this).find("[onclick]").bind("click", e.preventDrag).each(function(){a(this).data("onclick",this.onclick)});t=e.calcActiveOffset(c,e.getSliderOffset(a(A),"x"),j,q,D[b],E,void 0,b);t=(t+D[b]+E)%E;if(""!=c.onSliderLoaded)c.onSliderLoaded(new e.args(c,A,a(A).children(":eq("+t+")"),t,t));fa[b]=t;if(la[b].responsiveSlides||la[b].responsiveSlideContainer)t=sa?"orientationchange":"resize",a(window).bind(t+".iosSliderEvent",function(){if(!d())return!0});c.keyboardControls&&!R&&a(document).bind("keydown.iosSliderEvent",function(a){!Y&&!Z&&(a= a.originalEvent);switch(a.keyCode){case 37:a=(y[b]+D[b]+E-1)%E;(0<a||c.infiniteSlider)&&e.changeSlide(a,A,C,h,u,p,q,n,l,x,I,j,b,L,E,k,c);break;case 39:a=(y[b]+D[b]+E+1)%E,(a<j.length-1||c.infiniteSlider)&&e.changeSlide(a,A,C,h,u,p,q,n,l,x,I,j,b,L,E,k,c)}});if(F||c.desktopClickDrag&&!R){var pa=F?"touchstart.iosSliderEvent":"mousedown.iosSliderEvent",da=a(A),t=a(A),qa=!1;c.scrollbarDrag&&(da=da.add(J),t=t.add(v));a(da).bind(pa,function(d){if(ga[b]||(qa=e.isUnselectable(d.target,c)))return!0;ia=a(this)[0]=== a(J)[0]?J:A;!Y&&!Z&&(d=d.originalEvent);e.autoSlidePause(b);F?(eventX=d.touches[0].pageX,eventY=d.touches[0].pageY):(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),eventX=d.pageX,eventY=d.pageY,oa=!0,ha=A,a(this).css({cursor:ka}));M=[0,0];G=[0,0];Q=0;S=!1;for(d=0;d<h.length;d++)clearTimeout(h[d]);d=e.getSliderOffset(A,"x");d>-1*f[b]?(d=f[b],e.setSliderOffset(a("."+ u),d),a("."+u).css({width:p-x+"px"})):d<-1*m[b]&&(d=-1*m[b],e.setSliderOffset(A,d),e.setSliderOffset(a("."+u),n-l-p),a("."+u).css({width:p-x+"px"}));d=a(this)[0]===a(J)[0]?f[b]:0;K=-1*(e.getSliderOffset(this,"x")-eventX-d);e.getSliderOffset(this,"y");M[1]=eventX;G[1]=eventY;ca=!1});pa=F?"touchmove.iosSliderEvent":"mousemove.iosSliderEvent";a(t).bind(pa,function(d){!Y&&!Z&&(d=d.originalEvent);if(qa)return!0;var h=0;F||(window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&& window.getSelection().removeAllRanges():document.selection&&document.selection.empty());if(F)eventX=d.touches[0].pageX,eventY=d.touches[0].pageY;else if(eventX=d.pageX,eventY=d.pageY,!oa)return!1;M[0]=M[1];M[1]=eventX;Q=(M[1]-M[0])/2;G[0]=G[1];G[1]=eventY;V=(G[1]-G[0])/2;if(!S&&""!=c.onSlideStart){var g=(y[b]+D[b]+E)%E;c.onSlideStart(new e.args(c,A,a(A).children(":eq("+g+")"),g,g))}if((3<V||-3>V)&&3>Q&&-3<Q&&F&&!S)ja=!0;(5<Q||-5>Q)&&F?(d.preventDefault(),S=!0):F||(S=!0);if(S&&!ja){var g=e.getSliderOffset(A, "x"),i=a(this)[0]===a(v)[0]?f[b]:0,s=a(this)[0]===a(v)[0]?(f[b]-m[b])/(n-l-p):1,r=a(this)[0]===a(v)[0]?c.scrollbarElasticPullResistance:c.elasticPullResistance;F&&(W!=d.touches.length&&(K=-1*g+eventX),W=d.touches.length);if(c.infiniteSlider){if(g<=-1*m[b])if(r=a(A).width(),g<=-1*na[b]){var t=-1*I[0];a(C).each(function(b){e.setSliderOffset(a(C)[b],t+k);b<j.length&&(j[b]=-1*t);t+=a(this).outerWidth()});K-=-1*j[0];f[b]=-1*j[0]+k;m[b]=f[b]+r-q;D[b]=0}else{var H=0,B=e.getSliderOffset(a(C[0]),"x");a(C).each(function(a){e.getSliderOffset(this, "x")<B&&(B=e.getSliderOffset(this,"x"),H=a)});var z=f[b]+r;e.setSliderOffset(a(C)[H],z);f[b]=-1*j[1]+k;m[b]=f[b]+r-q;j.splice(0,1);j.splice(j.length,0,-1*z+k);D[b]++}if(g>=-1*f[b]||0<=g)if(r=a(A).width(),0<=g)t=-1*I[0],a(C).each(function(b){e.setSliderOffset(a(C)[b],t+k);b<j.length&&(j[b]=-1*t);t+=a(this).outerWidth()}),K+=-1*j[0],f[b]=-1*j[0]+k,m[b]=f[b]+r-q,D[b]=E,c.snapSlideCenter&&(z=f[b]-a(C[E-1]).width(),e.setSliderOffset(a(C)[E-1],z),j.splice(0,0,-1*z+k),j.splice(j.length-1,1),f[b]=-1*j[0]+ k,m[b]=f[b]+r-q,D[b]--);else{var J=0,L=e.getSliderOffset(a(C[0]),"x");a(C).each(function(a){e.getSliderOffset(this,"x")>L&&(L=e.getSliderOffset(this,"x"),J=a)});z=f[b]-a(C[J]).outerWidth();e.setSliderOffset(a(C)[J],z);j.splice(0,0,-1*z+k);j.splice(j.length-1,1);f[b]=-1*j[0]+k;m[b]=f[b]+r-q;D[b]--}}else g>-1*f[b]&&(h=-1*(f[b]+-1*(K-i-eventX+k)*s-i)*r/s),g<-1*m[b]&&(h=-1*(m[b]+-1*(K-i-eventX)*s-i)*r/s);e.setSliderOffset(A,-1*(K-i-eventX-h)*s-i);c.scrollbar&&(e.showScrollbar(c,u),O=Math.floor((K-eventX- h-f[b])/(m[b]-f[b])*(n-l-p)*s),i=p,g>=-1*f[b]?(i=p-x- -1*O,e.setSliderOffset(a("."+u),0),a("."+u).css({width:i+"px"})):g<=-1*m[b]+1?(i=n-l-x-O,e.setSliderOffset(a("."+u),O),a("."+u).css({width:i+"px"})):e.setSliderOffset(a("."+u),O));F&&(w=d.touches[0].pageX);d=!1;h=e.calcActiveOffset(c,-1*(K-eventX-h),j,q,D[b],E,void 0,b);g=(h+D[b]+E)%E;c.infiniteSlider?g!=T[b]&&(d=!0):h!=y[b]&&(d=!0);if(d&&(y[b]=h,T[b]=g,ca=!0,""!=c.onSlideChange))c.onSlideChange(new e.args(c,A,a(A).children(":eq("+g+")"),g,g))}}); a(da).bind("touchend.iosSliderEvent",function(a){a=a.originalEvent;if(qa)return!0;if(0!=a.touches.length)for(var d=0;d<a.touches.length;d++)a.touches[d].pageX==w&&e.slowScrollHorizontal(A,C,h,u,Q,V,p,q,n,l,x,I,j,b,L,E,ia,ca,k,c);else e.slowScrollHorizontal(A,C,h,u,Q,V,p,q,n,l,x,I,j,b,L,E,ia,ca,k,c);ja=!1});if(!F){t=a(window);if(Z||Y)t=a(document);a(t).bind("mouseup.iosSliderEvent"+b,function(){S?a(A).children(":eq("+y[b]+")").find("a").unbind("click.disableClick").bind("click.disableClick",e.preventClick): a(A).children(":eq("+y[b]+")").find("a").unbind("click.disableClick").bind("click.disableClick",e.enableClick);a(A).children(":eq("+y[b]+")").find("[onclick]").each(function(){this.onclick=function(b){if(S)return!1;a(this).data("onclick").call(this,b||window.event)}});1.6<=parseFloat(a().jquery)&&a(A).children(":eq("+y[b]+")").find("*").each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!S)return!1;a(this).one("click.disableClick", e.preventClick);var b=a(this).data("events").click,c=b.pop();b.splice(0,0,c)}});if(!ma[b]){a(da).css({cursor:$});oa=!1;if(void 0==ha)return!1;e.slowScrollHorizontal(ha,C,h,u,Q,V,p,q,n,l,x,I,j,b,L,E,ia,ca,k,c);ha=void 0}ja=!1})}}})},destroy:function(h,d){void 0==d&&(d=this);return a(d).each(function(){var c=a(this),d=c.data("iosslider");if(void 0==d)return!1;void 0==h&&(h=!0);e.autoSlidePause(d.sliderNumber);ma[d.sliderNumber]=!0;a(window).unbind(".iosSliderEvent-"+d.sliderNumber);a(document).unbind(".iosSliderEvent-"+ d.sliderNumber);a(this).unbind(".iosSliderEvent");a(this).children(":first-child").unbind(".iosSliderEvent");a(this).children(":first-child").children().unbind(".iosSliderEvent");h&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(d.settings.navSlideSelector).attr("style",""),a(d.settings.navPrevSelector).attr("style",""),a(d.settings.navNextSelector).attr("style",""),a(d.settings.autoSlideToggleSelector).attr("style", ""),a(d.settings.unselectableSelector).attr("style",""));d.settings.scrollbar&&a(".scrollbarBlock"+d.sliderNumber).remove();for(var d=ba[d.sliderNumber],b=0;b<d.length;b++)clearTimeout(d[b]);c.removeData("iosslider")})},update:function(h){void 0==h&&(h=this);return a(h).each(function(){var d=a(this).data("iosslider");if(void 0==d)return!1;P.destroy(!1,this);d.settings.startAtSlide=(y[d.sliderNumber]+1+D[d.sliderNumber]+d.numberOfSlides)%d.numberOfSlides;P.init(d.settings,this);if(""!=d.settings.onSliderUpdate)d.settings.onSliderUpdate(new e.args(d.settings, d.scrollerNode,a(d.scrollerNode).children(":eq("+(d.settings.startAtSlide-1)+")"),d.settings.startAtSlide-1,d.settings.startAtSlide-1))})},addSlide:function(e,d){return this.each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;d<=c.numberOfSlides?a(c.scrollerNode).children(":eq("+(d-1)+")").before(e):a(c.scrollerNode).children(":eq("+(d-2)+")").after(e);y[c.sliderNumber]>d-2&&y[c.sliderNumber]++;P.update(this)})},removeSlide:function(e){return this.each(function(){var d=a(this).data("iosslider"); if(void 0==d)return!1;a(d.scrollerNode).children(":eq("+(e-1)+")").remove();y[d.sliderNumber]>e-1&&y[d.sliderNumber]--;P.update(this)})},goToSlide:function(f,d){void 0==d&&(d=this);return a(d).each(function(){var c=a(this).data("iosslider");if(void 0==c)return!1;f=(f-1+c.numberOfSlides)%c.numberOfSlides;e.changeSlide(f,a(c.scrollerNode),a(c.slideNodes),ba[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets, c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides,c.centeredSlideOffset,c.settings);y[c.sliderNumber]=f})},lock:function(){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;ga[e.sliderNumber]=!0})},unlock:function(){return this.each(function(){var e=a(this).data("iosslider");if(void 0==e)return!1;ga[e.sliderNumber]=!1})}};a.fn.iosSlider=function(e){if(P[e])return P[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof e||!e)return P.init.apply(this, arguments);a.error("invalid method call!")}})(jQuery);